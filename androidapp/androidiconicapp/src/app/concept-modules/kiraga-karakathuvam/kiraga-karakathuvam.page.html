<ion-header [translucent]="true">
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/concepts"></ion-back-button>
    </ion-buttons>
    <ion-title class="tamil-text">ЁЯкР роХро┐ро░роХ роХро░ро╛родрпНродрпБро╡роорпН</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="toggleBookmark()">
        <ion-icon [name]="isBookmarked ? 'bookmark' : 'bookmark-outline'" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Hero Banner -->
  <div class="hero-banner" *ngIf="selectedSegment === 'overview'">
    <div class="hero-background"></div>
    <div class="hero-content-wrapper">
      <div class="hero-icon-container">
        <div class="floating-planets">
          <span class="planet-icon">тШЙ</span>
          <span class="planet-icon">тШ╜</span>
          <span class="planet-icon">тЩВ</span>
          <span class="planet-icon">тШ┐</span>
          <span class="planet-icon">тЩГ</span>
        </div>
      </div>
      <h1 class="hero-title">ЁЯкР роХро┐ро░роХ роХро╛ро░роХродрпНродрпБро╡роорпН</h1>
      <p class="hero-subtitle">9 роХро┐ро░роХроЩрпНроХро│ро┐ройрпН роорпБро┤рпБроорпИропро╛рой роЖропрпНро╡рпБ рооро▒рпНро▒рпБроорпН роХро╛ро░роХродрпНродрпБро╡ рокрогрпНрокрпБроХро│рпН</p>
      
      <!-- Course Meta Information -->
      <div class="course-meta-grid">
        <div class="meta-item">
          <ion-icon name="star" class="meta-icon"></ion-icon>
          <span class="meta-label">тВ╣299</span>
        </div>
        <div class="meta-item">
          <ion-icon name="time" class="meta-icon"></ion-icon>
          <span class="meta-label">90 роиро┐рооро┐роЯроЩрпНроХро│рпН</span>
        </div>
        <div class="meta-item">
          <ion-icon name="school" class="meta-icon"></ion-icon>
          <span class="meta-label">роорпЗро▓рпНроиро┐ро▓рпИ</span>
        </div>
      </div>

      <!-- Primary CTA -->
      <div class="hero-actions">
        <ion-button expand="block" class="primary-cta-button" (click)="navigateToAnalysis()">
          <ion-icon name="analytics" slot="start"></ion-icon>
          роХро┐ро░роХ роЖропрпНро╡рпБ родрпБро╡роЩрпНроХрпБ
        </ion-button>
      </div>
    </div>
  </div>

  <!-- Navigation Tabs -->
  <div class="course-navigation">
    <ion-segment [(ngModel)]="selectedSegment" (ionChange)="onSegmentChange($event)" class="modern-segment">
      <ion-segment-button value="overview" class="nav-tab">
        <div class="tab-content">
          <ion-icon name="list-outline" class="tab-icon"></ion-icon>
          <ion-label class="tab-label">Introduction</ion-label>
        </div>
      </ion-segment-button>
      <ion-segment-button value="detailed" class="nav-tab">
        <div class="tab-content">
          <ion-icon name="planet-outline" class="tab-icon"></ion-icon>
          <ion-label class="tab-label">роХро┐ро░роХроЩрпНроХро│рпН</ion-label>
        </div>
      </ion-segment-button>
      <ion-segment-button value="categories" class="nav-tab">
        <div class="tab-content">
          <ion-icon name="grid-outline" class="tab-icon"></ion-icon>
          <ion-label class="tab-label">ро╡роХрпИрокрпНрокроЯрпБродрпНродро▓рпН</ion-label>
        </div>
      </ion-segment-button>
    </ion-segment>
  </div>

  <!-- Content Sections -->
  <div [ngSwitch]="selectedSegment" class="concept-content">
    
    <!-- Overview Section -->
    <div *ngSwitchCase="'overview'" class="course-content-area">
      <!-- Search and Filter Section -->
      <div class="search-section">
        <ion-searchbar 
          placeholder="роХро┐ро░роХроЩрпНроХро│рпИродрпН родрпЗроЯрпБроЩрпНроХро│рпН..." 
          [(ngModel)]="searchTerm" 
          (ionInput)="filterGrahas()"
          show-clear-button="focus">
        </ion-searchbar>
      </div>

      <!-- Introduction Card -->
      <ion-card class="intro-card">
        <ion-card-header>
          <div class="card-header-content">
            <ion-icon name="library-outline" class="header-icon"></ion-icon>
            <div>
              <ion-card-title>роХро┐ро░роХ роХро╛ро░роХродрпНродрпБро╡ роЕро▒ро┐роорпБроХроорпН</ion-card-title>
              <ion-card-subtitle>Planetary Significances Introduction</ion-card-subtitle>
            </div>
          </div>
        </ion-card-header>
        <ion-card-content>
          <p class="intro-text">
            ро╡рпЗрод роЬрпЛродро┐роЯродрпНродро┐ро▓рпН роТро╡рпНро╡рпКро░рпБ роХро┐ро░роХроорпБроорпН роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ ро╡ро┐ро╖ропроЩрпНроХро│ро┐ройрпН роХро╛ро░роХройро╛роХ (роХрпБро▒ро┐рокрпНрокро╛ройрпН) роЪрпЖропро▓рпНрокроЯрпБроХро┐ро▒родрпБ. 
            роЗроирпНрод роХро╛ро░роХродрпНродрпБро╡роЩрпНроХро│рпН роироородрпБ ро╡ро╛ро┤рпНроХрпНроХрпИропро┐ройрпН рокро▓рпНро╡рпЗро▒рпБ роЕроорпНроЪроЩрпНроХро│рпИ рокро╛родро┐роХрпНроХро┐ройрпНро▒рой. 
            роТро╡рпНро╡рпКро░рпБ роХро┐ро░роХродрпНродро┐ройрпН роХро╛ро░роХродрпНродрпБро╡родрпНродрпИропрпБроорпН рокрпБро░ро┐роирпНродрпБ роХрпКро│рпНро╡родройрпН роорпВро▓роорпН, 
            роироородрпБ роЬро╛родроХродрпНродрпИ роЪро┐ро▒рокрпНрокро╛роХ ро╡ро┐ро│роХрпНроХро┐роХрпН роХрпКро│рпНро│ роорпБроЯро┐ропрпБроорпН.
          </p>
          <div class="info-chips">
            <ion-chip color="primary">
              <ion-icon name="star-outline"></ion-icon>
              <ion-label>роХро╛ро░роХродрпНродрпБро╡роорпН</ion-label>
            </ion-chip>
            <ion-chip color="secondary">
              <ion-icon name="people-outline"></ion-icon>
              <ion-label>роЙро▒ро╡рпБроХро│рпН</ion-label>
            </ion-chip>
            <ion-chip color="tertiary">
              <ion-icon name="fitness-outline"></ion-icon>
              <ion-label>роЙроЯро▓рпН рокро╛роХроЩрпНроХро│рпН</ion-label>
            </ion-chip>
            <ion-chip color="success">
              <ion-icon name="leaf-outline"></ion-icon>
              <ion-label>рокро░ро┐роХро╛ро░роЩрпНроХро│рпН</ion-label>
            </ion-chip>
          </div>
        </ion-card-content>
      </ion-card>
    </div>
  
    <!-- Categories Section -->
    <div *ngSwitchCase="'categories'" class="categories-section">
      <!-- Category Selection Header -->
      <div class="category-header">
        <h2 class="category-main-title">ро╡роХрпИрокрпНрокроЯрпБродрпНродро▓рпН родрпЗро░рпНро╡рпБ</h2>
        <p class="category-subtitle">роХро┐ро░роХроЩрпНроХро│рпИ ро╡рпЖро╡рпНро╡рпЗро▒рпБ рокрогрпНрокрпБроХро│ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роТрокрпНрокро┐роЯрпНроЯрпБ рокро╛ро░рпНроХрпНроХро╡рпБроорпН</p>
      </div>

      <!-- Category Selection Chips -->
      <div class="category-selector">
        <div class="category-chips">
          <ion-chip 
            *ngFor="let category of categories" 
            [color]="selectedCategory === category.key ? 'primary' : 'medium'"
            (click)="selectCategory(category.key)"
            class="category-chip">
            <ion-icon [name]="category.icon" slot="start"></ion-icon>
            <ion-label>{{category.name}}</ion-label>
          </ion-chip>
        </div>
      </div>

      <!-- Selected Category Info -->
      <div class="category-info-banner" *ngIf="selectedCategory">
        <div class="category-info-content">
          <ion-icon [name]="getCategoryIcon(selectedCategory)" [color]="getCategoryColor(selectedCategory)"></ion-icon>
          <div class="category-info-text">
            <h3>{{getCategoryInfo(selectedCategory)?.name}}</h3>
            <p>{{getCategoryInfo(selectedCategory)?.description}}</p>
          </div>
        </div>
      </div>

      <!-- Category Content Grid -->
      <div class="category-content" *ngIf="selectedCategory">
        <div class="category-grid">
          <div class="category-card" *ngFor="let graha of filteredGrahas" 
               [attr.data-category]="selectedCategory"
               [attr.data-planet]="graha.id">
            <div class="category-card-header">
              <div class="planet-symbol" [style.color]="graha.color">{{graha.symbol}}</div>
              <div class="planet-info">
                <h4>{{graha.name}}</h4>
                <p>{{graha.nameEnglish}}</p>
              </div>
            </div>
            
            <div class="category-card-content">
              <!-- Gemstone Category -->
              <div *ngIf="selectedCategory === 'gem'" class="category-info">
                <div class="gem-info">
                  <ion-icon name="diamond" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                  <div class="gem-details">
                    <span class="gem-name">{{graha.gemstone}}</span>
                    <p class="gem-benefit">рокро▓роорпН рооро▒рпНро▒рпБроорпН роиройрпНроорпИроХро│рпИ роЕродро┐роХро░ро┐роХрпНроХрпБроорпН</p>
                  </div>
                </div>
              </div>

              <!-- Metal Category -->
              <div *ngIf="selectedCategory === 'metal'" class="category-info">
                <div class="metal-info">
                  <ion-icon name="hardware-chip" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                  <div class="metal-details">
                    <span class="metal-name">{{graha.metal}}</span>
                    <p class="metal-benefit">роиро╛роХро░ро┐роХроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН рокропройрпНрокро╛роЯрпБроХро│рпН</p>
                  </div>
                </div>
              </div>

              <!-- Direction Category -->
              <div *ngIf="selectedCategory === 'direction'" class="category-info">
                <div class="direction-info">
                  <ion-icon name="compass" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                  <div class="direction-details">
                    <span class="direction-name">{{graha.direction}}</span>
                  </div>
                </div>
              </div>

              <!-- Body Parts Category -->
              <div *ngIf="selectedCategory === 'bodyparts'" class="category-info">
                <div class="bodyparts-list">
                  <!-- Show short view if content is lengthy -->
                  <div *ngIf="shouldShowDetailedView(graha.bodyParts) && !isCategoryExpanded(graha.id, 'bodyparts')">
                    <div class="bodypart-item" *ngFor="let part of getTruncatedData(graha.bodyParts)">
                      <ion-icon name="body" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="bodypart-text">{{part}}</span>
                    </div>
                    <ion-button fill="clear" size="small" class="show-more-btn" 
                                (click)="toggleCategoryExpansion(graha.id, 'bodyparts')">
                      <ion-icon name="chevron-down" slot="start"></ion-icon>
                      +{{getRemainingCount(graha.bodyParts)}} роорпЗро▓рпБроорпН роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                  
                  <!-- Show full view if expanded or content is short -->
                  <div *ngIf="!shouldShowDetailedView(graha.bodyParts) || isCategoryExpanded(graha.id, 'bodyparts')">
                    <div class="bodypart-item" *ngFor="let part of graha.bodyParts">
                      <ion-icon name="body" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="bodypart-text">{{part}}</span>
                    </div>
                    <ion-button *ngIf="shouldShowDetailedView(graha.bodyParts) && isCategoryExpanded(graha.id, 'bodyparts')" 
                                fill="clear" size="small" class="show-less-btn"
                                (click)="toggleCategoryExpansion(graha.id, 'bodyparts')">
                      <ion-icon name="chevron-up" slot="start"></ion-icon>
                      роХрпБро▒рпИро╡ро╛роХ роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                </div>
              </div>

              <!-- Diseases Category -->
              <div *ngIf="selectedCategory === 'diseases'" class="category-info">
                <div class="diseases-list">
                  <!-- Show short view if content is lengthy -->
                  <div *ngIf="shouldShowDetailedView(graha.diseases) && !isCategoryExpanded(graha.id, 'diseases')">
                    <div class="disease-item" *ngFor="let disease of getTruncatedData(graha.diseases)">
                      <ion-icon name="medical" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="disease-text">{{disease}}</span>
                    </div>
                    <ion-button fill="clear" size="small" class="show-more-btn" 
                                (click)="toggleCategoryExpansion(graha.id, 'diseases')">
                      <ion-icon name="chevron-down" slot="start"></ion-icon>
                      +{{getRemainingCount(graha.diseases)}} роорпЗро▓рпБроорпН роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                  
                  <!-- Show full view if expanded or content is short -->
                  <div *ngIf="!shouldShowDetailedView(graha.diseases) || isCategoryExpanded(graha.id, 'diseases')">
                    <div class="disease-item" *ngFor="let disease of graha.diseases">
                      <ion-icon name="medical" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="disease-text">{{disease}}</span>
                    </div>
                    <ion-button *ngIf="shouldShowDetailedView(graha.diseases) && isCategoryExpanded(graha.id, 'diseases')" 
                                fill="clear" size="small" class="show-less-btn"
                                (click)="toggleCategoryExpansion(graha.id, 'diseases')">
                      <ion-icon name="chevron-up" slot="start"></ion-icon>
                      роХрпБро▒рпИро╡ро╛роХ роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                </div>
              </div>

              <!-- Professions Category -->
              <div *ngIf="selectedCategory === 'professions'" class="category-info">
                <div class="professions-list">
                  <!-- Show short view if content is lengthy -->
                  <div *ngIf="shouldShowDetailedView(graha.professions) && !isCategoryExpanded(graha.id, 'professions')">
                    <div class="profession-item" *ngFor="let profession of getTruncatedData(graha.professions)">
                      <ion-icon name="briefcase" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="profession-text">{{profession}}</span>
                    </div>
                    <ion-button fill="clear" size="small" class="show-more-btn" 
                                (click)="toggleCategoryExpansion(graha.id, 'professions')">
                      <ion-icon name="chevron-down" slot="start"></ion-icon>
                      +{{getRemainingCount(graha.professions)}} роорпЗро▓рпБроорпН роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                  
                  <!-- Show full view if expanded or content is short -->
                  <div *ngIf="!shouldShowDetailedView(graha.professions) || isCategoryExpanded(graha.id, 'professions')">
                    <div class="profession-item" *ngFor="let profession of graha.professions">
                      <ion-icon name="briefcase" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="profession-text">{{profession}}</span>
                    </div>
                    <ion-button *ngIf="shouldShowDetailedView(graha.professions) && isCategoryExpanded(graha.id, 'professions')" 
                                fill="clear" size="small" class="show-less-btn"
                                (click)="toggleCategoryExpansion(graha.id, 'professions')">
                      <ion-icon name="chevron-up" slot="start"></ion-icon>
                      роХрпБро▒рпИро╡ро╛роХ роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                </div>
              </div>

              <!-- Relationships Category -->
              <div *ngIf="selectedCategory === 'relationships'" class="category-info">
                <div class="relationships-list">
                  <!-- Show short view if content is lengthy -->
                  <div *ngIf="shouldShowDetailedView(graha.relationships) && !isCategoryExpanded(graha.id, 'relationships')">
                    <div class="relationship-item" *ngFor="let relationship of getTruncatedData(graha.relationships)">
                      <ion-icon name="people" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="relationship-text">{{relationship}}</span>
                    </div>
                    <ion-button fill="clear" size="small" class="show-more-btn" 
                                (click)="toggleCategoryExpansion(graha.id, 'relationships')">
                      <ion-icon name="chevron-down" slot="start"></ion-icon>
                      +{{getRemainingCount(graha.relationships)}} роорпЗро▓рпБроорпН роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                  
                  <!-- Show full view if expanded or content is short -->
                  <div *ngIf="!shouldShowDetailedView(graha.relationships) || isCategoryExpanded(graha.id, 'relationships')">
                    <div class="relationship-item" *ngFor="let relationship of graha.relationships">
                      <ion-icon name="people" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="relationship-text">{{relationship}}</span>
                    </div>
                    <ion-button *ngIf="shouldShowDetailedView(graha.relationships) && isCategoryExpanded(graha.id, 'relationships')" 
                                fill="clear" size="small" class="show-less-btn"
                                (click)="toggleCategoryExpansion(graha.id, 'relationships')">
                      <ion-icon name="chevron-up" slot="start"></ion-icon>
                      роХрпБро▒рпИро╡ро╛роХ роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                </div>
              </div>

              <!-- Remedies Category -->
              <div *ngIf="selectedCategory === 'remedies'" class="category-info">
                <div class="remedies-list">
                  <!-- Show short view if content is lengthy -->
                  <div *ngIf="shouldShowDetailedView(graha.remedies) && !isCategoryExpanded(graha.id, 'remedies')">
                    <div class="remedy-item" *ngFor="let remedy of getTruncatedData(graha.remedies)">
                      <ion-icon name="leaf" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="remedy-text">{{remedy}}</span>
                    </div>
                    <ion-button fill="clear" size="small" class="show-more-btn" 
                                (click)="toggleCategoryExpansion(graha.id, 'remedies')">
                      <ion-icon name="chevron-down" slot="start"></ion-icon>
                      +{{getRemainingCount(graha.remedies)}} роорпЗро▓рпБроорпН роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                  
                  <!-- Show full view if expanded or content is short -->
                  <div *ngIf="!shouldShowDetailedView(graha.remedies) || isCategoryExpanded(graha.id, 'remedies')">
                    <div class="remedy-item" *ngFor="let remedy of graha.remedies">
                      <ion-icon name="leaf" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <span class="remedy-text">{{remedy}}</span>
                    </div>
                    <ion-button *ngIf="shouldShowDetailedView(graha.remedies) && isCategoryExpanded(graha.id, 'remedies')" 
                                fill="clear" size="small" class="show-less-btn"
                                (click)="toggleCategoryExpansion(graha.id, 'remedies')">
                      <ion-icon name="chevron-up" slot="start"></ion-icon>
                      роХрпБро▒рпИро╡ро╛роХ роХро╛роЯрпНроЯрпБ
                    </ion-button>
                  </div>
                </div>
              </div>

              <!-- Exaltation/Debilitation Category -->
              <div *ngIf="selectedCategory === 'exaltation'" class="category-info">
                <div class="exaltation-info">
                  <div class="astro-details">
                    <div class="exaltation-item">
                      <ion-icon name="trending-up" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                      <div class="exaltation-details">
                        <span class="exaltation-label">роЙроЪрпНроЪроорпН:</span>
                        <span class="exaltation-value">{{graha.exaltationSign}} - {{graha.exaltationDegree}}</span>
                      </div>
                    </div>
                    <div class="debilitation-item">
                      <ion-icon name="trending-down" color="danger"></ion-icon>
                      <div class="debilitation-details">
                        <span class="debilitation-label">роирпАроЪроорпН:</span>
                        <span class="debilitation-value">{{graha.debilitationSign}} - {{graha.debilitationDegree}}</span>
                      </div>
                    </div>
                  </div>
                  <p class="astro-benefit">роХро┐ро░роХродрпНродро┐ройрпН ро╡ро▓ро┐роорпИ рооро▒рпНро▒рпБроорпН рокро▓ро╡рпАройроорпН</p>
                </div>
              </div>

              <!-- Moolatrikona Category -->
              <div *ngIf="selectedCategory === 'moolatrikona'" class="category-info">
                <div class="moolatrikona-info">
                  <ion-icon name="triangle" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                  <div class="moolatrikona-details">
                    <span class="moolatrikona-name">{{graha.moolaTrikona}}</span>
                    <p class="moolatrikona-benefit">роХро┐ро░роХродрпНродро┐ройрпН роЪро┐ро▒рокрпНрокрпБ ро░ро╛роЪро┐ рооро▒рпНро▒рпБроорпН роЕроорпНроЪроорпН</p>
                  </div>
                </div>
              </div>

              <!-- Dasa Category -->
              <div *ngIf="selectedCategory === 'dasa'" class="category-info">
                <div class="dasa-info">
                  <ion-icon name="time" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                  <div class="dasa-details">
                    <span class="dasa-name">{{graha.dasaPeriod}}</span>
                    <p class="dasa-benefit">роХро┐ро░роХродрпНродро┐ройрпН роороХро╛родроЪро╛ роХро╛ро▓роорпН</p>
                  </div>
                </div>
              </div>

              <!-- Natchithram Category -->
              <div *ngIf="selectedCategory === 'natchithram'" class="category-info">
                <div class="natchithram-info">
                  <ion-icon name="star" [color]="getCategoryColor(selectedCategory)"></ion-icon>
                  <div class="natchithram-details">
                    <span class="natchithram-list">{{graha.natchithram.join(', ')}}</span>
                    <p class="natchithram-benefit">роХро┐ро░роХроорпН роЖро│рпБроорпН роироЯрпНроЪродрпНродро┐ро░роЩрпНроХро│рпН</p>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="category-card-actions">
              <ion-button fill="clear" size="small" (click)="shareGrahaInfo(graha)">
                <ion-icon name="share-outline" slot="start"></ion-icon>
                рокроХро┐ро░рпН
              </ion-button>
              <ion-button fill="clear" size="small" (click)="expandGrahaDetails(graha)">
                <ion-icon name="information-circle-outline" slot="start"></ion-icon>
                ро╡ро┐ро│роХрпНроХроорпН
              </ion-button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Detailed Information Section -->
    <div *ngSwitchCase="'detailed'" class="detailed-section">
      <div class="detailed-card" *ngFor="let graha of filteredGrahas" [class.expanded]="graha.expanded">
        <div class="detailed-header" (click)="graha.expanded = !graha.expanded">
          <div class="header-left">
            <div class="planet-symbol-detailed">{{graha.symbol}}</div>
            <div class="planet-title-detailed">
              <h3>{{graha.name}}</h3>
              <p>{{graha.nameEnglish}}</p>
            </div>
          </div>
          <ion-icon [name]="graha.expanded ? 'chevron-up' : 'chevron-down'" class="expand-icon"></ion-icon>
        </div>
        
        <div class="detailed-content" *ngIf="graha.expanded">
          <div class="details-grid">
            <!-- Basic Information -->
            <div class="detail-section">
              <h4 class="detail-title">роЕроЯро┐рокрпНрокроЯрпИ родроХро╡ро▓рпНроХро│рпН</h4>
              <div class="detail-grid">
                <div class="detail-item">
                  <span class="detail-label">ро╡роХрпИ:</span>
                  <span class="detail-value">{{graha.type === 'benefic' ? 'роиройрпНроорпИ роХро┐ро░роХроорпН' : graha.type === 'malefic' ? 'родрпАроорпИ роХро┐ро░роХроорпН' : 'роироЯрпБроиро┐ро▓рпИ роХро┐ро░роХроорпН'}}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">рокроЮрпНроЪрокрпВродроорпН:</span>
                  <span class="detail-value">{{graha.element}}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">роиро╛ро│рпН:</span>
                  <span class="detail-value">{{graha.day}}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">ро╡рогрпНрогроорпН:</span>
                  <span class="detail-value">{{graha.color}}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">ро░родрпНродро┐ройроорпН:</span>
                  <span class="detail-value">{{graha.gemstone}}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">роЙро▓рпЛроХроорпН:</span>
                  <span class="detail-value">{{graha.metal}}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">родро┐роЪрпИ:</span>
                  <span class="detail-value">{{graha.direction}}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">родроЪро╛ роХро╛ро▓роорпН:</span>
                  <span class="detail-value">{{graha.dasaPeriod}}</span>
                </div>
              </div>
            </div>

            <!-- Significances -->
            <div class="detail-section">
              <h4 class="detail-title">роХро╛ро░роХродрпНродрпБро╡роЩрпНроХро│рпН</h4>
              <div class="significance-list">
                <div class="significance-item" *ngFor="let sig of graha.significances">
                  <ion-icon name="arrow-forward" color="primary"></ion-icon>
                  <span>{{sig}}</span>
                </div>
              </div>
            </div>

            <!-- Body Parts and Health -->
            <div class="detail-section">
              <h4 class="detail-title">роЙроЯро▓рпН рокро╛роХроЩрпНроХро│рпН & роирпЛропрпНроХро│рпН</h4>
              <div class="body-health-grid">
                <div class="body-parts">
                  <h5>роЙроЯро▓рпН рокро╛роХроЩрпНроХро│рпН:</h5>
                  <div class="tags-container">
                    <span class="body-tag" *ngFor="let part of graha.bodyParts">{{part}}</span>
                  </div>
                </div>
                <div class="diseases">
                  <h5>роЪроорпНрокроирпНродрокрпНрокроЯрпНроЯ роирпЛропрпНроХро│рпН:</h5>
                  <div class="tags-container">
                    <span class="disease-tag" *ngFor="let disease of graha.diseases">{{disease}}</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Astrological Information -->
            <div class="detail-section">
              <h4 class="detail-title">роЬрпЛродро┐роЯ родроХро╡ро▓рпНроХро│рпН</h4>
              <div class="astro-grid">
                <!-- Exaltation with enhanced display -->
                <div class="astro-item exaltation-highlight">
                  <ion-icon name="trending-up" color="success" slot="start"></ion-icon>
                  <span class="astro-label">роЙроЪрпНроЪ ро░ро╛роЪро┐:</span>
                  <span class="astro-value highlight-success">{{graha.exaltationSign}} - {{graha.exaltationDegree}}</span>
                </div>
                <!-- Debilitation with enhanced display -->
                <div class="astro-item debilitation-highlight">
                  <ion-icon name="trending-down" color="danger" slot="start"></ion-icon>
                  <span class="astro-label">роирпАроЪ ро░ро╛роЪро┐:</span>
                  <span class="astro-value highlight-danger">{{graha.debilitationSign}} - {{graha.debilitationDegree}}</span>
                </div>
                <div class="astro-item">
                  <ion-icon name="home" color="primary" slot="start"></ion-icon>
                  <span class="astro-label">роЪрпКроирпНрод ро░ро╛роЪро┐:</span>
                  <span class="astro-value">{{graha.ownSigns.join(', ')}}</span>
                </div>
                <!-- Moolatrikona with enhanced display -->
                <div class="astro-item moolatrikona-highlight" *ngIf="graha.moolaTrikona">
                  <ion-icon name="triangle" color="tertiary" slot="start"></ion-icon>
                  <span class="astro-label">роорпВро▓ родро┐ро░ро┐роХрпЛрогроорпН:</span>
                  <span class="astro-value highlight-tertiary">{{graha.moolaTrikona}}</span>
                </div>
                <!-- Dasa Period with enhanced display -->
                <div class="astro-item dasa-highlight" *ngIf="graha.dasaPeriod">
                  <ion-icon name="time" color="warning" slot="start"></ion-icon>
                  <span class="astro-label">роороХро╛родроЪро╛ роХро╛ро▓роорпН:</span>
                  <span class="astro-value highlight-warning">{{graha.dasaPeriod}}</span>
                </div>
                <!-- Natchithram with enhanced display -->
                <div class="astro-item natchithram-highlight" *ngIf="graha.natchithram && graha.natchithram.length > 0">
                  <ion-icon name="star" color="secondary" slot="start"></ion-icon>
                  <span class="astro-label">роироЯрпНроЪродрпНродро┐ро░роЩрпНроХро│рпН:</span>
                  <span class="astro-value highlight-secondary">{{graha.natchithram.join(', ')}}</span>
                </div>
              </div>
              
              <!-- Additional astrological details -->
              <div class="astro-info-summary" *ngIf="graha.moolaTrikona || graha.dasaPeriod || (graha.natchithram && graha.natchithram.length > 0)">
                <ion-card class="astro-summary-card">
                  <ion-card-content>
                    <p class="astro-summary-text">
                      <strong>{{graha.name}}</strong> роХро┐ро░роХроорпН 
                      <span class="highlight-success">{{graha.exaltationSign}} {{graha.exaltationDegree}}</span> роЗро▓рпН роЙроЪрпНроЪроорпН рокрпЖро▒рпНро▒рпБ, 
                      <span class="highlight-danger">{{graha.debilitationSign}} {{graha.debilitationDegree}}</span> роЗро▓рпН роирпАроЪроорпН роЕроЯрпИроХро┐ро▒родрпБ. 
                      <span class="highlight-tertiary" *ngIf="graha.moolaTrikona">{{graha.moolaTrikona}}</span> <span *ngIf="graha.moolaTrikona">роЗродройрпН роорпВро▓ родро┐ро░ро┐роХрпЛрог роиро┐ро▓рпИропро╛роХрпБроорпН.</span>
                      <span class="highlight-warning" *ngIf="graha.dasaPeriod">{{graha.dasaPeriod}}</span> <span *ngIf="graha.dasaPeriod">роЗродройрпН роороХро╛родроЪро╛ роХро╛ро▓рооро╛роХрпБроорпН.</span>
                      <span class="highlight-secondary" *ngIf="graha.natchithram && graha.natchithram.length > 0">{{graha.natchithram.join(', ')}}</span> <span *ngIf="graha.natchithram && graha.natchithram.length > 0">роЗродройрпН роироЯрпНроЪродрпНродро┐ро░роЩрпНроХро│ро╛роХрпБроорпН.</span>
                    </p>
                  </ion-card-content>
                </ion-card>
              </div>
            </div>

            <!-- Planetary Relationships -->
            <div class="detail-section">
              <h4 class="detail-title">роХро┐ро░роХ роЙро▒ро╡рпБроХро│рпН</h4>
              <div class="relationship-section">
                <div class="friend-planets">
                  <h5>роирогрпНрокро░рпН роХро┐ро░роХроЩрпНроХро│рпН:</h5>
                  <div class="planet-relationship-tags">
                    <span class="friend-tag" *ngFor="let friend of graha.friendlyPlanets">{{friend}}</span>
                  </div>
                </div>
                <div class="enemy-planets" *ngIf="graha.enemyPlanets.length > 0">
                  <h5>роОродро┐ро░ро┐ роХро┐ро░роХроЩрпНроХро│рпН:</h5>
                  <div class="planet-relationship-tags">
                    <span class="enemy-tag" *ngFor="let enemy of graha.enemyPlanets">{{enemy}}</span>
                  </div>
                </div>
                <div class="neutral-planets" *ngIf="graha.neutralPlanets.length > 0">
                  <h5>роироЯрпБроиро┐ро▓рпИ роХро┐ро░роХроЩрпНроХро│рпН:</h5>
                  <div class="planet-relationship-tags">
                    <span class="neutral-tag" *ngFor="let neutral of graha.neutralPlanets">{{neutral}}</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Remedies -->
            <div class="detail-section">
              <h4 class="detail-title">рокро░ро┐роХро╛ро░роЩрпНроХро│рпН</h4>
              <div class="remedies-section">
                <div class="remedy-practices">
                  <h5>рокро░ро┐роХро╛ро░ роорпБро▒рпИроХро│рпН:</h5>
                  <div class="remedy-list">
                    <div class="remedy-item" *ngFor="let remedy of graha.remedies">
                      <ion-icon name="leaf" color="success"></ion-icon>
                      <span>{{remedy}}</span>
                    </div>
                  </div>
                </div>
                <div class="mantras">
                  <h5>роороирпНродро┐ро░роЩрпНроХро│рпН:</h5>
                  <div class="mantra-list">
                    <div class="mantra-item" *ngFor="let mantra of graha.mantras">
                      <ion-icon name="musical-notes" color="tertiary"></ion-icon>
                      <span class="mantra-text">{{mantra}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Reference Card -->
  <ion-card class="reference-card">
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="bookmark" color="primary"></ion-icon>
        ро╡ро┐ро░рпИро╡рпБ роХрпБро▒ро┐рокрпНрокрпБ
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p><strong>роХро╛ро░роХродрпНродрпБро╡роорпН:</strong> роТро╡рпНро╡рпКро░рпБ роХро┐ро░роХроорпБроорпН роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ ро╡ро┐ро╖ропроЩрпНроХро│ро┐ройрпН роХрпБро▒ро┐рокрпНрокро╛ройрпН</p>
      <p><strong>роХро╛ро░роХройрпН:</strong> роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ ро╡ро┐ро╖ропродрпНродро┐ройрпН роорпБроХрпНроХро┐роп роХро╛ро░рогроХро░рпНродрпНродро╛</p>
      <p><strong>рокропройрпН:</strong> роЬро╛родроХ рокро▓ройрпН роХрогро┐рокрпНрокро┐ро▓рпН роорпБроХрпНроХро┐роп рокроЩрпНроХрпБ ро╡роХро┐роХрпНроХро┐ро▒родрпБ</p>
    </ion-card-content>
  </ion-card>

</ion-content>
