<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/concepts"></ion-back-button>
    </ion-buttons>
    <ion-title class="tamil-text">DNA ஜோதிஷம்</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="toggleBookmark()">
        <ion-icon slot="icon-only" [name]="isBookmarked ? 'bookmark' : 'bookmark-outline'"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-image">
      <ion-icon name="dna" size="large" color="light"></ion-icon>
    </div>
    <div class="hero-content">
      <h1 class="tamil-text">DNA ஜோதிஷம்</h1>
      <p class="subtitle">Modern Astrological Research with Genetic Science</p>
      <div class="meta-info">
        <ion-chip color="success" size="small">
          <ion-icon name="time" slot="start"></ion-icon>
          <ion-label>45 நிமிடங்கள்</ion-label>
        </ion-chip>
        <ion-chip color="primary" size="small">
          <ion-icon name="school" slot="start"></ion-icon>
          <ion-label>மேம்பட்ட</ion-label>
        </ion-chip>
        <ion-chip color="warning" size="small">
          <ion-icon name="card" slot="start"></ion-icon>
          <ion-label>₹299</ion-label>
        </ion-chip>
      </div>
    </div>
  </div>

  <!-- Welcome Content -->
  <div class="content-section">
    <ion-card class="welcome-card">
      <ion-card-header>
        <ion-card-title class="tamil-text">
          <ion-icon name="sparkles" color="primary"></ion-icon>
          வரவேற்கிறோம்!
        </ion-card-title>
        <ion-card-subtitle>Welcome to DNA Astrology</ion-card-subtitle>
      </ion-card-header>
      
      <ion-card-content>
        <div class="welcome-content">
          <h3 class="tamil-text">மரபணு ஜோதிட அறிவியல்</h3>
          <p class="tamil-text">
            நவீன அறிவியலும் பாரம்பரிய ஜோதிடமும் இணைந்த ஒரு புதிய அணுகுமுறை! 
            உங்கள் மரபணு (DNA) வரிசையின் அடிப்படையில் துல்லியமான ஜோதிட கணிப்புகளை அறிந்து கொள்ளுங்கள்.
          </p>
          
          <div class="features-grid">
            <div class="feature-item">
              <ion-icon name="analytics" color="primary"></ion-icon>
              <h4>மரபணு பகுப்பாய்வு</h4>
              <p>உங்கள் DNA வரிசையின் ஜோதிட தாக்கம்</p>
            </div>
            
            <div class="feature-item">
              <ion-icon name="planet" color="secondary"></ion-icon>
              <h4>கோள் தாக்கம்</h4>
              <p>மரபணு அடிப்படையிலான கிரக பலன்கள்</p>
            </div>
            
            <div class="feature-item">
              <ion-icon name="library" color="tertiary"></ion-icon>
              <h4>பூர்வ ஜென்ம கர்மா</h4>
              <p>மரபு வழியாக வரும் கர்ம தோஷங்கள்</p>
            </div>
            
            <div class="feature-item">
              <ion-icon name="medical" color="success"></ion-icon>
              <h4>அறிவியல் பரிகாரம்</h4>
              <p>ஆதார பூர்வமான நவீன பரிகாரங்கள்</p>
            </div>
          </div>

          <div class="course-highlights">
            <h4 class="tamil-text">இந்த பாடத்தில் நீங்கள் கற்றுக்கொள்வது:</h4>
            <ul>
              <li class="tamil-text">மரபணு வரிசை மற்றும் ஜோதிட இணைப்பு</li>
              <li class="tamil-text">குலதெய்வம் கண்டறிதல் - DNA முறையில்</li>
              <li class="tamil-text">எப்பிஜெனெடிக் கர்ம சுத்திகரிப்பு</li>
              <li class="tamil-text">ஜீன் அடிப்படையிலான கிரக பரிகாரங்கள்</li>
              <li class="tamil-text">நவீன மந்திர ஜபம் மற்றும் யந்திர பிரயோகம்</li>
            </ul>
          </div>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Overview Section - Natchathira Samantham -->
    <ion-card class="overview-card" (click)="toggleOverview()">
      <ion-card-header>
        <div class="overview-header">
          <ion-icon name="star" color="warning"></ion-icon>
          <div class="overview-info">
            <ion-card-title class="tamil-text">நட்சத்திர தொடர்பு</ion-card-title>
            <ion-card-subtitle class="tamil-text">நட்சத்திர தொடர்பு - நட்சத்திர பொருத்த கண்ணோட்டம்</ion-card-subtitle>
          </div>
          <div class="expand-icon">
            <ion-icon 
              [name]="showOverview ? 'chevron-up' : 'chevron-down'"
              color="light">
            </ion-icon>
          </div>
        </div>
      </ion-card-header>
      
      <ion-card-content *ngIf="showOverview" class="overview-content">
        <div class="overview-description">
          <p class="tamil-text">
            கிரகங்கள் மற்றும் நட்சத்திரங்களின் தொடர்பு உங்கள் மரபணுவில் எவ்வாறு 
            பதிவாகியுள்ளது என்பதை பற்றிய விரிவான அட்டவணை.
          </p>
          <p>
            Detailed table showing how planets and stars are interconnected 
            with your genetic makeup and birth star compatibility.
          </p>
        </div>
        
        <div class="compatibility-table-container">
          <table class="compatibility-table">
            <thead>
              <tr class="table-header">
                <th class="header-cell tamil-text">கிரகம்</th>
                <th class="header-cell tamil-text">தோஷம்</th>
                <th class="header-cell tamil-text">நட்சத்திரங்கள் ஆதிக்கம்</th>
                <th class="header-cell tamil-text">பிறந்தது</th>
                <th class="header-cell tamil-text">குறிப்பு</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let compatibility of compatibilityData">
                <tr *ngFor="let row of compatibility.rows; let isFirst = first; let i = index" class="table-row">
                  <td class="table-cell planet-cell" *ngIf="isFirst" [attr.rowspan]="compatibility.rows.length">
                    <div class="planet-name">
                      <ion-icon [name]="compatibility.icon" [color]="compatibility.color"></ion-icon>
                      <span class="tamil-text">{{compatibility.planet}}</span>
                    </div>
                  </td>
                  <td class="table-cell tamil-text dosham-cell">
                    <div *ngFor="let dosham of row.dosham" class="nakshathram-item">
                      {{dosham}}
                    </div>
                  </td>
                  <td class="table-cell tamil-text adhikam-cell">
                    <div *ngFor="let adhikam of row.adhikam" class="nakshathram-item">
                      {{adhikam}}
                    </div>
                  </td>
                  <td class="table-cell tamil-text birth-cell">
                    {{row.birth}}
                  </td>
                  <td class="table-cell tamil-text notes-cell">
                    {{row.note}}
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
        
        <div class="compatibility-notes">
          <h5 class="tamil-text">
            <ion-icon name="information-circle" color="primary"></ion-icon>
            முக்கிய குறிப்புகள்:
          </h5>
          <ul class="tamil-text">
            <li>பச்சை நிறம் - நல்ல பொருத்தம் (Good Compatibility)</li>
            <li>மஞ்சள் நிறம் - நடுத்தர பொருத்தம் (Medium Compatibility)</li>
            <li>சிவப்பு நிறம் - கவனம் தேவை (Needs Attention)</li>
          </ul>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Planetary Categories Section -->
    <div class="planets-section">
      <h3 class="section-title tamil-text">
        <ion-icon name="planet" color="primary"></ion-icon>
        எட்டு கிரகங்களின் DNA தாக்கம்
      </h3>
      <p class="section-subtitle tamil-text">
        ஒவ்வொரு கிரகமும் உங்கள் மரபணுவில் எவ்வாறு தாக்கம் செலுத்துகிறது என்பதை அறிந்து கொள்ளுங்கள்
      </p>

      <!-- Dynamic Planet Cards -->
      <ion-card 
        *ngFor="let planet of planets; let i = index" 
        class="planet-card"
        [ngClass]="planet.id"
        (click)="togglePlanet(planet)"
        [style.animation-delay]="i * 100 + 'ms'">
        
        <ion-card-header>
          <div class="planet-header">
            <ion-icon [name]="planet.icon" [color]="planet.color"></ion-icon>
            <div class="planet-info">
              <ion-card-title class="tamil-text">{{i + 1}}. {{planet.name}} ({{planet.name}})</ion-card-title>
              <ion-card-subtitle>{{planet.nameEnglish}}</ion-card-subtitle>
            </div>
            <div class="expand-icon">
              <ion-icon 
                [name]="planet.expanded ? 'chevron-up' : 'chevron-down'"
                color="light">
              </ion-icon>
            </div>
          </div>
        </ion-card-header>
        
        <ion-card-content *ngIf="planet.expanded" class="planet-content" [@slideIn]>
          <div class="content-section">
            <h5 class="tamil-text">
              <ion-icon name="analytics" color="primary"></ion-icon>
              மரபணு தாக்கம்:
            </h5>
            <p class="tamil-text">{{planet.geneticImpact}}</p>
            
            <h5 class="tamil-text">
              <ion-icon name="dna" color="secondary"></ion-icon>
              DNA குறிப்பான்கள்:
            </h5>
            <p class="tamil-text">{{planet.dnaMarkers}}</p>
            
            <h5 class="tamil-text">
              <ion-icon name="medical" color="success"></ion-icon>
              பரிகாரங்கள்:
            </h5>
            <p class="tamil-text">{{planet.remedies}}</p>
          </div>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Instructor Information -->
    <ion-card class="instructor-card">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="person-circle" color="primary"></ion-icon>
          வழிகாட்டி</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p class="tamil-text">
          அறிவியல் முறையில் பயிற்சி பெற்ற ஜோதிட நிபுணர்களால் 
          தயாரிக்கப்பட்ட சிறப்பு பாடத்திட்டம்.
        </p>
      </ion-card-content>
    </ion-card>

    <!-- Final CTA Section -->
    <div class="cta-section">
      <h4 class="tamil-text">தொடங்க தயாரா?</h4>
      <p class="tamil-text">
        இந்த புதுமையான ஜோதிட அறிவியல் பயணத்தைத் தொடங்க, 
        முதலில் பாடத்தை வாங்கவும்.
      </p>
      <ion-button expand="block" color="primary" size="large">
        <ion-icon name="card" slot="start"></ion-icon>
        ₹299 க்கு வாங்கவும்
      </ion-button>
      <ion-button expand="block" fill="outline" color="secondary" (click)="shareContent()">
        <ion-icon name="share" slot="start"></ion-icon>
        நண்பர்களுடன் பகிரவும்
      </ion-button>
    </div>
  </div>

</ion-content>
