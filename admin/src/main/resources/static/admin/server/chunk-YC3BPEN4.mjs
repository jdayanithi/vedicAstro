import './polyfills.server.mjs';
import{a as et}from"./chunk-HLMU2EPE.mjs";import{c as dt}from"./chunk-PU47TCY7.mjs";import{b as q}from"./chunk-JTUESSI5.mjs";import{a as it,b as nt,c as at,d as rt,e as ot,f as st,g as lt}from"./chunk-AF37YSCE.mjs";import"./chunk-23SLAFQR.mjs";import"./chunk-ORGMSSGI.mjs";import{Da as W,Ea as K,Fa as tt,I as v,O as E,ba as Y,ea as Z}from"./chunk-5MMNTMZA.mjs";import{$ as A,Bc as X,Cc as V,Ea as B,Jb as n,Kb as g,Kc as J,Lb as f,Ma as o,Mb as D,Na as p,Rb as b,Rc as Q,W as z,X as y,Z as R,_a as $,bb as c,da as _,ea as C,fb as P,gb as d,hb as u,ib as j,jb as L,jc as U,lb as N,ob as i,oc as O,pb as e,qb as m,ua as F,va as H,xb as G,ya as w,zb as h}from"./chunk-Y2VJ442J.mjs";import"./chunk-5XUXGTUW.mjs";function ht(r,a){r&1&&m(0,"div",2)}var ut=new R("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var mt=(()=>{class r{constructor(t,s,l,I,x){this._elementRef=t,this._ngZone=s,this._changeDetectorRef=l,this._animationMode=I,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new F,this._mode="determinate",this._transitionendHandler=k=>{this.animationEnd.observers.length===0||!k.target||!k.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=I==="NoopAnimations",x&&(x.color&&(this.color=this._defaultColor=x.color),this.mode=x.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=ct(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=ct(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(s){return new(s||r)(p(w),p(H),p(U),p(B,8),p(ut,8))}}static{this.\u0275cmp=_({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(s,l){s&2&&(P("aria-valuenow",l._isIndeterminate()?null:l.value)("mode",l.mode),L("mat-"+l.color),j("_mat-animation-noopable",l._isNoopAnimation)("mdc-linear-progress--animation-ready",!l._isNoopAnimation)("mdc-linear-progress--indeterminate",l._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",O],bufferValue:[2,"bufferValue","bufferValue",O],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[$,b],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(s,l){s&1&&(i(0,"div",0),m(1,"div",1),c(2,ht,1,0,"div",2),e(),i(3,"div",3),m(4,"span",4),e(),i(5,"div",5),m(6,"span",4),e()),s&2&&(o(),u("flex-basis",l._getBufferBarFlexBasis()),o(),N(l.mode==="buffer"?2:-1),o(),u("transform",l._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}}return r})();function ct(r,a=0,t=100){return Math.max(a,Math.min(t,r))}var gt=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=C({type:r})}static{this.\u0275inj=y({imports:[v]})}}return r})();var pt=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=C({type:r})}static{this.\u0275inj=y({imports:[E,v,E,v]})}}return r})();var M=class r{constructor(a){this.http=a}apiUrl=`${tt.apiUrl}/dashboard`;getDashboardStats(){return this.http.get(`${this.apiUrl}/stats`)}getCourseStatusChart(){return this.http.get(`${this.apiUrl}/course-status`)}getUserJoiningTrend(){return this.http.get(`${this.apiUrl}/user-joining-trend`)}getPaymentTrend(){return this.http.get(`${this.apiUrl}/payment-trend`)}getTopCategoriesChart(){return this.http.get(`${this.apiUrl}/top-categories`)}static \u0275fac=function(t){return new(t||r)(A(Q))};static \u0275prov=z({token:r,factory:r.\u0275fac,providedIn:"root"})};function bt(r,a){r&1&&(i(0,"div",5),m(1,"mat-progress-bar",6),i(2,"p"),n(3,"Loading dashboard data..."),e()())}function vt(r,a){if(r&1&&(i(0,"div",44),m(1,"div",45),i(2,"span"),n(3),e()()),r&2){let t=a.$implicit;o(),u("background-color",t.color),o(2),D("",t.name,": ",t.value,"")}}function xt(r,a){if(r&1&&m(0,"div",46),r&2){let t=a.$implicit,s=a.index,l=h(3);u("--percentage",l.getPercentage(t.value,l.getTotalCourses()))("--color",t.color)("--rotation",l.getRotation(s))}}function yt(r,a){if(r&1&&(i(0,"div",35)(1,"div",36),c(2,vt,4,4,"div",37),e(),i(3,"div",38)(4,"div",39),c(5,xt,1,6,"div",40),e(),i(6,"div",41)(7,"div",42),n(8),e(),i(9,"div",43),n(10,"Total"),e()()()()),r&2){let t=h(2);o(2),d("ngForOf",t.courseStatusData),o(3),d("ngForOf",t.courseStatusData),o(3),g(t.getTotalCourses())}}function Ct(r,a){if(r&1&&(i(0,"div",50),m(1,"div",51),i(2,"div",52),n(3),e(),i(4,"div",53),n(5),e()()),r&2){let t=a.$implicit,s=h(3);o(),u("height",s.getBarHeight(t.count,s.getMaxUserJoining()),"%"),o(2),g(s.formatDate(t.date)),o(2),g(t.count)}}function Mt(r,a){if(r&1&&(i(0,"div",47)(1,"div",48),c(2,Ct,6,4,"div",49),e()()),r&2){let t=h(2);o(2),d("ngForOf",t.userJoiningData.slice(-15))}}function St(r,a){r&1&&(i(0,"div",54)(1,"mat-icon"),n(2,"trending_up"),e(),i(3,"p"),n(4,"No user registration data available"),e()())}function wt(r,a){if(r&1&&(i(0,"div",57),m(1,"div",58),i(2,"div",52),n(3),e(),i(4,"div",53),n(5),e(),i(6,"div",59),n(7),e()()),r&2){let t=a.$implicit,s=h(3);o(),u("height",s.getBarHeight(t.amount,s.getMaxPaymentAmount()),"%"),o(2),g(t.month),o(2),f("\u20B9",s.formatCurrency(t.amount),""),o(2),f("",t.count," payments")}}function Pt(r,a){if(r&1&&(i(0,"div",55)(1,"div",48),c(2,wt,8,5,"div",56),e()()),r&2){let t=h(2);o(2),d("ngForOf",t.paymentTrendData.slice(-8))}}function Dt(r,a){r&1&&(i(0,"div",54)(1,"mat-icon"),n(2,"payment"),e(),i(3,"p"),n(4,"No payment data available"),e()())}function Ot(r,a){if(r&1&&(i(0,"div",62)(1,"div",63)(2,"span",64),n(3),e(),i(4,"span",65),n(5),e()(),i(6,"div",66),m(7,"div",67),e()()),r&2){let t=a.$implicit,s=h(3);o(3),g(t.name),o(2),f("",t.value," courses"),o(2),u("width",s.getBarHeight(t.value,s.getMaxCategoryValue()),"%")("background-color",t.color)}}function Et(r,a){if(r&1&&(i(0,"div",60),c(1,Ot,8,6,"div",61),e()),r&2){let t=h(2);o(),d("ngForOf",t.topCategoriesData.slice(0,8))}}function Tt(r,a){r&1&&(i(0,"div",54)(1,"mat-icon"),n(2,"category"),e(),i(3,"p"),n(4,"No category data available"),e()())}function It(r,a){if(r&1&&(i(0,"div",7)(1,"div",8)(2,"mat-card",9)(3,"mat-card-header")(4,"mat-icon",10),n(5,"school"),e(),i(6,"mat-card-title"),n(7,"Courses"),e(),i(8,"mat-card-subtitle"),n(9,"Total courses in system"),e()(),i(10,"mat-card-content")(11,"div",11),n(12),e(),i(13,"div",12)(14,"span",13),n(15),e(),i(16,"span",14),n(17),e()()()(),i(18,"mat-card",15)(19,"mat-card-header")(20,"mat-icon",10),n(21,"payment"),e(),i(22,"mat-card-title"),n(23,"Payments"),e(),i(24,"mat-card-subtitle"),n(25,"Revenue & transactions"),e()(),i(26,"mat-card-content")(27,"div",11),n(28),e(),i(29,"div",12)(30,"span"),n(31),e()()()(),i(32,"mat-card",16)(33,"mat-card-header")(34,"mat-icon",10),n(35,"people"),e(),i(36,"mat-card-title"),n(37,"Users"),e(),i(38,"mat-card-subtitle"),n(39,"Registered users"),e()(),i(40,"mat-card-content")(41,"div",11),n(42),e(),i(43,"div",12)(44,"span"),n(45,"Active learners"),e()()()(),i(46,"mat-card",17)(47,"mat-card-header")(48,"mat-icon",10),n(49,"library_books"),e(),i(50,"mat-card-title"),n(51,"Content"),e(),i(52,"mat-card-subtitle"),n(53,"Topics & Lessons"),e()(),i(54,"mat-card-content")(55,"div",11),n(56),e(),i(57,"div",12)(58,"span"),n(59),e()()()()(),i(60,"div",18)(61,"mat-card",19)(62,"mat-icon"),n(63,"local_offer"),e(),i(64,"div")(65,"span",20),n(66),e(),i(67,"span",21),n(68,"Tags"),e()()(),i(69,"mat-card",19)(70,"mat-icon"),n(71,"category"),e(),i(72,"div")(73,"span",20),n(74),e(),i(75,"span",21),n(76,"Categories"),e()()(),i(77,"mat-card",19)(78,"mat-icon"),n(79,"notifications"),e(),i(80,"div")(81,"span",20),n(82),e(),i(83,"span",21),n(84,"Notifications"),e()()()(),i(85,"div",22)(86,"mat-card",23)(87,"mat-card-header")(88,"mat-card-title"),n(89,"Course Status Distribution"),e(),i(90,"mat-card-subtitle"),n(91,"Published vs Unpublished courses"),e()(),i(92,"mat-card-content")(93,"div",24),c(94,yt,11,3,"div",25),e()()(),i(95,"mat-card",23)(96,"mat-card-header")(97,"mat-card-title"),n(98,"User Registration Trend"),e(),i(99,"mat-card-subtitle"),n(100,"New users over time (Last 30 days)"),e()(),i(101,"mat-card-content")(102,"div",24),c(103,Mt,3,1,"div",26)(104,St,5,0,"div",27),e()()(),i(105,"mat-card",23)(106,"mat-card-header")(107,"mat-card-title"),n(108,"Revenue Trend"),e(),i(109,"mat-card-subtitle"),n(110,"Monthly payment collection"),e()(),i(111,"mat-card-content")(112,"div",24),c(113,Pt,3,1,"div",28)(114,Dt,5,0,"div",27),e()()(),i(115,"mat-card",23)(116,"mat-card-header")(117,"mat-card-title"),n(118,"Popular Categories"),e(),i(119,"mat-card-subtitle"),n(120,"Courses by category"),e()(),i(121,"mat-card-content")(122,"div",24),c(123,Et,2,1,"div",29)(124,Tt,5,0,"div",27),e()()()(),i(125,"mat-card",30)(126,"mat-card-header")(127,"mat-card-title"),n(128,"Quick Actions"),e()(),i(129,"mat-card-content")(130,"div",31)(131,"button",32)(132,"mat-icon"),n(133,"add"),e(),n(134," New Course "),e(),i(135,"button",33)(136,"mat-icon"),n(137,"people"),e(),n(138," Manage Users "),e(),i(139,"button",34)(140,"mat-icon"),n(141,"payment"),e(),n(142," View Payments "),e(),i(143,"button",34)(144,"mat-icon"),n(145,"notifications"),e(),n(146," Send Notification "),e()()()()()),r&2){let t=h();o(12),g((t.stats==null?null:t.stats.totalCourses)||0),o(3),f("",(t.stats==null?null:t.stats.publishedCourses)||0," Published"),o(2),f("",(t.stats==null?null:t.stats.unpublishedCourses)||0," Draft"),o(11),f("\u20B9",t.formatCurrency((t.stats==null?null:t.stats.totalPaymentAmount)||0),""),o(3),f("",(t.stats==null?null:t.stats.totalPayments)||0," Transactions"),o(11),g((t.stats==null?null:t.stats.totalUsers)||0),o(14),g((t.stats==null?null:t.stats.totalLessons)||0),o(3),f("",(t.stats==null?null:t.stats.totalTopics)||0," Topics"),o(7),g((t.stats==null?null:t.stats.totalTags)||0),o(8),g((t.stats==null?null:t.stats.totalCategories)||0),o(8),g((t.stats==null?null:t.stats.totalNotifications)||0),o(12),d("ngIf",t.courseStatusData.length>0),o(9),d("ngIf",t.userJoiningData.length>0),o(),d("ngIf",t.userJoiningData.length===0),o(9),d("ngIf",t.paymentTrendData.length>0),o(),d("ngIf",t.paymentTrendData.length===0),o(9),d("ngIf",t.topCategoriesData.length>0),o(),d("ngIf",t.topCategoriesData.length===0)}}var S=class r{constructor(a,t){this.authService=a;this.dashboardService=t;this.sessionData=this.authService.getCurrentUser()}sessionData;loading=!0;stats=null;courseStatusData=[];userJoiningData=[];paymentTrendData=[];topCategoriesData=[];ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,this.dashboardService.getDashboardStats().subscribe({next:a=>{this.stats=a},error:a=>{console.error("Error loading dashboard stats:",a)}}),this.dashboardService.getCourseStatusChart().subscribe({next:a=>{this.courseStatusData=a},error:a=>{console.error("Error loading course status data:",a)}}),this.dashboardService.getUserJoiningTrend().subscribe({next:a=>{this.userJoiningData=a},error:a=>{console.error("Error loading user joining data:",a)}}),this.dashboardService.getPaymentTrend().subscribe({next:a=>{this.paymentTrendData=a},error:a=>{console.error("Error loading payment trend data:",a)}}),this.dashboardService.getTopCategoriesChart().subscribe({next:a=>{this.topCategoriesData=a,this.loading=!1},error:a=>{console.error("Error loading top categories data:",a),this.loading=!1}})}refreshData(){this.loadDashboardData()}formatCurrency(a){return new Intl.NumberFormat("en-IN").format(a)}formatDate(a){return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"})}getPercentage(a,t){return t>0?a/t*100:0}getTotalCourses(){return this.courseStatusData.reduce((a,t)=>a+t.value,0)}getMaxUserJoining(){return Math.max(...this.userJoiningData.map(a=>a.count),1)}getMaxPaymentAmount(){return Math.max(...this.paymentTrendData.map(a=>a.amount),1)}getMaxCategoryValue(){return Math.max(...this.topCategoriesData.map(a=>a.value),1)}getBarHeight(a,t){return t>0?a/t*100:0}getRotation(a){let t=0;for(let s=0;s<a;s++)t+=this.getPercentage(this.courseStatusData[s].value,this.getTotalCourses())*3.6;return t}static \u0275fac=function(t){return new(t||r)(p(et),p(M))};static \u0275cmp=_({type:r,selectors:[["app-dashboard"]],standalone:!0,features:[b],decls:12,vars:4,consts:[[1,"dashboard-container"],[1,"dashboard-header"],["mat-raised-button","","color","primary",3,"click"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-container"],["mode","indeterminate"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card","course-card"],["mat-card-avatar",""],[1,"stat-number"],[1,"stat-details"],[1,"published"],[1,"unpublished"],[1,"stat-card","payment-card"],[1,"stat-card","user-card"],[1,"stat-card","content-card"],[1,"secondary-stats"],[1,"secondary-stat"],[1,"number"],[1,"label"],[1,"charts-section"],[1,"chart-card"],[1,"chart-container"],["class","donut-chart",4,"ngIf"],["class","line-chart",4,"ngIf"],["class","no-data",4,"ngIf"],["class","payment-chart",4,"ngIf"],["class","category-list",4,"ngIf"],[1,"quick-actions"],[1,"action-buttons"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","accent"],["mat-raised-button",""],[1,"donut-chart"],[1,"chart-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"chart-visual"],[1,"donut-segments"],["class","donut-segment",3,"--percentage","--color","--rotation",4,"ngFor","ngForOf"],[1,"donut-center"],[1,"center-number"],[1,"center-label"],[1,"legend-item"],[1,"legend-color"],[1,"donut-segment"],[1,"line-chart"],[1,"chart-bars"],["class","bar-item",4,"ngFor","ngForOf"],[1,"bar-item"],[1,"bar"],[1,"bar-label"],[1,"bar-value"],[1,"no-data"],[1,"payment-chart"],["class","payment-bar-item",4,"ngFor","ngForOf"],[1,"payment-bar-item"],[1,"payment-bar"],[1,"bar-count"],[1,"category-list"],["class","category-item",4,"ngFor","ngForOf"],[1,"category-item"],[1,"category-info"],[1,"category-name"],[1,"category-count"],[1,"category-bar"],[1,"category-fill"]],template:function(t,s){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Admin Dashboard"),e(),i(4,"p"),n(5),e(),i(6,"button",2),G("click",function(){return s.refreshData()}),i(7,"mat-icon"),n(8,"refresh"),e(),n(9," Refresh Data "),e()(),c(10,bt,4,0,"div",3)(11,It,147,18,"div",4),e()),t&2&&(o(5),D("Welcome back, ",s.sessionData==null?null:s.sessionData.firstName," ",s.sessionData==null?null:s.sessionData.lastName,""),o(5),d("ngIf",s.loading),o(),d("ngIf",!s.loading))},dependencies:[J,X,V,lt,it,st,at,ot,rt,nt,K,W,Z,Y,gt,mt,pt,q,dt],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid #e0e0e0}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#1976d2;font-size:2rem;font-weight:500}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#666;font-size:1rem}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:40px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}.dashboard-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.stat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:8px}.stat-card[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{font-size:28px;width:40px;height:40px;line-height:40px}.course-card[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.payment-card[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{background-color:#388e3c;color:#fff}.user-card[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{background-color:#f57c00;color:#fff}.content-card[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{background-color:#7b1fa2;color:#fff}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#333;margin-bottom:8px}.stat-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:.9rem;color:#666}.stat-details[_ngcontent-%COMP%]   .published[_ngcontent-%COMP%]{color:#4caf50;font-weight:500}.stat-details[_ngcontent-%COMP%]   .unpublished[_ngcontent-%COMP%]{color:#ff9800;font-weight:500}.secondary-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}.secondary-stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;transition:transform .2s ease}.secondary-stat[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.secondary-stat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#1976d2}.secondary-stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:600;color:#333}.secondary-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:#666}.charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:24px}.chart-card[_ngcontent-%COMP%]{min-height:350px}.chart-container[_ngcontent-%COMP%]{height:250px;display:flex;align-items:center;justify-content:center}.donut-chart[_ngcontent-%COMP%]{display:flex;align-items:center;gap:32px;width:100%}.chart-legend[_ngcontent-%COMP%]{flex:1}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px;font-size:.9rem}.legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%}.chart-visual[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}.donut-segments[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.donut-segment[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%;background:conic-gradient(from calc(var(--rotation, 0) * 1deg),var(--color) 0deg,var(--color) calc(var(--percentage, 0) * 3.6deg),transparent calc(var(--percentage, 0) * 3.6deg));mask:radial-gradient(circle at center,transparent 40%,black 40%)}.donut-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.center-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333}.center-label[_ngcontent-%COMP%]{font-size:.8rem;color:#666}.line-chart[_ngcontent-%COMP%], .payment-chart[_ngcontent-%COMP%]{width:100%;height:100%}.chart-bars[_ngcontent-%COMP%]{display:flex;align-items:end;gap:8px;height:180px;padding:20px 0}.bar-item[_ngcontent-%COMP%], .payment-bar-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;height:100%}.bar[_ngcontent-%COMP%], .payment-bar[_ngcontent-%COMP%]{width:100%;min-height:4px;background:linear-gradient(to top,#1976d2,#42a5f5);border-radius:2px 2px 0 0;transition:all .3s ease}.payment-bar[_ngcontent-%COMP%]{background:linear-gradient(to top,#388e3c,#66bb6a)}.bar-item[_ngcontent-%COMP%]:hover   .bar[_ngcontent-%COMP%], .payment-bar-item[_ngcontent-%COMP%]:hover   .payment-bar[_ngcontent-%COMP%]{opacity:.8;transform:scaleY(1.05)}.bar-label[_ngcontent-%COMP%]{font-size:.7rem;color:#666;margin-top:8px;text-align:center;transform:rotate(-45deg);white-space:nowrap}.bar-value[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#333;margin-top:4px}.bar-count[_ngcontent-%COMP%]{font-size:.7rem;color:#666}.category-list[_ngcontent-%COMP%]{width:100%;padding:20px 0}.category-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px;gap:16px}.category-info[_ngcontent-%COMP%]{flex:1;min-width:0}.category-name[_ngcontent-%COMP%]{display:block;font-weight:500;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.category-count[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666}.category-bar[_ngcontent-%COMP%]{flex:1;height:8px;background:#f0f0f0;border-radius:4px;overflow:hidden}.category-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.5}.quick-actions[_ngcontent-%COMP%]{margin-top:24px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:150px}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:16px}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.secondary-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.donut-chart[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.chart-bars[_ngcontent-%COMP%]{gap:4px}.bar-label[_ngcontent-%COMP%]{transform:rotate(-90deg);font-size:.6rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:unset}}@media (max-width: 480px){.stat-number[_ngcontent-%COMP%]{font-size:2rem}.secondary-stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:1.2rem}.chart-container[_ngcontent-%COMP%]{height:200px}}"]})};var be=[{path:"",component:S}];export{be as DASHBOARD_ROUTES};
