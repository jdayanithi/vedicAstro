import './polyfills.server.mjs';
import{a as H}from"./chunk-WMF3WR22.mjs";import{a as Ne,b as Fe,c as Le,d as Ae}from"./chunk-AYVQKEXB.mjs";import{a as q,b as j}from"./chunk-NXD5BTRF.mjs";import{a as qe,c as je}from"./chunk-NU4HEN6K.mjs";import{b as Ie}from"./chunk-GYKCHMCR.mjs";import{a as F,b as L,c as A,e as R,g as V}from"./chunk-QQHXRZGA.mjs";import{a as X,d as w,e as Y}from"./chunk-23SLAFQR.mjs";import{c as et,g as tt}from"./chunk-GHMQA5DD.mjs";import{a as ze,b as $e,c as He,d as Ge,e as Qe,f as We,g as Ze,h as Je,i as Ke,j as Xe,k as Ye}from"./chunk-F6HI3K2T.mjs";import{a as Re,b as Ve}from"./chunk-QJLSOKHB.mjs";import{b as me,c as le,q as z,r as $}from"./chunk-TRHFPAUI.mjs";import"./chunk-Y3IL6YFO.mjs";import{a as ne,b as Be,e as re,h as ae,i as oe}from"./chunk-WPGK3LCN.mjs";import{Aa as Oe,Ba as ke,Ca as B,Da as N,M as Ee,X as be,ba as O,da as ee,ea as k,ga as te,ia as E,ka as ie,la as ye,oa as Ue,pa as Pe,sa as De,va as Te,za as we}from"./chunk-YEGN3WNK.mjs";import{Bc as Me,Cc as D,Fc as J,Gc as K,Ib as xe,Jb as r,Ka as ge,Kb as p,Kc as T,Lb as M,Ma as o,Mb as ve,Na as g,Nb as Ce,Ob as he,Pb as Se,Rb as U,Sb as W,Tb as I,Ub as Z,Vb as P,bb as s,da as y,gb as m,kb as Q,la as v,ma as C,ob as i,pb as t,qb as u,rb as h,sb as S,ub as b,xb as x,zb as c}from"./chunk-Y2VJ442J.mjs";import{a as ce,b as pe}from"./chunk-5XUXGTUW.mjs";var _t=e=>["/users",e];function gt(e,a){e&1&&(i(0,"div",9),u(1,"mat-spinner"),t())}function xt(e,a){e&1&&(i(0,"th",25),r(1,"ID"),t())}function vt(e,a){if(e&1&&(i(0,"td",26),r(1),t()),e&2){let n=a.$implicit;o(),p(n.id)}}function Ct(e,a){e&1&&(i(0,"th",25),r(1,"Username"),t())}function ht(e,a){if(e&1&&(i(0,"td",26),r(1),t()),e&2){let n=a.$implicit;o(),p(n.username)}}function St(e,a){e&1&&(i(0,"th",25),r(1,"Name"),t())}function Mt(e,a){if(e&1&&(i(0,"td",26),r(1),t()),e&2){let n=a.$implicit;o(),ve("",n.firstName," ",n.lastName,"")}}function Et(e,a){e&1&&(i(0,"th",25),r(1,"Phone"),t())}function bt(e,a){if(e&1&&(i(0,"td",26),r(1),t()),e&2){let n=a.$implicit;o(),p(n.phoneNumber)}}function It(e,a){e&1&&(i(0,"th",25),r(1,"User Type"),t())}function yt(e,a){if(e&1&&(i(0,"td",26)(1,"span"),r(2),I(3,"titlecase"),t()()),e&2){let n=a.$implicit;o(),Q("user-type-badge user-type-",n.userType,""),o(),M(" ",Z(3,4,n.userType)," ")}}function Ut(e,a){e&1&&(i(0,"th",25),r(1,"Role"),t())}function Pt(e,a){if(e&1&&(i(0,"td",26),r(1),t()),e&2){let n=a.$implicit;o(),p(n.role)}}function Dt(e,a){e&1&&(i(0,"th",25),r(1,"Birth Date"),t())}function Tt(e,a){if(e&1&&(i(0,"td",26),r(1),I(2,"date"),t()),e&2){let n=a.$implicit;o(),p(P(2,1,n.birthDate,"shortDate"))}}function wt(e,a){e&1&&(i(0,"th",25),r(1,"Zodiac"),t())}function Ot(e,a){if(e&1&&(i(0,"td",26),r(1),t()),e&2){let n=a.$implicit;o(),p(n.zodiacSign)}}function kt(e,a){e&1&&(i(0,"th",25),r(1,"Actions"),t())}function Bt(e,a){if(e&1){let n=b();i(0,"td",26)(1,"button",27)(2,"mat-icon"),r(3,"visibility"),t()(),i(4,"button",28),x("click",function(){let d=v(n).$implicit,f=c(2);return C(f.editUser(d.id))}),i(5,"mat-icon"),r(6,"edit"),t()(),i(7,"button",29),x("click",function(){let d=v(n).$implicit,f=c(2);return C(f.deleteUser(d))}),i(8,"mat-icon"),r(9,"delete"),t()()()}if(e&2){let n=a.$implicit;o(),m("routerLink",W(1,_t,n.id))}}function Nt(e,a){e&1&&u(0,"tr",30)}function Ft(e,a){e&1&&u(0,"tr",31)}function Lt(e,a){e&1&&(i(0,"div",32)(1,"mat-icon"),r(2,"person_off"),t(),i(3,"p"),r(4,"No users found"),t()())}function At(e,a){if(e&1&&(i(0,"div")(1,"table",10),h(2,11),s(3,xt,2,0,"th",12)(4,vt,2,1,"td",13),S(),h(5,14),s(6,Ct,2,0,"th",12)(7,ht,2,1,"td",13),S(),h(8,15),s(9,St,2,0,"th",12)(10,Mt,2,2,"td",13),S(),h(11,16),s(12,Et,2,0,"th",12)(13,bt,2,1,"td",13),S(),h(14,17),s(15,It,2,0,"th",12)(16,yt,4,6,"td",13),S(),h(17,18),s(18,Ut,2,0,"th",12)(19,Pt,2,1,"td",13),S(),h(20,19),s(21,Dt,2,0,"th",12)(22,Tt,3,4,"td",13),S(),h(23,20),s(24,wt,2,0,"th",12)(25,Ot,2,1,"td",13),S(),h(26,21),s(27,kt,2,0,"th",12)(28,Bt,10,3,"td",13),S(),s(29,Nt,1,0,"tr",22)(30,Ft,1,0,"tr",23),t(),s(31,Lt,5,0,"div",24),t()),e&2){let n=c();o(),m("dataSource",n.users),o(28),m("matHeaderRowDef",n.displayedColumns),o(),m("matRowDefColumns",n.displayedColumns),o(),m("ngIf",n.users.length===0)}}var se=class e{constructor(a,n,l,d){this.userService=a;this.router=n;this.snackBar=l;this.dialog=d}users=[];displayedColumns=["id","username","name","phoneNumber","userType","role","birthDate","zodiacSign","actions"];loading=!1;searchQuery="";ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.userService.getAllUsers().subscribe({next:a=>{this.users=a,this.loading=!1},error:a=>{console.error("Error loading users:",a),this.snackBar.open("Error loading users","Close",{duration:3e3}),this.loading=!1}})}onSearchChange(){this.searchQuery.trim()?(this.loading=!0,this.userService.searchUsers(this.searchQuery).subscribe({next:a=>{this.users=a,this.loading=!1},error:a=>{console.error("Error searching users:",a),this.snackBar.open("Error searching users","Close",{duration:3e3}),this.loading=!1}})):this.loadUsers()}editUser(a){this.router.navigate(["/users/edit",a])}deleteUser(a){confirm(`Are you sure you want to delete ${a.firstName} ${a.lastName}?`)&&this.userService.deleteUser(a.id).subscribe({next:()=>{this.snackBar.open("User deleted successfully","Close",{duration:3e3}),this.loadUsers()},error:n=>{console.error("Error deleting user:",n),this.snackBar.open("Error deleting user","Close",{duration:3e3})}})}static \u0275fac=function(n){return new(n||e)(g(H),g(w),g(z),g(et))};static \u0275cmp=y({type:e,selectors:[["app-user-list"]],standalone:!0,features:[U],decls:22,vars:3,consts:[[1,"container"],[1,"header"],["mat-raised-button","","color","primary","routerLink","/users/add"],[1,"search-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name, username...",3,"ngModelChange","input","ngModel"],["matSuffix",""],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","name"],["matColumnDef","phoneNumber"],["matColumnDef","userType"],["matColumnDef","role"],["matColumnDef","birthDate"],["matColumnDef","zodiacSign"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","View Details",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Edit User",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete User",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),r(3,"User Management"),t(),i(4,"button",2)(5,"mat-icon"),r(6,"add"),t(),r(7," Add User "),t()(),i(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),r(11,"Users"),t()(),i(12,"mat-card-content")(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),r(16,"Search users"),t(),i(17,"input",5),Se("ngModelChange",function(f){return he(l.searchQuery,f)||(l.searchQuery=f),f}),x("input",function(){return l.onSearchChange()}),t(),i(18,"mat-icon",6),r(19,"search"),t()()(),s(20,gt,2,0,"div",7)(21,At,32,4,"div",8),t()()()),n&2&&(o(17),Ce("ngModel",l.searchQuery),o(3),m("ngIf",l.loading),o(),m("ngIf",!l.loading))},dependencies:[T,D,J,K,Y,Oe,te,ie,Ue,Ye,ze,He,Ze,Ge,$e,Je,Qe,We,Ke,Xe,V,F,A,R,L,k,O,ee,N,B,oe,ae,ne,re,le,me,$,tt,j,q],styles:[".container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.search-container[_ngcontent-%COMP%]{margin-bottom:20px}.search-field[_ngcontent-%COMP%]{width:100%;max-width:400px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.full-width[_ngcontent-%COMP%]{width:100%}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.user-type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase}.user-type-student[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.user-type-instructor[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.user-type-admin[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:12px 8px}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#0000000a}"]})};var Rt=e=>["/users/edit",e];function Vt(e,a){if(e&1&&(i(0,"button",8)(1,"mat-icon"),r(2,"edit"),t(),r(3," Edit User "),t()),e&2){let n=c();m("routerLink",W(1,Rt,n.user.id))}}function qt(e,a){e&1&&(i(0,"div",9),u(1,"mat-spinner"),t())}function jt(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Birth Date:"),t(),i(3,"span",15),r(4),I(5,"date"),t()()),e&2){let n=c(3);o(4),p(P(5,1,n.user.birthDate,"fullDate"))}}function zt(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Birth Time:"),t(),i(3,"span",15),r(4),t()()),e&2){let n=c(3);o(4),p(n.user.birthTime)}}function $t(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Birth Place:"),t(),i(3,"span",15),r(4),t()()),e&2){let n=c(3);o(4),p(n.user.birthPlace)}}function Ht(e,a){if(e&1&&(i(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),r(3,"Birth Information"),t()(),i(4,"mat-card-content")(5,"div",12),s(6,jt,6,4,"div",17)(7,zt,5,1,"div",17)(8,$t,5,1,"div",17),t()()()),e&2){let n=c(2);o(6),m("ngIf",n.user.birthDate),o(),m("ngIf",n.user.birthTime),o(),m("ngIf",n.user.birthPlace)}}function Gt(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Zodiac Sign:"),t(),i(3,"mat-chip",18),r(4),t()()),e&2){let n=c(3);o(4),p(n.user.zodiacSign)}}function Qt(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Rising Sign:"),t(),i(3,"mat-chip",18),r(4),t()()),e&2){let n=c(3);o(4),p(n.user.risingSign)}}function Wt(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Moon Sign:"),t(),i(3,"mat-chip",18),r(4),t()()),e&2){let n=c(3);o(4),p(n.user.moonSign)}}function Zt(e,a){if(e&1&&(i(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),r(3,"Astrological Information"),t()(),i(4,"mat-card-content")(5,"div",12),s(6,Gt,5,1,"div",17)(7,Qt,5,1,"div",17)(8,Wt,5,1,"div",17),t()()()),e&2){let n=c(2);o(6),m("ngIf",n.user.zodiacSign),o(),m("ngIf",n.user.risingSign),o(),m("ngIf",n.user.moonSign)}}function Jt(e,a){if(e&1){let n=b();i(0,"div",13)(1,"span",14),r(2,"Profile Picture:"),t(),i(3,"div",20)(4,"img",21),x("error",function(d){v(n);let f=c(3);return C(f.onImageError(d))}),t()()()}if(e&2){let n=c(3);o(4),m("src",n.user.profilePicture,ge)("alt",n.user.firstName+" "+n.user.lastName)}}function Kt(e,a){if(e&1&&(i(0,"div",22)(1,"span",14),r(2,"Bio:"),t(),i(3,"p",23),r(4),t()()),e&2){let n=c(3);o(4),p(n.user.bio)}}function Xt(e,a){if(e&1&&(i(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),r(3,"Additional Information"),t()(),i(4,"mat-card-content"),s(5,Jt,5,2,"div",17)(6,Kt,5,1,"div",19),t()()),e&2){let n=c(2);o(5),m("ngIf",n.user.profilePicture),o(),m("ngIf",n.user.bio)}}function Yt(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Created Date:"),t(),i(3,"span",15),r(4),I(5,"date"),t()()),e&2){let n=c(2);o(4),p(P(5,1,n.user.createdDate,"medium"))}}function ei(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Updated Date:"),t(),i(3,"span",15),r(4),I(5,"date"),t()()),e&2){let n=c(2);o(4),p(P(5,1,n.user.updatedDate,"medium"))}}function ti(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Created By:"),t(),i(3,"span",15),r(4),t()()),e&2){let n=c(2);o(4),p(n.user.createdBy)}}function ii(e,a){if(e&1&&(i(0,"div",13)(1,"span",14),r(2,"Updated By:"),t(),i(3,"span",15),r(4),t()()),e&2){let n=c(2);o(4),p(n.user.updatedBy)}}function ni(e,a){if(e&1&&(i(0,"div",10)(1,"mat-card",11)(2,"mat-card-header")(3,"mat-card-title"),r(4,"Basic Information"),t()(),i(5,"mat-card-content")(6,"div",12)(7,"div",13)(8,"span",14),r(9,"ID:"),t(),i(10,"span",15),r(11),t()(),i(12,"div",13)(13,"span",14),r(14,"Username:"),t(),i(15,"span",15),r(16),t()(),i(17,"div",13)(18,"span",14),r(19,"First Name:"),t(),i(20,"span",15),r(21),t()(),i(22,"div",13)(23,"span",14),r(24,"Last Name:"),t(),i(25,"span",15),r(26),t()(),i(27,"div",13)(28,"span",14),r(29,"Phone Number:"),t(),i(30,"span",15),r(31),t()(),i(32,"div",13)(33,"span",14),r(34,"Role:"),t(),i(35,"span",15),r(36),t()(),i(37,"div",13)(38,"span",14),r(39,"User Type:"),t(),i(40,"mat-chip"),r(41),I(42,"titlecase"),t()()()()(),s(43,Ht,9,3,"mat-card",16)(44,Zt,9,3,"mat-card",16)(45,Xt,7,2,"mat-card",16),i(46,"mat-card",11)(47,"mat-card-header")(48,"mat-card-title"),r(49,"System Information"),t()(),i(50,"mat-card-content")(51,"div",12),s(52,Yt,6,4,"div",17)(53,ei,6,4,"div",17)(54,ti,5,1,"div",17)(55,ii,5,1,"div",17),t()()()()),e&2){let n=c();o(11),p(n.user.id),o(5),p(n.user.username),o(5),p(n.user.firstName),o(5),p(n.user.lastName),o(5),p(n.user.phoneNumber),o(5),p(n.user.role),o(4),Q("user-type-chip user-type-",n.user.userType,""),o(),M(" ",Z(42,17,n.user.userType)," "),o(2),m("ngIf",n.user.birthDate||n.user.birthTime||n.user.birthPlace),o(),m("ngIf",n.user.zodiacSign||n.user.risingSign||n.user.moonSign),o(),m("ngIf",n.user.bio||n.user.profilePicture),o(7),m("ngIf",n.user.createdDate),o(),m("ngIf",n.user.updatedDate),o(),m("ngIf",n.user.createdBy),o(),m("ngIf",n.user.updatedBy)}}function ri(e,a){if(e&1){let n=b();i(0,"div",24)(1,"mat-icon"),r(2,"person_off"),t(),i(3,"h2"),r(4,"User Not Found"),t(),i(5,"p"),r(6,"The user you're looking for doesn't exist or has been deleted."),t(),i(7,"button",25),x("click",function(){v(n);let d=c();return C(d.goBack())}),r(8," Go Back to Users "),t()()}}var de=class e{constructor(a,n,l,d){this.route=a;this.router=n;this.userService=l;this.snackBar=d}userId=null;user=null;loading=!1;ngOnInit(){this.route.params.subscribe(a=>{a.id&&(this.userId=+a.id,this.loadUser())})}loadUser(){this.userId&&(this.loading=!0,this.userService.getUserById(this.userId).subscribe({next:a=>{this.user=a,this.loading=!1},error:a=>{console.error("Error loading user:",a),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1}}))}goBack(){this.router.navigate(["/users"])}onImageError(a){a.target.style.display="none"}static \u0275fac=function(n){return new(n||e)(g(X),g(w),g(H),g(z))};static \u0275cmp=y({type:e,selectors:[["app-user-details"]],standalone:!0,features:[U],decls:13,vars:4,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-button","",3,"click"],["mat-raised-button","","color","accent",3,"routerLink",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","user-details",4,"ngIf"],["class","no-user",4,"ngIf"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"loading-container"],[1,"user-details"],[1,"info-card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],["class","info-card",4,"ngIf"],["class","info-item",4,"ngIf"],[1,"astro-chip"],["class","info-item bio-item",4,"ngIf"],[1,"profile-picture"],[3,"error","src","alt"],[1,"info-item","bio-item"],[1,"bio-text"],[1,"no-user"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,l){n&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),r(3,"User Details"),t(),i(4,"div",2)(5,"button",3),x("click",function(){return l.goBack()}),i(6,"mat-icon"),r(7,"arrow_back"),t(),r(8," Back to Users "),t(),s(9,Vt,4,3,"button",4),t()(),s(10,qt,2,0,"div",5)(11,ni,56,19,"div",6)(12,ri,9,0,"div",7),t()),n&2&&(o(9),m("ngIf",l.user),o(),m("ngIf",l.loading),o(),m("ngIf",!l.loading&&l.user),o(),m("ngIf",!l.loading&&!l.user))},dependencies:[T,D,J,K,Y,V,F,A,R,L,k,O,N,B,Ie,je,qe,j,q,$],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:60px}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.info-card[_ngcontent-%COMP%]{width:100%}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px}.bio-item[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column;grid-column:1/-1}.label[_ngcontent-%COMP%]{font-weight:600;color:#666;min-width:120px;margin-right:12px}.value[_ngcontent-%COMP%]{color:#333;word-break:break-word}.bio-text[_ngcontent-%COMP%]{margin:8px 0 0;line-height:1.5;color:#333}.user-type-chip[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.user-type-student[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.user-type-instructor[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.user-type-admin[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.astro-chip[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.profile-picture[_ngcontent-%COMP%]{margin-top:8px}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.no-user[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.no-user[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px}.no-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.label[_ngcontent-%COMP%]{min-width:auto;margin-right:0;margin-bottom:4px}}"]})};function ai(e,a){e&1&&(i(0,"div",6),u(1,"mat-spinner"),t())}function oi(e,a){e&1&&(i(0,"mat-error"),r(1," Username is required "),t())}function mi(e,a){e&1&&(i(0,"mat-error"),r(1," Password is required "),t())}function li(e,a){e&1&&(i(0,"mat-error"),r(1," Password must be at least 6 characters "),t())}function si(e,a){if(e&1){let n=b();i(0,"mat-form-field",10)(1,"mat-label"),r(2,"Password"),t(),u(3,"input",36),i(4,"button",37),x("click",function(){v(n);let d=c(2);return C(d.hidePassword=!d.hidePassword)}),i(5,"mat-icon"),r(6),t()(),s(7,mi,2,0,"mat-error",12)(8,li,2,0,"mat-error",12),t()}if(e&2){let n,l,d=c(2);o(3),m("type",d.hidePassword?"password":"text"),o(3),p(d.hidePassword?"visibility_off":"visibility"),o(),m("ngIf",(n=d.userForm.get("password"))==null?null:n.hasError("required")),o(),m("ngIf",(l=d.userForm.get("password"))==null?null:l.hasError("minlength"))}}function di(e,a){e&1&&(i(0,"mat-error"),r(1," First name is required "),t())}function ci(e,a){e&1&&(i(0,"mat-error"),r(1," Last name is required "),t())}function pi(e,a){e&1&&(i(0,"mat-error"),r(1," Phone number is required "),t())}function ui(e,a){e&1&&(i(0,"mat-error"),r(1," User type is required "),t())}function fi(e,a){e&1&&(i(0,"mat-error"),r(1," Role is required "),t())}function _i(e,a){if(e&1&&(i(0,"mat-option",38),r(1),t()),e&2){let n=a.$implicit;m("value",n),o(),M(" ",n," ")}}function gi(e,a){if(e&1&&(i(0,"mat-option",38),r(1),t()),e&2){let n=a.$implicit;m("value",n),o(),M(" ",n," ")}}function xi(e,a){if(e&1&&(i(0,"mat-option",38),r(1),t()),e&2){let n=a.$implicit;m("value",n),o(),M(" ",n," ")}}function vi(e,a){e&1&&u(0,"mat-spinner",39)}function Ci(e,a){if(e&1){let n=b();i(0,"form",7),x("ngSubmit",function(){v(n);let d=c();return C(d.onSubmit())}),i(1,"div",8)(2,"h3"),r(3,"Basic Information"),t(),i(4,"div",9)(5,"mat-form-field",10)(6,"mat-label"),r(7,"Username"),t(),u(8,"input",11),s(9,oi,2,0,"mat-error",12),t(),s(10,si,9,4,"mat-form-field",13),t(),i(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),r(14,"First Name"),t(),u(15,"input",14),s(16,di,2,0,"mat-error",12),t(),i(17,"mat-form-field",10)(18,"mat-label"),r(19,"Last Name"),t(),u(20,"input",15),s(21,ci,2,0,"mat-error",12),t()(),i(22,"div",9)(23,"mat-form-field",10)(24,"mat-label"),r(25,"Phone Number"),t(),u(26,"input",16),s(27,pi,2,0,"mat-error",12),t(),i(28,"mat-form-field",10)(29,"mat-label"),r(30,"User Type"),t(),i(31,"mat-select",17)(32,"mat-option",18),r(33,"Student"),t(),i(34,"mat-option",19),r(35,"Instructor"),t(),i(36,"mat-option",20),r(37,"Admin"),t()(),s(38,ui,2,0,"mat-error",12),t()(),i(39,"mat-form-field",10)(40,"mat-label"),r(41,"Role"),t(),u(42,"input",21),s(43,fi,2,0,"mat-error",12),t()(),i(44,"div",8)(45,"h3"),r(46,"Birth Information"),t(),i(47,"div",9)(48,"mat-form-field",10)(49,"mat-label"),r(50,"Birth Date"),t(),u(51,"input",22)(52,"mat-datepicker-toggle",23)(53,"mat-datepicker",null,0),t(),i(55,"mat-form-field",10)(56,"mat-label"),r(57,"Birth Time"),t(),u(58,"input",24),t()(),i(59,"mat-form-field",10)(60,"mat-label"),r(61,"Birth Place"),t(),u(62,"input",25),t()(),i(63,"div",8)(64,"h3"),r(65,"Astrological Information"),t(),i(66,"div",9)(67,"mat-form-field",10)(68,"mat-label"),r(69,"Zodiac Sign"),t(),i(70,"mat-select",26),s(71,_i,2,2,"mat-option",27),t()(),i(72,"mat-form-field",10)(73,"mat-label"),r(74,"Rising Sign"),t(),i(75,"mat-select",28),s(76,gi,2,2,"mat-option",27),t()()(),i(77,"mat-form-field",10)(78,"mat-label"),r(79,"Moon Sign"),t(),i(80,"mat-select",29),s(81,xi,2,2,"mat-option",27),t()()(),i(82,"div",8)(83,"h3"),r(84,"Additional Information"),t(),i(85,"mat-form-field",10)(86,"mat-label"),r(87,"Bio"),t(),i(88,"textarea",30),r(89,"                "),t()(),i(90,"mat-form-field",10)(91,"mat-label"),r(92,"Profile Picture URL"),t(),u(93,"input",31),t()(),i(94,"div",32)(95,"button",33),x("click",function(){v(n);let d=c();return C(d.goBack())}),r(96,"Cancel"),t(),i(97,"button",34),s(98,vi,1,0,"mat-spinner",35),r(99),t()()()}if(e&2){let n,l,d,f,ue,fe,_e=xe(54),_=c();m("formGroup",_.userForm),o(9),m("ngIf",(n=_.userForm.get("username"))==null?null:n.hasError("required")),o(),m("ngIf",!_.isEditMode),o(6),m("ngIf",(l=_.userForm.get("firstName"))==null?null:l.hasError("required")),o(5),m("ngIf",(d=_.userForm.get("lastName"))==null?null:d.hasError("required")),o(6),m("ngIf",(f=_.userForm.get("phoneNumber"))==null?null:f.hasError("required")),o(11),m("ngIf",(ue=_.userForm.get("userType"))==null?null:ue.hasError("required")),o(5),m("ngIf",(fe=_.userForm.get("role"))==null?null:fe.hasError("required")),o(8),m("matDatepicker",_e),o(),m("for",_e),o(19),m("ngForOf",_.zodiacSigns),o(5),m("ngForOf",_.zodiacSigns),o(5),m("ngForOf",_.zodiacSigns),o(16),m("disabled",_.userForm.invalid||_.submitting),o(),m("ngIf",_.submitting),o(),M(" ",_.submitting?"Saving...":_.isEditMode?"Update User":"Create User"," ")}}var G=class e{constructor(a,n,l,d,f){this.fb=a;this.userService=n;this.router=l;this.route=d;this.snackBar=f;this.userForm=this.createForm()}userForm;isEditMode=!1;userId=null;loading=!1;submitting=!1;hidePassword=!0;zodiacSigns=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];ngOnInit(){this.route.params.subscribe(a=>{a.id&&(this.isEditMode=!0,this.userId=+a.id,this.loadUser())})}createForm(){return this.fb.group({username:["",[E.required]],password:["",this.isEditMode?[]:[E.required,E.minLength(6)]],firstName:["",[E.required]],lastName:["",[E.required]],phoneNumber:["",[E.required]],userType:["student",[E.required]],role:["USER",[E.required]],birthDate:[""],birthTime:[""],birthPlace:[""],zodiacSign:[""],risingSign:[""],moonSign:[""],bio:[""],profilePicture:[""]})}loadUser(){this.userId&&(this.loading=!0,this.userService.getUserById(this.userId).subscribe({next:a=>{this.userForm.get("password")?.clearValidators(),this.userForm.get("password")?.updateValueAndValidity();let n=pe(ce({},a),{birthDate:a.birthDate?new Date(a.birthDate):null});this.userForm.patchValue(n),this.loading=!1},error:a=>{console.error("Error loading user:",a),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1}}))}onSubmit(){if(this.userForm.invalid)return;this.submitting=!0;let a=this.userForm.value,n=pe(ce({},a),{birthDate:a.birthDate?a.birthDate.toISOString().split("T")[0]:null,updatedBy:"admin"});this.isEditMode&&!n.password&&delete n.password,(this.isEditMode?this.userService.updateUser(this.userId,n):this.userService.createUser(n)).subscribe({next:d=>{let f=this.isEditMode?"User updated successfully":"User created successfully";this.snackBar.open(f,"Close",{duration:3e3}),this.router.navigate(["/users"])},error:d=>{console.error("Error saving user:",d);let f=d.error?.message||"Error saving user";this.snackBar.open(f,"Close",{duration:5e3}),this.submitting=!1}})}goBack(){this.router.navigate(["/users"])}static \u0275fac=function(n){return new(n||e)(g(we),g(H),g(w),g(X),g(z))};static \u0275cmp=y({type:e,selectors:[["app-add-user"]],standalone:!0,features:[U],decls:15,vars:4,consts:[["picker",""],[1,"container"],[1,"header"],["mat-button","",3,"click"],["class","loading-container",4,"ngIf"],["class","user-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-container"],[1,"user-form",3,"ngSubmit","formGroup"],[1,"section"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","username","placeholder","Enter username"],[4,"ngIf"],["appearance","outline",4,"ngIf"],["matInput","","formControlName","firstName","placeholder","Enter first name"],["matInput","","formControlName","lastName","placeholder","Enter last name"],["matInput","","formControlName","phoneNumber","placeholder","Enter phone number"],["formControlName","userType"],["value","student"],["value","instructor"],["value","admin"],["matInput","","formControlName","role","placeholder","Enter role"],["matInput","","formControlName","birthDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","type","time","formControlName","birthTime","placeholder","HH:MM"],["matInput","","formControlName","birthPlace","placeholder","Enter birth place"],["formControlName","zodiacSign"],[3,"value",4,"ngFor","ngForOf"],["formControlName","risingSign"],["formControlName","moonSign"],["matInput","","formControlName","bio","rows","4","placeholder","Enter user bio"],["matInput","","formControlName","profilePicture","placeholder","Enter profile picture URL"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"value"],["diameter","20"]],template:function(n,l){n&1&&(i(0,"div",1)(1,"div",2)(2,"h1"),r(3),t(),i(4,"button",3),x("click",function(){return l.goBack()}),i(5,"mat-icon"),r(6,"arrow_back"),t(),r(7," Back to Users "),t()(),i(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),r(11),t()(),i(12,"mat-card-content"),s(13,ai,2,0,"div",4)(14,Ci,100,16,"form",5),t()()()),n&2&&(o(3),p(l.isEditMode?"Edit User":"Add New User"),o(8),p(l.isEditMode?"Edit User Details":"User Information"),o(2),m("ngIf",l.loading),o(),m("ngIf",!l.loading))},dependencies:[T,Me,D,ke,Pe,te,ie,ye,De,Te,V,F,A,R,L,oe,ae,ne,Be,re,le,me,k,O,ee,Ve,Re,be,Ae,Ne,Fe,Le,Ee,N,B,$,j,q],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.section[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:20px;background-color:#fafafa}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#333;font-size:16px;font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};var Mn=[{path:"",component:se},{path:"add",component:G},{path:"edit/:id",component:G},{path:":id",component:de}];export{Mn as USERS_ROUTES};
