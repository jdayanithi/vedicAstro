import './polyfills.server.mjs';
import{a as et}from"./chunk-H3GLWUZ5.mjs";import{a as tt,b as Mi,c as Pi}from"./chunk-I3EYSRPM.mjs";import{a as wi,b as Ci}from"./chunk-ZE27DTNL.mjs";import{a as Ze,b as Ye,c as Je}from"./chunk-RLI34NWK.mjs";import{a as Ai}from"./chunk-IHVJNZML.mjs";import{a as Ti}from"./chunk-KVNV5NHR.mjs";import{a as ki,b as Si}from"./chunk-NM3F3CRQ.mjs";import{b as Ii,c as Ei}from"./chunk-LNAJ7T2Y.mjs";import{a as ni,b as oi}from"./chunk-AMZMUYQP.mjs";import{a as ci,c as di}from"./chunk-PU47TCY7.mjs";import{a as Nt,b as Vt}from"./chunk-JTUESSI5.mjs";import{a as Re,b as qe,c as Be,e as ze,g as je}from"./chunk-AF37YSCE.mjs";import{a as Lt,d as Se}from"./chunk-23SLAFQR.mjs";import{a as mi,b as pi,c as hi,d as ui,e as gi,f as fi,g as _i,h as bi,i as vi,j as xi,k as yi}from"./chunk-NOOZMP64.mjs";import{a as li,b as We}from"./chunk-MICQ7PJR.mjs";import{b as $e,c as Ge,e as ai,g as ri,h as si,q as Qe,r as Xe}from"./chunk-APT5JAT6.mjs";import{f as Le}from"./chunk-BCKEUEDZ.mjs";import{a as He,b as ei,c as ti,e as ii,h as Ke,i as Ue}from"./chunk-ORGMSSGI.mjs";import{Aa as Yt,Ca as De,D as Ie,Da as Ne,Ea as Ve,Fa as Jt,I as de,R as Ft,X as Ee,aa as Dt,ba as Me,da as Pe,ea as Ae,fa as Rt,ga as Oe,ha as qt,ia as T,j as Ot,ka as Fe,la as Bt,na as zt,pa as jt,qa as Ht,ra as Kt,sa as Ut,ta as $t,ua as Gt,va as Qt,wa as Xt,xa as Wt,ya as Zt}from"./chunk-5MMNTMZA.mjs";import{$ as xt,Ab as ae,Ac as Et,B as te,Bb as F,Bc as we,Cb as kt,Cc as Ce,D as _t,Db as xe,Ea as oe,Eb as re,Ec as Te,Fb as se,Fc as Mt,G as ie,Gc as Pt,Ib as $,Jb as s,Kb as R,Kc as ke,Lb as w,Ma as c,Na as f,P as B,Pa as yt,Q as z,Qb as Z,Rb as D,Rc as At,Ta as wt,Tb as G,Ub as Y,V as bt,Vb as St,W as vt,X,Ya as st,Z as V,_a as H,a as ue,aa as S,bb as h,da as A,ea as W,ed as lt,f as rt,fa as j,fb as K,fd as ct,gb as d,h as gt,hb as Ct,ib as U,id as le,j as M,jb as be,jc as Q,jd as ce,ka as ne,la as v,lb as ve,ld as dt,ma as x,na as ge,nc as E,ob as o,oc as ye,pb as n,qa as fe,qb as g,rb as L,sb as O,ua as P,ub as I,vb as Tt,vc as It,w as ft,x as ee,xb as b,ya as _e,zb as _}from"./chunk-Y2VJ442J.mjs";import{a as J,b as he,h as N}from"./chunk-5XUXGTUW.mjs";var Wi=["switch"],Zi=["*"];function Yi(i,t){i&1&&(o(0,"span",10),ge(),o(1,"svg",12),g(2,"path",13),n(),o(3,"svg",14),g(4,"path",15),n()())}var Ji=new V("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),en={provide:Rt,useExisting:bt(()=>Li),multi:!0},it=class{constructor(t,e){this.source=t,this.checked=e}},tn=0,Li=(()=>{class i{_createChangeEvent(e){return new it(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,a,r,l,p,u){this._elementRef=e,this._focusMonitor=a,this._changeDetectorRef=r,this.defaults=p,this._onChange=y=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new P,this.toggleChange=new P,this.tabIndex=parseInt(l)||0,this.color=p.color||"accent",this._noopAnimations=u==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++tn}`,this.hideIcon=p.hideIcon??!1,this.disabledInteractive=p.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new it(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(a){return new(a||i)(f(_e),f(Ie),f(Q),fe("tabindex"),f(Ji),f(oe,8))}}static{this.\u0275cmp=A({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(a,r){if(a&1&&xe(Wi,5),a&2){let l;re(l=se())&&(r._switchElement=l.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(a,r){a&2&&(Tt("id",r.id),K("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),be(r.color?"mat-"+r.color:""),U("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",E],color:"color",disabled:[2,"disabled","disabled",E],disableRipple:[2,"disableRipple","disableRipple",E],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ye(e)],checked:[2,"checked","checked",E],hideIcon:[2,"hideIcon","hideIcon",E],disabledInteractive:[2,"disabledInteractive","disabledInteractive",E]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Z([en,{provide:qt,useExisting:i,multi:!0}]),H,ne,D],ngContentSelectors:Zi,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(a,r){if(a&1){let l=I();ae(),o(0,"div",1)(1,"button",2,0),b("click",function(){return v(l),x(r._handleClick())}),g(3,"span",3),o(4,"span",4)(5,"span",5)(6,"span",6),g(7,"span",7),n(),o(8,"span",8),g(9,"span",9),n(),h(10,Yi,5,0,"span",10),n()()(),o(11,"label",11),b("click",function(u){return v(l),x(u.stopPropagation())}),F(12),n()()}if(a&2){let l=$(2);d("labelPosition",r.labelPosition),c(),U("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),d("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),K("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),c(8),d("matRippleTrigger",l)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),c(),ve(r.hideIcon?-1:10),c(),d("for",r.buttonId),K("id",r._labelId)}},dependencies:[Ft,Dt],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}}return i})();var Oi=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=W({type:i})}static{this.\u0275inj=X({imports:[Li,de,de]})}}return i})();function hn(i,t){if(i&1&&(o(0,"mat-option",11),s(1),n()),i&2){let e=t.$implicit,a=_();d("value",e),c(),w(" ",a.displayTopicFn(e)," ")}}function un(i,t){i&1&&(o(0,"th",26),s(1,"ID"),n())}function gn(i,t){if(i&1&&(o(0,"td",27),s(1),n()),i&2){let e=t.$implicit;c(),R(e.lessonId)}}function fn(i,t){i&1&&(o(0,"th",26),s(1,"Order"),n())}function _n(i,t){if(i&1&&(o(0,"td",27),s(1),n()),i&2){let e=t.$implicit;c(),R(e.orderNumber)}}function bn(i,t){i&1&&(o(0,"th",26),s(1,"Title"),n())}function vn(i,t){if(i&1&&(o(0,"td",27),s(1),n()),i&2){let e=t.$implicit;c(),R(e.title)}}function xn(i,t){i&1&&(o(0,"th",26),s(1,"Content Type"),n())}function yn(i,t){if(i&1&&(o(0,"td",27)(1,"span",28),s(2),G(3,"titlecase"),n()()),i&2){let e=t.$implicit;c(),be("content-type-"+e.contentType),c(),w(" ",Y(3,3,e.contentType)," ")}}function wn(i,t){i&1&&(o(0,"th",26),s(1,"Duration"),n())}function Cn(i,t){if(i&1&&(o(0,"td",27),s(1),n()),i&2){let e=t.$implicit;c(),w(" ",e.durationMinutes?e.durationMinutes+" min":"-"," ")}}function Tn(i,t){i&1&&(o(0,"th",26),s(1,"Free"),n())}function kn(i,t){if(i&1&&(o(0,"td",27)(1,"mat-icon",29),s(2),n()()),i&2){let e=t.$implicit;c(),d("color",e.isFree?"primary":"warn"),c(),w(" ",e.isFree?"check_circle":"lock"," ")}}function Sn(i,t){i&1&&(o(0,"th",26),s(1,"Created"),n())}function In(i,t){if(i&1&&(o(0,"td",27),s(1),G(2,"date"),n()),i&2){let e=t.$implicit;c(),R(St(2,1,e.createdAt,"short"))}}function En(i,t){i&1&&(o(0,"th",26),s(1,"Actions"),n())}function Mn(i,t){if(i&1){let e=I();o(0,"td",27)(1,"button",30),b("click",function(){let r=v(e).$implicit,l=_(2);return x(l.navigateToEditLesson(r.lessonId))}),o(2,"mat-icon"),s(3,"edit"),n()(),o(4,"button",31),b("click",function(){let r=v(e).$implicit,l=_(2);return x(l.deleteLesson(r.lessonId))}),o(5,"mat-icon"),s(6,"delete"),n()()()}}function Pn(i,t){i&1&&g(0,"tr",32)}function An(i,t){i&1&&g(0,"tr",33)}function Ln(i,t){i&1&&(o(0,"div",34)(1,"p"),s(2,"No lessons found for this topic."),n()())}function On(i,t){if(i&1&&(o(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),s(3),n()(),o(4,"mat-card-content")(5,"table",12),L(6,13),h(7,un,2,0,"th",14)(8,gn,2,1,"td",15),O(),L(9,16),h(10,fn,2,0,"th",14)(11,_n,2,1,"td",15),O(),L(12,17),h(13,bn,2,0,"th",14)(14,vn,2,1,"td",15),O(),L(15,18),h(16,xn,2,0,"th",14)(17,yn,4,5,"td",15),O(),L(18,19),h(19,wn,2,0,"th",14)(20,Cn,2,1,"td",15),O(),L(21,20),h(22,Tn,2,0,"th",14)(23,kn,3,2,"td",15),O(),L(24,21),h(25,Sn,2,0,"th",14)(26,In,3,4,"td",15),O(),L(27,22),h(28,En,2,0,"th",14)(29,Mn,7,0,"td",15),O(),h(30,Pn,1,0,"tr",23)(31,An,1,0,"tr",24),n(),h(32,Ln,3,0,"div",25),n()()),i&2){let e=_();c(3),w("Lessons for: ",e.selectedTopic.title,""),c(2),d("dataSource",e.lessons),c(25),d("matHeaderRowDef",e.displayedColumns),c(),d("matRowDefColumns",e.displayedColumns),c(),d("ngIf",e.lessons.length===0)}}function Fn(i,t){i&1&&(o(0,"mat-card",35)(1,"mat-card-content")(2,"div",34)(3,"mat-icon"),s(4,"play_lesson"),n(),o(5,"p"),s(6,"Please select a topic to view its lessons."),n()()()())}var nt=class i{constructor(t,e,a,r){this.lessonService=t;this.topicService=e;this.snackBar=a;this.router=r}lessons=[];selectedTopic=null;topicSearchControl=new zt("");filteredTopics=M([]);displayedColumns=["lessonId","orderNumber","title","contentType","duration","isFree","createdAt","actions"];ngOnInit(){this.setupTopicAutocomplete(),this.restoreSelectedTopic()}restoreSelectedTopic(){let t=history.state;if(t&&t.selectedTopic){let e=t.selectedTopic;this.selectedTopic=e,this.topicSearchControl.setValue(e),this.loadLessons()}}setupTopicAutocomplete(){this.filteredTopics=this.topicSearchControl.valueChanges.pipe(B(""),te(300),ie(),z(t=>this._filterTopics(t||"")))}_filterTopics(t){let e=typeof t=="string"?t:t?.title||"";return!e||e.trim()===""?this.topicService.getAllTopics():this.topicService.getAllTopics()}displayTopicFn=t=>{if(!t)return"";let e=t.title||"Untitled",a=t.topicId||"N/A";return`${e} (ID: ${a})`};onTopicSelected(t){let e=t.option.value;this.selectedTopic=e,this.loadLessons()}navigateToAddLesson(){this.selectedTopic&&this.router.navigate(["lessons/add"],{state:{selectedTopic:this.selectedTopic}})}navigateToEditLesson(t){this.router.navigate(["lessons/update",t],{state:{selectedTopic:this.selectedTopic}})}loadLessons(){this.selectedTopic&&this.lessonService.getLessonsByTopicId(this.selectedTopic.topicId).subscribe({next:t=>{this.lessons=t.map(e=>he(J({},e),{createdAt:Fi(e.createdAt),updatedAt:Fi(e.updatedAt)}))},error:()=>{this.snackBar.open("Error loading lessons","Close",{duration:3e3})}})}deleteLesson(t){confirm("Are you sure you want to delete this lesson?")&&this.lessonService.deleteLesson(t).subscribe({next:()=>{this.loadLessons(),this.snackBar.open("Lesson deleted successfully","Close",{duration:3e3})},error:()=>{this.snackBar.open("Error deleting lesson","Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||i)(f(tt),f(et),f(Qe),f(Se))};static \u0275cmp=A({type:i,selectors:[["app-lesson-list"]],standalone:!0,features:[D],decls:20,vars:9,consts:[["auto","matAutocomplete"],[1,"container"],[1,"header"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"filter-card"],[1,"full-width"],["type","text","matInput","","placeholder","Type to search topics...",3,"formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","placeholder-card",4,"ngIf"],[3,"value"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","lessonId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","orderNumber"],["matColumnDef","title"],["matColumnDef","contentType"],["matColumnDef","duration"],["matColumnDef","isFree"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"content-type-badge"],[3,"color"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"],[1,"placeholder-card"]],template:function(e,a){if(e&1){let r=I();o(0,"div",1)(1,"div",2)(2,"h1"),s(3,"Lessons"),n(),o(4,"button",3),b("click",function(){return v(r),x(a.navigateToAddLesson())}),o(5,"mat-icon"),s(6,"add"),n(),s(7," Add Lesson "),n()(),o(8,"mat-card",4)(9,"mat-card-content")(10,"mat-form-field",5)(11,"mat-label"),s(12,"Search Topic"),n(),g(13,"input",6),o(14,"mat-autocomplete",7,0),b("optionSelected",function(p){return v(r),x(a.onTopicSelected(p))}),h(16,hn,2,2,"mat-option",8),G(17,"async"),n()()()(),h(18,On,33,5,"mat-card",9)(19,Fn,7,0,"mat-card",10),n()}if(e&2){let r=$(15);c(4),d("disabled",!a.selectedTopic),c(9),d("formControl",a.topicSearchControl)("matAutocomplete",r),c(),d("displayWith",a.displayTopicFn),c(2),d("ngForOf",Y(17,7,a.filteredTopics)),c(2),d("ngIf",a.selectedTopic),c(),d("ngIf",!a.selectedTopic)}},dependencies:[ke,we,Ce,Te,Mt,Pt,yi,mi,hi,_i,ui,pi,bi,gi,fi,vi,xi,Ae,Me,Pe,Ve,Ne,je,Re,Be,ze,qe,Ue,Ke,He,We,Ee,Je,Ze,Ye,Ge,$e,Xe,Oi,De,Oe,Fe,Kt],styles:[".container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}.filter-card[_ngcontent-%COMP%]{margin-bottom:20px}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;margin-bottom:16px}.placeholder-card[_ngcontent-%COMP%]{margin-top:20px}.content-type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.content-type-video[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.content-type-article[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.content-type-quiz[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.content-type-exercise[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#388e3c}"]})};function Fi(i){if(!i)return null;if(i instanceof Date)return i;if(typeof i=="string"&&i.includes(",")){let e=i.split(",").map(Number);if(e.length>=3)return new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0)}let t=new Date(i);return isNaN(t.getTime())?null:t}var Di=new V("CdkAccordion");var Nn=0,Ni=(()=>{class i{get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let a=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,a)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(e,a,r){this.accordion=e,this._changeDetectorRef=a,this._expansionDispatcher=r,this._openCloseAllSubscription=ue.EMPTY,this.closed=new P,this.opened=new P,this.destroyed=new P,this.expandedChange=new P,this.id=`cdk-accordion-child-${Nn++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((l,p)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===p&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(a){return new(a||i)(f(Di,12),f(Q),f(Le))}}static{this.\u0275dir=j({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",E],disabled:[2,"disabled","disabled",E]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Z([{provide:Di,useValue:void 0}]),H]})}}return i})(),Vi=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=W({type:i})}static{this.\u0275inj=X({})}}return i})();var qn=["body"],Bn=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],zn=["mat-expansion-panel-header","*","mat-action-row"];function jn(i,t){}var Hn=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Kn=["mat-panel-title","mat-panel-description","*"];function Un(i,t){if(i&1&&(o(0,"span",1),ge(),o(1,"svg",2),g(2,"path",3),n()()),i&2){let e=_();d("@indicatorRotate",e._getExpandedState())}}var Ri=new V("MAT_ACCORDION"),qi="225ms cubic-bezier(0.4,0.0,0.2,1)",zi={indicatorRotate:lt("indicatorRotate",[ce("collapsed, void",le({transform:"rotate(0deg)"})),ce("expanded",le({transform:"rotate(180deg)"})),dt("expanded <=> collapsed, void => collapsed",ct(qi))]),bodyExpansion:lt("bodyExpansion",[ce("collapsed, void",le({height:"0px",visibility:"hidden"})),ce("expanded",le({height:"*",visibility:""})),dt("expanded <=> collapsed, void => collapsed",ct(qi))])},ji=new V("MAT_EXPANSION_PANEL"),$n=(()=>{class i{constructor(e,a){this._template=e,this._expansionPanel=a}static{this.\u0275fac=function(a){return new(a||i)(f(yt),f(ji,8))}}static{this.\u0275dir=j({type:i,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return i})(),Gn=0,Hi=new V("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),mt=(()=>{class i extends Ni{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,a,r,l,p,u,y){super(e,a,r),this._viewContainerRef=l,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new P,this.afterCollapse=new P,this._inputChanges=new rt,this._headerId=`mat-expansion-panel-header-${Gn++}`,this.accordion=e,this._document=p,this._animationsDisabled=u==="NoopAnimations",y&&(this.hideToggle=y.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(B(null),ee(()=>this.expanded&&!this._portal),_t(1)).subscribe(()=>{this._portal=new ai(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,a=this._body.nativeElement;return e===a||a.contains(e)}return!1}_animationStarted(e){!Bi(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){Bi(e)||(e.toState==="expanded"?this.afterExpand.emit():e.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(a){return new(a||i)(f(Ri,12),f(Q),f(Le),f(wt),f(It),f(oe,8),f(Hi,8))}}static{this.\u0275cmp=A({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(a,r,l){if(a&1&&kt(l,$n,5),a&2){let p;re(p=se())&&(r._lazyContent=p.first)}},viewQuery:function(a,r){if(a&1&&xe(qn,5),a&2){let l;re(l=se())&&(r._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(a,r){a&2&&U("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",E],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Z([{provide:Ri,useValue:void 0},{provide:ji,useExisting:i}]),H,st,ne,D],ngContentSelectors:zn,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(a,r){if(a&1){let l=I();ae(Bn),F(0),o(1,"div",1,0),b("@bodyExpansion.start",function(u){return v(l),x(r._animationStarted(u))})("@bodyExpansion.done",function(u){return v(l),x(r._animationDone(u))}),o(3,"div",2),F(4,1),h(5,jn,0,0,"ng-template",3),n(),F(6,2),n()}a&2&&(c(),d("@bodyExpansion",r._getExpandedState())("id",r.id),K("aria-labelledby",r._headerId),c(4),d("cdkPortalOutlet",r._portal))},dependencies:[ri],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[zi.bodyExpansion]},changeDetection:0})}}return i})();function Bi(i){return i.fromState==="void"}var Ki=(()=>{class i{constructor(e,a,r,l,p,u,y){this.panel=e,this._element=a,this._focusMonitor=r,this._changeDetectorRef=l,this._animationMode=u,this._parentChangeSubscription=ue.EMPTY,this.tabIndex=0;let m=e.accordion?e.accordion._stateChanges.pipe(ee(C=>!!(C.hideToggle||C.togglePosition))):gt;this.tabIndex=parseInt(y||"")||0,this._parentChangeSubscription=ft(e.opened,e.closed,m,e._inputChanges.pipe(ee(C=>!!(C.hideToggle||C.disabled||C.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(ee(()=>e._containsFocus())).subscribe(()=>r.focusVia(a,"program")),p&&(this.expandedHeight=p.expandedHeight,this.collapsedHeight=p.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ot(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,a){e?this._focusMonitor.focusVia(this._element,e,a):this._element.nativeElement.focus(a)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(a){return new(a||i)(f(mt,1),f(_e),f(Ie),f(Q),f(Hi,8),f(oe,8),fe("tabindex"))}}static{this.\u0275cmp=A({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(a,r){a&1&&b("click",function(){return r._toggle()})("keydown",function(p){return r._keydown(p)}),a&2&&(K("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ct("height",r._getHeaderHeight()),U("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ye(e)]},standalone:!0,features:[H,D],ngContentSelectors:Kn,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(a,r){a&1&&(ae(Hn),o(0,"span",0),F(1),F(2,1),F(3,2),n(),h(4,Un,3,1,"span",1)),a&2&&(U("mat-content-hide-toggle",!r._showToggle()),c(4),ve(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[zi.indicatorRotate]},changeDetection:0})}}return i})(),Ui=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275dir=j({type:i,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0})}}return i})(),$i=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275dir=j({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return i})();var Gi=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=W({type:i})}static{this.\u0275inj=X({imports:[de,Vi,si]})}}return i})();var ot=class i{constructor(t){this.http=t}apiUrl=`${Jt.apiUrl}/lesson-tags`;getTagsByLessonId(t){return this.http.get(`${this.apiUrl}/lesson/${t}`)}addLessonTag(t){return this.http.post(this.apiUrl,t)}updateLessonTag(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteLessonTag(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(xt(At))};static \u0275prov=vt({token:i,factory:i.\u0275fac,providedIn:"root"})};function Xn(i,t){i&1&&(o(0,"div",7),g(1,"mat-spinner"),o(2,"p"),s(3,"Loading lesson data..."),n()())}function Wn(i,t){if(i&1&&(o(0,"mat-option",49),s(1),n()),i&2){let e=t.$implicit,a=_(2);d("value",e),c(),w(" ",a.displayCourseFn(e)," ")}}function Zn(i,t){if(i&1&&(o(0,"mat-option",49),s(1),n()),i&2){let e=t.$implicit,a=_(2);d("value",e),c(),w(" ",a.displayTopicFn(e)," ")}}function Yn(i,t){i&1&&(o(0,"mat-hint",50),s(1," Please select a course first to view available topics "),n())}function Jn(i,t){i&1&&(o(0,"mat-error"),s(1," Topic selection is required "),n())}function eo(i,t){i&1&&(o(0,"mat-error"),s(1," Title is required "),n())}function to(i,t){i&1&&(o(0,"mat-error"),s(1," Content type is required "),n())}function io(i,t){i&1&&(o(0,"mat-form-field",11)(1,"mat-label"),s(2,"Order Number"),n(),g(3,"input",51),o(4,"mat-hint"),s(5,"Position of this lesson within the topic"),n()())}function no(i,t){i&1&&(o(0,"mat-chip",106)(1,"mat-icon"),s(2,"star"),n(),s(3," Important "),n())}function oo(i,t){i&1&&(o(0,"mat-error"),s(1," Title is required "),n())}function ao(i,t){i&1&&(o(0,"mat-error"),s(1," Content type is required "),n())}function ro(i,t){i&1&&(o(0,"div",107),s(1," Content is required "),n())}function so(i,t){i&1&&(o(0,"mat-form-field",11)(1,"mat-label"),s(2,"Visual Aid URL"),n(),g(3,"input",108),o(4,"mat-hint"),s(5,"URL to an image, diagram, or visual aid"),n()())}function lo(i,t){if(i&1&&(o(0,"mat-option",49),s(1),n()),i&2){let e=t.$implicit;d("value",e.tagId),c(),w(" ",e.tagName," ")}}function co(i,t){i&1&&(o(0,"mat-error"),s(1," Tag selection is required "),n())}function mo(i,t){if(i&1){let e=I();o(0,"div",109)(1,"mat-form-field",110)(2,"mat-label"),s(3,"Tag"),n(),o(4,"mat-select",111),h(5,lo,2,2,"mat-option",14),n(),h(6,co,2,0,"mat-error",20),n(),o(7,"mat-form-field",112)(8,"mat-label"),s(9,"Relevance Score"),n(),g(10,"input",113),o(11,"mat-hint"),s(12,"1-10 scale"),n()(),o(13,"button",114),b("click",function(){let r=v(e).index,l=_().index,p=_(2);return x(p.removeKeynoteTag(l,r))}),o(14,"mat-icon"),s(15,"delete"),n()()()}if(i&2){let e,a=t.$implicit,r=t.index,l=_(3);d("formGroupName",r),c(5),d("ngForOf",l.allTags),c(),d("ngIf",(e=a.get("tagId"))==null?null:e.hasError("required"))}}function po(i,t){i&1&&(o(0,"div",115)(1,"mat-icon"),s(2,"local_offer_outlined"),n(),o(3,"span"),s(4,"No tags added to this keynote yet."),n()())}function ho(i,t){if(i&1){let e=I();o(0,"mat-expansion-panel",52)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"div",53)(4,"mat-icon",54),s(5,"note_alt"),n(),o(6,"span",55),s(7),n(),h(8,no,4,0,"mat-chip",56),o(9,"mat-chip",57),s(10),n()()(),o(11,"mat-panel-description")(12,"span",58),s(13),n()()(),o(14,"div",59)(15,"mat-form-field",11)(16,"mat-label"),s(17,"Title"),n(),g(18,"input",60),h(19,oo,2,0,"mat-error",20),n(),o(20,"mat-form-field",11)(21,"mat-label"),s(22,"Content Type"),n(),o(23,"mat-select",26)(24,"mat-option",61),s(25,"Text"),n(),o(26,"mat-option",62),s(27,"Bullet Points"),n(),o(28,"mat-option",63),s(29,"Quote"),n(),o(30,"mat-option",64),s(31,"Example"),n()(),h(32,ao,2,0,"mat-error",20),n(),o(33,"div",65)(34,"label",23),s(35,"Content"),n(),o(36,"div",66),g(37,"quill-editor",67),n(),o(38,"div",68),s(39),n(),h(40,ro,2,0,"div",69),n(),o(41,"div",70)(42,"mat-checkbox",71),s(43," Mark as Important "),n(),o(44,"mat-checkbox",72),s(45," Has Visual Aid "),n()(),h(46,so,6,0,"mat-form-field",33),o(47,"div",70)(48,"mat-form-field",73)(49,"mat-label"),s(50,"Related Planet"),n(),o(51,"mat-select",74)(52,"mat-option",75),s(53,"None"),n(),o(54,"mat-option",76),s(55,"Sun"),n(),o(56,"mat-option",77),s(57,"Moon"),n(),o(58,"mat-option",78),s(59,"Mars"),n(),o(60,"mat-option",79),s(61,"Mercury"),n(),o(62,"mat-option",80),s(63,"Jupiter"),n(),o(64,"mat-option",81),s(65,"Venus"),n(),o(66,"mat-option",82),s(67,"Saturn"),n(),o(68,"mat-option",83),s(69,"Rahu"),n(),o(70,"mat-option",84),s(71,"Ketu"),n()()(),o(72,"mat-form-field",73)(73,"mat-label"),s(74,"Related Zodiac"),n(),o(75,"mat-select",85)(76,"mat-option",75),s(77,"None"),n(),o(78,"mat-option",86),s(79,"Aries"),n(),o(80,"mat-option",87),s(81,"Taurus"),n(),o(82,"mat-option",88),s(83,"Gemini"),n(),o(84,"mat-option",89),s(85,"Cancer"),n(),o(86,"mat-option",90),s(87,"Leo"),n(),o(88,"mat-option",91),s(89,"Virgo"),n(),o(90,"mat-option",92),s(91,"Libra"),n(),o(92,"mat-option",93),s(93,"Scorpio"),n(),o(94,"mat-option",94),s(95,"Sagittarius"),n(),o(96,"mat-option",95),s(97,"Capricorn"),n(),o(98,"mat-option",96),s(99,"Aquarius"),n(),o(100,"mat-option",97),s(101,"Pisces"),n()()()(),o(102,"div",98)(103,"div",36)(104,"h4",99)(105,"mat-icon"),s(106,"local_offer"),n(),s(107," Keynote Tags "),n(),o(108,"button",100),b("click",function(){let r=v(e).index,l=_(2);return x(l.addKeynoteTag(r))}),o(109,"mat-icon"),s(110,"add"),n(),s(111," Add Tag "),n()(),o(112,"div",101),h(113,mo,16,3,"div",102)(114,po,5,0,"div",103),n()(),o(115,"div",104)(116,"button",105),b("click",function(){let r=v(e).index,l=_(2);return x(l.removeKeynote(r))}),o(117,"mat-icon"),s(118,"delete"),n(),s(119," Remove "),n()()()()}if(i&2){let e,a,r,l,p,u,y,m,C,pt,ht,ut,k=t.$implicit,at=t.index,q=_(2);d("formGroupName",at)("expanded",(e=k.get("isNew"))==null?null:e.value),c(7),w(" ",((a=k.get("title"))==null?null:a.value)||"New Keynote"," "),c(),d("ngIf",(r=k.get("isImportant"))==null?null:r.value),c(),d("ngClass","content-type-"+((l=k.get("contentType"))==null?null:l.value)),c(),w(" ",q.getContentTypeLabel((p=k.get("contentType"))==null?null:p.value)," "),c(3),w(" ",q.getKeynotePreview((u=k.get("content"))==null?null:u.value)," "),c(6),d("ngIf",(y=k.get("title"))==null?null:y.hasError("required")),c(13),d("ngIf",(m=k.get("contentType"))==null?null:m.hasError("required")),c(5),d("modules",q.quillModules)("placeholder",q.getContentPlaceholder((C=k.get("contentType"))==null?null:C.value)),c(2),R(q.getContentHint((pt=k.get("contentType"))==null?null:pt.value)),c(),d("ngIf",(ht=k.get("content"))==null?null:ht.hasError("required")),c(6),d("ngIf",(ut=k.get("hasVisualAid"))==null?null:ut.value),c(67),d("ngForOf",q.getKeynoteTags(at).controls),c(),d("ngIf",q.getKeynoteTags(at).length===0)}}function uo(i,t){i&1&&(o(0,"div",116)(1,"mat-icon"),s(2,"note_add"),n(),o(3,"p"),s(4,'No keynotes added yet. Click "Add Keynote" to get started.'),n()())}function go(i,t){if(i&1&&(o(0,"mat-option",49),s(1),n()),i&2){let e=t.$implicit;d("value",e.tagId),c(),w(" ",e.tagName," ")}}function fo(i,t){i&1&&(o(0,"mat-error"),s(1," Tag selection is required "),n())}function _o(i,t){if(i&1){let e=I();o(0,"div",117)(1,"mat-form-field",11)(2,"mat-label"),s(3,"Tag"),n(),o(4,"mat-select",111),h(5,go,2,2,"mat-option",14),n(),h(6,fo,2,0,"mat-error",20),n(),o(7,"mat-form-field",11)(8,"mat-label"),s(9,"Relevance Score"),n(),g(10,"input",118),o(11,"mat-hint"),s(12,"Enter a score from 1-10 indicating relevance to the lesson"),n()(),o(13,"div",119)(14,"button",120),b("click",function(){let r=v(e).index,l=_(2);return x(l.saveTag(r))}),o(15,"mat-icon"),s(16,"save"),n()(),o(17,"button",121),b("click",function(){let r=v(e).index,l=_(2);return x(l.removeTag(r))}),o(18,"mat-icon"),s(19,"delete"),n(),s(20," Remove "),n()()()}if(i&2){let e,a=t.$implicit,r=t.index,l=_(2);d("formGroupName",r),c(5),d("ngForOf",l.allTags),c(),d("ngIf",(e=a.get("tagId"))==null?null:e.hasError("required"))}}function bo(i,t){i&1&&(o(0,"div",122)(1,"mat-icon"),s(2,"label_off"),n(),o(3,"p"),s(4,'No tags added yet. Click "Add Tag" to get started.'),n()())}function vo(i,t){i&1&&g(0,"mat-spinner",123)}function xo(i,t){if(i&1&&(o(0,"span"),s(1),n()),i&2){let e=_(2);c(),w(" with ",e.keynotes.length," Keynote(s)")}}function yo(i,t){if(i&1){let e=I();o(0,"form",8),b("ngSubmit",function(){v(e);let r=_();return x(r.onSubmit())}),o(1,"div",9)(2,"h3",10)(3,"mat-icon"),s(4,"info"),n(),s(5," Lesson Information "),n(),o(6,"mat-form-field",11)(7,"mat-label"),s(8,"Search Course"),n(),g(9,"input",12),o(10,"mat-autocomplete",13,0),b("optionSelected",function(r){v(e);let l=_();return x(l.onCourseSelected(r))}),h(12,Wn,2,2,"mat-option",14),G(13,"async"),n(),o(14,"mat-icon",15),s(15,"school"),n(),o(16,"mat-hint"),s(17,"Select a course to filter topics"),n()(),o(18,"mat-form-field",11)(19,"mat-label"),s(20,"Course ID"),n(),g(21,"input",16),o(22,"mat-hint"),s(23,"Selected from course search above"),n()(),o(24,"mat-form-field",11)(25,"mat-label"),s(26,"Search Topic"),n(),g(27,"input",17),o(28,"mat-autocomplete",13,1),b("optionSelected",function(r){v(e);let l=_();return x(l.onTopicSelected(r))}),h(30,Zn,2,2,"mat-option",14),G(31,"async"),n(),o(32,"mat-icon",15),s(33,"search"),n(),h(34,Yn,2,0,"mat-hint",18),n(),o(35,"mat-form-field",11)(36,"mat-label"),s(37,"Topic ID"),n(),g(38,"input",19),o(39,"mat-hint"),s(40,"Selected from topic search above"),n(),h(41,Jn,2,0,"mat-error",20),n(),o(42,"mat-form-field",11)(43,"mat-label"),s(44,"Title"),n(),g(45,"input",21),h(46,eo,2,0,"mat-error",20),n(),o(47,"div",22)(48,"label",23),s(49,"Description"),n(),o(50,"div",24),g(51,"quill-editor",25),n()(),o(52,"mat-form-field",11)(53,"mat-label"),s(54,"Content Type"),n(),o(55,"mat-select",26)(56,"mat-option",27),s(57,"Video"),n(),o(58,"mat-option",28),s(59,"Article"),n(),o(60,"mat-option",29),s(61,"Quiz"),n(),o(62,"mat-option",30),s(63,"Exercise"),n()(),h(64,to,2,0,"mat-error",20),n(),o(65,"mat-form-field",11)(66,"mat-label"),s(67,"Content URL"),n(),g(68,"input",31),o(69,"mat-hint"),s(70,"URL to the lesson content (video, article, etc.)"),n()(),o(71,"mat-form-field",11)(72,"mat-label"),s(73,"Duration (minutes)"),n(),g(74,"input",32),o(75,"mat-hint"),s(76,"Estimated time to complete this lesson"),n()(),h(77,io,6,0,"mat-form-field",33),o(78,"div",34)(79,"mat-checkbox",35)(80,"strong"),s(81,"Free lesson"),n(),s(82," (accessible without payment) "),n()()(),g(83,"mat-divider"),o(84,"div",9)(85,"div",36)(86,"h3",10)(87,"mat-icon"),s(88,"note_alt"),n(),s(89," Lesson Keynotes "),n(),o(90,"button",37),b("click",function(){v(e);let r=_();return x(r.addKeynote())}),o(91,"mat-icon"),s(92,"add"),n(),s(93," Add Keynote "),n()(),o(94,"div",38),h(95,ho,120,16,"mat-expansion-panel",39)(96,uo,5,0,"div",40),n()(),g(97,"mat-divider"),o(98,"div",9)(99,"div",36)(100,"h3",10)(101,"mat-icon"),s(102,"label"),n(),s(103," Lesson Tags "),n(),o(104,"button",41),b("click",function(){v(e);let r=_();return x(r.addTag())}),o(105,"mat-icon"),s(106,"add"),n(),s(107," Add Tag "),n()(),o(108,"div",42),h(109,_o,21,3,"div",43)(110,bo,5,0,"div",44),n()(),g(111,"mat-divider"),o(112,"div",45)(113,"button",46),b("click",function(){v(e);let r=_();return x(r.goBack())}),s(114," Cancel "),n(),o(115,"button",47),h(116,vo,1,0,"mat-spinner",48),s(117),h(118,xo,2,1,"span",20),n()()()}if(i&2){let e,a,r,l,p,u=$(11),y=$(29),m=_();d("formGroup",m.lessonForm),c(9),d("matAutocomplete",u),c(),d("displayWith",m.displayCourseFn),c(2),d("ngForOf",Y(13,22,m.filteredCourses)),c(15),d("matAutocomplete",y)("disabled",!((e=m.lessonForm.get("courseId"))!=null&&e.value)),c(),d("displayWith",m.displayTopicFn),c(2),d("ngForOf",Y(31,24,m.filteredTopics)),c(4),d("ngIf",!((a=m.lessonForm.get("courseId"))!=null&&a.value)),c(7),d("ngIf",(r=m.lessonForm.get("topicId"))==null?null:r.hasError("required")),c(5),d("ngIf",(l=m.lessonForm.get("title"))==null?null:l.hasError("required")),c(5),d("modules",m.quillModules),c(13),d("ngIf",(p=m.lessonForm.get("contentType"))==null?null:p.hasError("required")),c(13),d("ngIf",m.isEditMode),c(18),d("ngForOf",m.keynotes.controls),c(),d("ngIf",m.keynotes.length===0),c(13),d("ngForOf",m.tags.controls),c(),d("ngIf",m.tags.length===0),c(5),d("disabled",m.lessonForm.invalid||m.submitting),c(),d("ngIf",m.submitting),c(),w(" ",m.submitting?m.isEditMode?"Updating...":"Creating...":m.isEditMode?"Update":"Create"," Lesson "),c(),d("ngIf",m.keynotes.length>0&&!m.submitting)}}var pe=class i{lessonForm;filteredTopics=M([]);filteredCourses=M([]);isEditMode=!1;lessonId=null;allTags=[];allCourses=[];loading=!1;submitting=!1;quillModules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link"]]};fb=S(Yt);lessonService=S(tt);topicService=S(et);courseService=S(Ti);keynoteService=S(Mi);router=S(Se);route=S(Lt);snackBar=S(Qe);lessonTagService=S(ot);keynoteTagService=S(Pi);tagService=S(Ai);constructor(){this.lessonForm=this.fb.group({title:["",T.required],description:[""],courseId:[""],courseSearch:[""],topicId:["",T.required],topicSearch:[""],contentType:["",T.required],contentUrl:[""],durationMinutes:[""],orderNumber:[1],isFree:[!1],tags:this.fb.array([]),keynotes:this.fb.array([])})}get tags(){return this.lessonForm.get("tags")}get keynotes(){return this.lessonForm.get("keynotes")}ngOnInit(){this.setupCourseAutocomplete(),this.setupTopicAutocomplete(),this.checkEditMode(),this.loadAllTags(),this.loadAllCourses(),this.handleNavigationState()}handleNavigationState(){let e=this.router.getCurrentNavigation()?.extras?.state||window.history.state;if(e&&e.selectedTopic&&!this.isEditMode){let a=e.selectedTopic;this.courseService.getCourseById(a.courseId).subscribe({next:r=>{this.lessonForm.patchValue({courseId:a.courseId,courseSearch:r,topicId:a.topicId,topicSearch:a})},error:()=>{console.error("Error loading course for selected topic")}})}}setupCourseAutocomplete(){this.filteredCourses=this.lessonForm.get("courseSearch").valueChanges.pipe(B(""),te(300),ie(),z(t=>this._filterCourses(t)))}setupTopicAutocomplete(){this.filteredTopics=this.lessonForm.get("topicSearch").valueChanges.pipe(B(""),te(300),ie(),z(t=>this._filterTopics(t)))}_filterCourses(t){if(typeof t!="string")return M([]);if(!t||t.trim()==="")return this.courseService.getAllCourses();let e=t.toLowerCase();return this.courseService.getAllCourses().pipe(z(a=>M(a.filter(r=>r.title.toLowerCase().includes(e)))))}_filterTopics(t){if(typeof t!="string")return M([]);let e=this.lessonForm.get("courseId")?.value;return e?this.topicService.getTopicsByCourseId(e).pipe(z(a=>{if(!t||t.trim()==="")return M(a);let r=t.toLowerCase();return M(a.filter(l=>l.title.toLowerCase().includes(r)))})):M([])}displayCourseFn=t=>t?`${t.title} (ID: ${t.courseId})`:"";displayTopicFn=t=>t?`${t.title} (ID: ${t.topicId})`:"";onCourseSelected(t){let e=t.option.value;this.lessonForm.patchValue({courseId:e.courseId,topicId:"",topicSearch:""}),this.lessonForm.get("topicSearch")?.updateValueAndValidity()}onTopicSelected(t){let e=t.option.value;this.lessonForm.patchValue({topicId:e.topicId})}loadAllCourses(){this.courseService.getAllCourses().subscribe({next:t=>{this.allCourses=t},error:t=>{console.error("Error loading courses:",t),this.snackBar.open("Error loading courses","Close",{duration:3e3})}})}addKeynote(){let t=this.fb.group({title:["",T.required],content:["",T.required],contentType:["text",T.required],isImportant:[!1],hasVisualAid:[!1],visualAidUrl:[""],relatedPlanet:[""],relatedZodiac:[""],keynoteTags:this.fb.array([]),isNew:[!0]});this.keynotes.push(t)}removeKeynote(t){this.keynotes.removeAt(t)}addTag(){let t=this.fb.group({lessonTagId:[null],tagId:[null,T.required],tagName:[""],relevanceScore:[1]});this.tags.push(t)}removeTag(t){return N(this,null,function*(){let a=this.tags.at(t).value;if(a.lessonTagId)try{yield this.lessonTagService.deleteLessonTag(a.lessonTagId).toPromise(),this.snackBar.open("Tag deleted successfully.","Close",{duration:2e3}),this.loadTags()}catch(r){let l="Failed to delete tag. Please try again.";r&&r.error&&r.error.message?l=r.error.message:r&&r.message&&(l=r.message),this.snackBar.open(l,"Close",{duration:5e3}),console.error("Error deleting tag:",r)}else this.tags.removeAt(t)})}getKeynoteTags(t){return this.keynotes.at(t).get("keynoteTags")}addKeynoteTag(t){let e=this.fb.group({keynoteTagId:[null],tagId:[null,T.required],relevanceScore:[5]});this.getKeynoteTags(t).push(e)}removeKeynoteTag(t,e){this.getKeynoteTags(t).removeAt(e)}getContentTypeLabel(t){switch(t){case"text":return"Text";case"bullet_points":return"Bullet Points";case"quote":return"Quote";case"example":return"Example";default:return t||"Text"}}getKeynotePreview(t){if(!t)return"No content";let e=t.replace(/<[^>]*>/g,"");return e.length>50?e.substring(0,50)+"...":e}getContentPlaceholder(t){switch(t){case"bullet_points":return`Enter bullet points, one per line:
\u2022 Point 1
\u2022 Point 2
\u2022 Point 3`;case"quote":return"Enter the quote text...";case"example":return"Provide a detailed example...";default:return"Enter the keynote content..."}}getContentHint(t){switch(t){case"bullet_points":return"Use bullet points (\u2022), dashes (-), or asterisks (*) to separate points";case"quote":return"Inspirational or educational quotes related to the lesson";case"example":return"Practical examples that illustrate the lesson concepts";default:return"General text content for the keynote"}}checkEditMode(){let t=this.route.snapshot.paramMap.get("id");if(t){let e=parseInt(t,10);!isNaN(e)&&e>0?(this.isEditMode=!0,this.lessonId=e,console.log("Edit mode enabled for lessonId:",this.lessonId),this.loadLesson()):(console.error("Invalid lesson ID in route:",t),this.snackBar.open("Invalid lesson ID provided","Close",{duration:3e3}),this.router.navigate(["/lessons"]))}}loadLesson(){this.lessonId&&(this.loading=!0,this.lessonService.getLessonById(this.lessonId).subscribe({next:t=>{this.lessonForm.patchValue({title:t.title,description:t.description,topicId:t.topicId,contentType:t.contentType,contentUrl:t.contentUrl,durationMinutes:t.durationMinutes,orderNumber:t.orderNumber,isFree:t.isFree}),this.topicService.getTopicById(t.topicId).subscribe({next:e=>{this.lessonForm.patchValue({topicSearch:e,courseId:e.courseId}),this.courseService.getCourseById(e.courseId).subscribe({next:a=>{this.lessonForm.patchValue({courseSearch:a})},error:()=>{console.error("Error loading course details")}})}}),this.loadKeynotes(),this.loadTags(),this.loading=!1},error:()=>{this.snackBar.open("Error loading lesson","Close",{duration:3e3}),this.loading=!1}}))}loadKeynotes(){this.lessonId&&this.keynoteService.getKeynotesByLessonId(this.lessonId).subscribe({next:t=>{for(;this.keynotes.length!==0;)this.keynotes.removeAt(0);t.forEach(e=>{let a=this.fb.group({keynoteId:[e.keynoteId],title:[e.title,T.required],content:[e.content,T.required],contentType:[e.contentType,T.required],isImportant:[e.isImportant||!1],hasVisualAid:[e.hasVisualAid||!1],visualAidUrl:[e.visualAidUrl||""],relatedPlanet:[e.relatedPlanet||""],relatedZodiac:[e.relatedZodiac||""],keynoteTags:this.fb.array([]),isNew:[!1]});this.keynotes.push(a),e.keynoteId&&this.loadKeynoteTags(e.keynoteId,this.keynotes.length-1)})},error:()=>{this.snackBar.open("Error loading keynotes","Close",{duration:3e3})}})}loadTags(){this.lessonId&&typeof this.lessonId=="number"&&this.lessonId>0?(console.log("Loading tags for lessonId:",this.lessonId),this.lessonTagService.getTagsByLessonId(this.lessonId).subscribe({next:t=>{for(console.log("Tags loaded successfully:",t);this.tags.length!==0;)this.tags.removeAt(0);t.forEach(e=>{let a=this.fb.group({lessonTagId:[e.lessonTagId],tagId:[e.tagId,T.required],tagName:[e.tagName||""],relevanceScore:[e.relevanceScore||1]});this.tags.push(a)}),console.log("Tags form array updated, length:",this.tags.length)},error:t=>{console.error("Error loading tags:",t);let e="Error loading tags";t.status&&(e+=` (${t.status})`),t.error&&t.error.message&&(e+=`: ${t.error.message}`),this.snackBar.open(e,"Close",{duration:5e3})}})):console.log("lessonId is not valid for loadTags:",this.lessonId,typeof this.lessonId)}loadAllTags(){this.tagService.getTags().subscribe({next:t=>{this.allTags=t},error:()=>{this.snackBar.open("Error loading tags","Close",{duration:3e3})}})}loadKeynoteTags(t,e){this.keynoteTagService.getTagsByKeynoteId(t).subscribe({next:a=>{let r=this.getKeynoteTags(e);for(;r.length!==0;)r.removeAt(0);a.forEach(l=>{let p=this.fb.group({keynoteTagId:[l.keynoteTagId],tagId:[l.tagId,T.required],relevanceScore:[l.relevanceScore||5]});r.push(p)})},error:()=>{this.snackBar.open("Error loading keynote tags","Close",{duration:3e3})}})}onSubmit(){if(this.lessonForm.valid){this.submitting=!0;let t=this.lessonForm.value,e=J({title:t.title,description:t.description,topicId:t.topicId,contentType:t.contentType,contentUrl:t.contentUrl,durationMinutes:t.durationMinutes,isFree:t.isFree},this.isEditMode&&{orderNumber:t.orderNumber});this.isEditMode&&this.lessonId?this.lessonService.updateLesson(this.lessonId,e).subscribe({next:()=>N(this,null,function*(){try{yield this.handleKeynotes(this.lessonId),yield this.handleTags(this.lessonId),this.snackBar.open(`Lesson updated successfully with ${this.keynotes.length} keynote(s) and ${this.tags.length} tag(s)!`,"Close",{duration:3e3}),this.submitting=!1,this.goBack()}catch(a){console.error("Error updating keynotes/tags:",a),this.snackBar.open("Lesson updated but some keynotes or tags failed to save","Close",{duration:5e3}),this.submitting=!1,this.goBack()}}),error:a=>{console.error("Error updating lesson:",a),this.snackBar.open("Error updating lesson. Please try again.","Close",{duration:5e3}),this.submitting=!1}}):this.lessonService.createLesson(e).subscribe({next:a=>N(this,null,function*(){try{yield this.handleKeynotes(a.lessonId),yield this.handleTags(a.lessonId),this.snackBar.open(`Lesson created successfully with ${this.keynotes.length} keynote(s) and ${this.tags.length} tag(s)!`,"Close",{duration:3e3}),this.submitting=!1,this.goBack()}catch(r){console.error("Error creating keynotes/tags:",r),this.snackBar.open("Lesson created but some keynotes or tags failed to save","Close",{duration:5e3}),this.submitting=!1,this.goBack()}}),error:a=>{console.error("Error creating lesson:",a),this.snackBar.open("Error creating lesson. Please try again.","Close",{duration:5e3}),this.submitting=!1}})}else this.snackBar.open("Please fill in all required fields correctly.","Close",{duration:3e3})}handleKeynotes(t){return N(this,null,function*(){let e=[],a=this.lessonForm.get("keynotes")?.value||[];for(let r=0;r<a.length;r++){let l=a[r],p={lessonId:t,title:l.title,content:l.content,contentType:l.contentType,isImportant:l.isImportant||!1,hasVisualAid:l.hasVisualAid||!1,visualAidUrl:l.visualAidUrl||null,relatedPlanet:l.relatedPlanet||null,relatedZodiac:l.relatedZodiac||null};try{let u;l.keynoteId?u=yield this.keynoteService.updateKeynote(l.keynoteId,p).toPromise():u=yield this.keynoteService.createKeynote(p).toPromise(),u&&u.keynoteId&&l.keynoteTags&&(yield this.handleKeynoteTags(u.keynoteId,l.keynoteTags))}catch(u){throw console.error("Error handling keynote:",u),u}}})}handleKeynoteTags(t,e){return N(this,null,function*(){if(this.isEditMode)try{let r=(yield this.keynoteTagService.getTagsByKeynoteId(t).toPromise())||[],l=e.map(m=>m.keynoteTagId).filter(m=>m),u=r.filter(m=>m.keynoteTagId&&!l.includes(m.keynoteTagId)).filter(m=>m.keynoteTagId).map(m=>this.keynoteTagService.deleteKeynoteTag(m.keynoteTagId).toPromise());u.length>0&&(yield Promise.all(u));let y=[];e.forEach(m=>{let C={keynoteId:t,tagId:m.tagId,relevanceScore:m.relevanceScore||5};m.keynoteTagId?y.push(this.keynoteTagService.updateKeynoteTag(m.keynoteTagId,C).toPromise()):y.push(this.keynoteTagService.createKeynoteTag(C).toPromise())}),y.length>0&&(yield Promise.all(y))}catch(a){throw console.error("Error handling keynote tags:",a),a}else{let a=[];e.forEach(r=>{let l={keynoteId:t,tagId:r.tagId,relevanceScore:r.relevanceScore||5};a.push(this.keynoteTagService.createKeynoteTag(l).toPromise())}),a.length>0&&(yield Promise.all(a))}})}handleTags(t){return N(this,null,function*(){let e=this.lessonForm.get("tags")?.value||[];if(this.isEditMode)try{let r=(yield this.lessonTagService.getTagsByLessonId(t).toPromise())||[],l=e.map(m=>m.lessonTagId).filter(m=>m),u=r.filter(m=>m.lessonTagId&&!l.includes(m.lessonTagId)).filter(m=>m.lessonTagId).map(m=>this.lessonTagService.deleteLessonTag(m.lessonTagId).toPromise());u.length>0&&(yield Promise.all(u));let y=[];e.forEach(m=>{let C={lessonId:t,tagId:m.tagId,relevanceScore:m.relevanceScore||1};m.lessonTagId?y.push(this.lessonTagService.updateLessonTag(m.lessonTagId,C).toPromise()):y.push(this.lessonTagService.addLessonTag(C).toPromise())}),y.length>0&&(yield Promise.all(y))}catch(a){throw console.error("Error handling tags:",a),a}else{let a=[];e.forEach(r=>{let l={lessonId:t,tagId:r.tagId,relevanceScore:r.relevanceScore||1};a.push(this.lessonTagService.addLessonTag(l).toPromise())}),a.length>0&&(yield Promise.all(a))}})}goBack(){let t=this.lessonForm.get("topicId")?.value,e=this.lessonForm.get("topicSearch")?.value;t&&e?this.router.navigate(["/lessons"],{state:{selectedTopic:e}}):this.router.navigate(["/lessons"])}saveTag(t){return N(this,null,function*(){let e=this.tags.at(t);if(!e.valid){this.snackBar.open("Please select a tag and enter a valid relevance score.","Close",{duration:3e3});return}if(!this.lessonId||typeof this.lessonId!="number"){this.snackBar.open("Lesson ID is missing. Cannot save tag.","Close",{duration:3e3});return}let a=e.value,r={lessonId:this.lessonId,tagId:Number(a.tagId),relevanceScore:Number(a.relevanceScore)};try{if(a.lessonTagId)yield this.lessonTagService.updateLessonTag(a.lessonTagId,he(J({},r),{lessonTagId:a.lessonTagId})).toPromise(),this.snackBar.open("Tag updated successfully.","Close",{duration:2e3});else{let l=yield this.lessonTagService.addLessonTag(r).toPromise();l&&l.lessonTagId&&e.patchValue({lessonTagId:l.lessonTagId}),this.snackBar.open("Tag added successfully.","Close",{duration:2e3})}this.loadTags()}catch(l){let p="Failed to save tag. Please try again.";l&&l.error&&l.error.message?p=l.error.message:l&&l.message&&(p=l.message),this.snackBar.open(p,"Close",{duration:5e3}),console.error("Error saving tag:",l)}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=A({type:i,selectors:[["app-add-lesson"]],standalone:!0,features:[D],decls:15,vars:3,consts:[["courseAuto","matAutocomplete"],["auto","matAutocomplete"],[1,"container"],[1,"header"],["mat-button","",3,"click"],["class","loading-container",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-container"],[3,"ngSubmit","formGroup"],[1,"section"],[1,"section-title"],["appearance","outline",1,"full-width"],["type","text","matInput","","formControlName","courseSearch","placeholder","Type to search courses...",3,"matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],["matInput","","formControlName","courseId","readonly",""],["type","text","matInput","","formControlName","topicSearch","placeholder","Type to search topics...",3,"matAutocomplete","disabled"],["class","course-warning",4,"ngIf"],["matInput","","formControlName","topicId","required","","readonly",""],[4,"ngIf"],["matInput","","formControlName","title","required","","placeholder","Enter lesson title..."],[1,"rich-text-field"],[1,"rich-text-label"],[1,"rich-text-container"],["formControlName","description","placeholder","Enter lesson description...","theme","snow",3,"modules"],["formControlName","contentType","required",""],["value","video"],["value","article"],["value","quiz"],["value","exercise"],["matInput","","formControlName","contentUrl","type","url","placeholder","https://example.com/content"],["matInput","","type","number","formControlName","durationMinutes","min","0","placeholder","0"],["appearance","outline","class","full-width",4,"ngIf"],[1,"checkbox-container"],["formControlName","isFree",1,"full-width"],[1,"section-header"],["mat-raised-button","","color","accent","type","button",1,"add-keynote-btn",3,"click"],["formArrayName","keynotes",1,"keynotes-container"],["class","keynote-panel",3,"formGroupName","expanded",4,"ngFor","ngForOf"],["class","no-keynotes",4,"ngIf"],["mat-raised-button","","color","accent","type","button",1,"add-tag-btn",3,"click"],["formArrayName","tags",1,"tags-container"],["class","tag-item",3,"formGroupName",4,"ngFor","ngForOf"],["class","no-tags",4,"ngIf"],[1,"button-container"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],[3,"value"],[1,"course-warning"],["matInput","","type","number","formControlName","orderNumber","min","1"],[1,"keynote-panel",3,"formGroupName","expanded"],[1,"keynote-title-container"],[1,"keynote-icon"],[1,"keynote-title"],["class","important-chip",4,"ngIf"],[1,"content-type-chip",3,"ngClass"],[1,"keynote-preview"],[1,"keynote-form"],["matInput","","formControlName","title","required",""],["value","text"],["value","bullet_points"],["value","quote"],["value","example"],[1,"rich-text-field","keynote-field"],[1,"rich-text-container","keynote-editor"],["formControlName","content","theme","snow",3,"modules","placeholder"],[1,"rich-text-hint"],["class","rich-text-error",4,"ngIf"],[1,"form-row"],["formControlName","isImportant",1,"checkbox-field"],["formControlName","hasVisualAid",1,"checkbox-field"],["appearance","outline",1,"half-width"],["formControlName","relatedPlanet"],["value",""],["value","Sun"],["value","Moon"],["value","Mars"],["value","Mercury"],["value","Jupiter"],["value","Venus"],["value","Saturn"],["value","Rahu"],["value","Ketu"],["formControlName","relatedZodiac"],["value","Aries"],["value","Taurus"],["value","Gemini"],["value","Cancer"],["value","Leo"],["value","Virgo"],["value","Libra"],["value","Scorpio"],["value","Sagittarius"],["value","Capricorn"],["value","Aquarius"],["value","Pisces"],[1,"keynote-tags-section"],[1,"section-subtitle"],["mat-button","","color","accent","type","button",1,"add-keynote-tag-btn",3,"click"],["formArrayName","keynoteTags",1,"keynote-tags-container"],["class","keynote-tag-item",3,"formGroupName",4,"ngFor","ngForOf"],["class","no-keynote-tags",4,"ngIf"],[1,"keynote-actions"],["mat-button","","color","warn","type","button","matTooltip","Remove this keynote",3,"click"],[1,"important-chip"],[1,"rich-text-error"],["matInput","","formControlName","visualAidUrl","type","url"],[1,"keynote-tag-item",3,"formGroupName"],["appearance","outline",1,"tag-select"],["formControlName","tagId","required",""],["appearance","outline",1,"relevance-score"],["matInput","","formControlName","relevanceScore","type","number","min","1","max","10"],["mat-icon-button","","color","warn","type","button","matTooltip","Remove this tag",1,"remove-tag-btn",3,"click"],[1,"no-keynote-tags"],[1,"no-keynotes"],[1,"tag-item",3,"formGroupName"],["matInput","","formControlName","relevanceScore","type","number","min","1"],[1,"tag-actions"],["mat-icon-button","","color","primary","type","button","matTooltip","Save this tag",1,"save-tag-btn",3,"click"],["mat-button","","color","warn","type","button","matTooltip","Remove this tag",3,"click"],[1,"no-tags"],["diameter","20"]],template:function(e,a){e&1&&(o(0,"div",2)(1,"div",3)(2,"h1"),s(3),n(),o(4,"button",4),b("click",function(){return a.goBack()}),o(5,"mat-icon"),s(6,"arrow_back"),n(),s(7," Back to Lessons "),n()(),o(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),s(11,"Lesson Information"),n()(),o(12,"mat-card-content"),h(13,Xn,4,0,"div",5)(14,yo,119,26,"form",6),n()()()),e&2&&(c(3),R(a.isEditMode?"Edit Lesson"+(a.lessonId?" (ID: "+a.lessonId+")":""):"Add New Lesson"),c(10),d("ngIf",a.loading),c(),d("ngIf",!a.loading))},dependencies:[ke,Et,we,Ce,Te,De,jt,Oe,Ht,Fe,Bt,Zt,Wt,Xt,Ut,Qt,$t,Gt,Ue,Ke,He,ti,ei,ii,Ge,$e,Ae,Me,Pe,je,Re,Be,ze,qe,Je,Ze,Ee,Ye,We,li,Ci,wi,Xe,Gi,mt,Ki,$i,Ui,Ve,Ne,di,ci,Vt,Nt,Si,ki,oi,ni,Ei,Ii],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e0e0e0}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#1976d2;font-weight:500}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:60px 20px;color:#666}.loading-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.section[_ngcontent-%COMP%]{margin-bottom:30px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:500;margin-bottom:20px;color:#333}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.add-keynote-btn[_ngcontent-%COMP%], .add-tag-btn[_ngcontent-%COMP%]{min-width:140px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.course-warning[_ngcontent-%COMP%]{color:#ff6b6b!important;font-weight:500}.rich-text-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.rich-text-label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:500;color:#0009;margin-bottom:8px;font-family:Roboto,Helvetica Neue,sans-serif}.rich-text-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12);border-radius:4px;min-height:120px;background-color:#fff;transition:border-color .15s ease}.rich-text-container[_ngcontent-%COMP%]   .ql-editor[_ngcontent-%COMP%]{min-height:100px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;line-height:1.5}.rich-text-container[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);font-family:Roboto,Helvetica Neue,sans-serif}.rich-text-container[_ngcontent-%COMP%]:focus-within{border-color:#1976d2;box-shadow:0 0 0 1px #1976d2}.rich-text-hint[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-top:4px;font-family:Roboto,Helvetica Neue,sans-serif}.rich-text-error[_ngcontent-%COMP%]{font-size:12px;color:#f44336;margin-top:4px;font-family:Roboto,Helvetica Neue,sans-serif}.keynote-field[_ngcontent-%COMP%]{margin-bottom:20px}.keynote-editor[_ngcontent-%COMP%]{min-height:100px}.keynote-editor[_ngcontent-%COMP%]   .ql-editor[_ngcontent-%COMP%]{min-height:80px}.half-width[_ngcontent-%COMP%]{width:48%;margin-bottom:15px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin-bottom:15px}.checkbox-field[_ngcontent-%COMP%]{margin-right:20px}.keynotes-container[_ngcontent-%COMP%], .tags-container[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;border:1px solid #e0e0e0;border-radius:8px;padding:12px;background-color:#fafafa}.tag-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:16px;margin-bottom:12px;position:relative}.tag-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.tag-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:12px;padding-top:12px;border-top:1px solid #f0f0f0}.keynote-tags-section[_ngcontent-%COMP%]{margin-top:20px;padding:16px;background-color:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.section-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:500;margin:0;color:#495057}.keynote-tag-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background-color:#fff;border:1px solid #dee2e6;border-radius:6px;padding:12px;margin-bottom:8px}.tag-select[_ngcontent-%COMP%]{flex:2;margin-bottom:0}.relevance-score[_ngcontent-%COMP%]{flex:1;margin-bottom:0}.remove-tag-btn[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px}.add-keynote-tag-btn[_ngcontent-%COMP%]{font-size:12px;height:32px}.no-keynote-tags[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#6c757d;font-style:italic;padding:12px;justify-content:center}.keynote-panel[_ngcontent-%COMP%]{margin-bottom:12px;border:1px solid #e0e0e0;border-radius:8px;overflow:hidden}.keynote-panel[_ngcontent-%COMP%]:last-child{margin-bottom:0}.keynote-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.keynote-icon[_ngcontent-%COMP%]{color:#666;font-size:20px}.keynote-title[_ngcontent-%COMP%]{font-weight:500;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.important-chip[_ngcontent-%COMP%]{background-color:#ff6b6b;color:#fff;font-size:11px;height:24px;min-height:24px}.content-type-chip[_ngcontent-%COMP%]{font-size:11px;height:24px;min-height:24px;color:#fff}.content-type-text[_ngcontent-%COMP%]{background-color:#4caf50}.content-type-bullet_points[_ngcontent-%COMP%]{background-color:#ff9800}.content-type-quote[_ngcontent-%COMP%]{background-color:#9c27b0}.content-type-example[_ngcontent-%COMP%]{background-color:#2196f3}.keynote-preview[_ngcontent-%COMP%]{color:#666;font-size:12px;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.keynote-form[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:8px;margin:8px 0}.keynote-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px;padding-top:16px;border-top:1px solid #f0f0f0}.no-keynotes[_ngcontent-%COMP%], .no-tags[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#666}.no-keynotes[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .no-tags[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.5}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:30px;padding-top:20px;border-top:1px solid #e0e0e0}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.button-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:8px}.checkbox-container[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background-color:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}mat-checkbox[_ngcontent-%COMP%]{margin-bottom:15px}mat-divider[_ngcontent-%COMP%]{margin:30px 0}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.form-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.half-width[_ngcontent-%COMP%]{width:100%}.keynote-title-container[_ngcontent-%COMP%]{flex-wrap:wrap}.keynote-title[_ngcontent-%COMP%]{max-width:150px}}"]})};var zr=[{path:"",component:nt},{path:"add",component:pe},{path:"update/:id",component:pe}];export{zr as LESSONS_ROUTES};
