import './polyfills.server.mjs';
import{a as H}from"./chunk-OETSYJEX.mjs";import{a as Fe,b as Le,c as Ae,d as Re}from"./chunk-ECXEFGUX.mjs";import{a as z,b as q}from"./chunk-7ZOCCRSD.mjs";import{a as qe,c as je}from"./chunk-GR3LLAU7.mjs";import{b as Ue}from"./chunk-QEKNV4IY.mjs";import{a as F,b as L,c as A,e as R,g as V}from"./chunk-E6ZNZ33O.mjs";import{a as X,d as D,e as Y}from"./chunk-KXFPEN3X.mjs";import{a as nt,b as rt}from"./chunk-ROAWYUGG.mjs";import{c as tt,h as it}from"./chunk-QDJP6RQO.mjs";import{a as $e,b as He,c as Ge,d as We,e as Ze,f as Qe,g as Je,h as Ke,i as Xe,j as Ye,k as et}from"./chunk-2Z4EWZLB.mjs";import{b as me,c as le,d as j,e as $}from"./chunk-MF5VOUAK.mjs";import{l as Ve,m as ze}from"./chunk-MT5RISYH.mjs";import"./chunk-XPM65WGF.mjs";import{a as ne,b as Ne,e as re,h as ae,i as oe}from"./chunk-ZWJQV4AG.mjs";import{Aa as ke,Ba as Be,Ca as B,Da as N,M as be,X as Ie,ba as O,da as ee,ea as k,ga as te,ia as b,ka as ie,la as ye,oa as Pe,pa as Te,sa as we,va as De,za as Oe}from"./chunk-S5MTBZC4.mjs";import{Ab as x,Cb as c,Fc as Ee,Gc as T,Jc as J,Kc as K,Lb as xe,Ma as ge,Mb as a,Nb as p,Oa as o,Ob as E,Oc as w,Pa as g,Pb as ve,Qb as Ce,Rb as he,Sb as Se,Ub as y,Vb as Me,Wb as Z,Xb as I,Yb as Q,Zb as P,db as d,ea as U,ib as m,ma as v,mb as W,na as C,rb as n,sb as i,tb as f,ub as h,vb as S,xb as M}from"./chunk-T4Y5KKE3.mjs";import{a as ce,b as pe}from"./chunk-5XUXGTUW.mjs";var vt=()=>[5,10,20],Ct=e=>["/users",e];function ht(e,r){e&1&&(n(0,"div",9),f(1,"mat-spinner"),i())}function St(e,r){e&1&&(n(0,"th",26),a(1,"ID"),i())}function Mt(e,r){if(e&1&&(n(0,"td",27),a(1),i()),e&2){let t=r.$implicit;o(),p(t.id)}}function Et(e,r){e&1&&(n(0,"th",26),a(1,"Username"),i())}function bt(e,r){if(e&1&&(n(0,"td",27),a(1),i()),e&2){let t=r.$implicit;o(),p(t.username)}}function It(e,r){e&1&&(n(0,"th",26),a(1,"Name"),i())}function Ut(e,r){if(e&1&&(n(0,"td",27),a(1),i()),e&2){let t=r.$implicit;o(),ve("",t.firstName," ",t.lastName,"")}}function yt(e,r){e&1&&(n(0,"th",26),a(1,"Phone"),i())}function Pt(e,r){if(e&1&&(n(0,"td",27),a(1),i()),e&2){let t=r.$implicit;o(),p(t.phoneNumber)}}function Tt(e,r){e&1&&(n(0,"th",26),a(1,"User Type"),i())}function wt(e,r){if(e&1&&(n(0,"td",27)(1,"span"),a(2),I(3,"titlecase"),i()()),e&2){let t=r.$implicit;o(),W("user-type-badge user-type-",t.userType,""),o(),E(" ",Q(3,4,t.userType)," ")}}function Dt(e,r){e&1&&(n(0,"th",26),a(1,"Role"),i())}function Ot(e,r){if(e&1&&(n(0,"td",27),a(1),i()),e&2){let t=r.$implicit;o(),p(t.role)}}function kt(e,r){e&1&&(n(0,"th",26),a(1,"Birth Date"),i())}function Bt(e,r){if(e&1&&(n(0,"td",27),a(1),I(2,"date"),i()),e&2){let t=r.$implicit;o(),p(P(2,1,t.birthDate,"shortDate"))}}function Nt(e,r){e&1&&(n(0,"th",26),a(1,"Zodiac"),i())}function Ft(e,r){if(e&1&&(n(0,"td",27),a(1),i()),e&2){let t=r.$implicit;o(),p(t.zodiacSign)}}function Lt(e,r){e&1&&(n(0,"th",26),a(1,"Actions"),i())}function At(e,r){if(e&1){let t=M();n(0,"td",27)(1,"button",28)(2,"mat-icon"),a(3,"visibility"),i()(),n(4,"button",29),x("click",function(){let s=v(t).$implicit,u=c(2);return C(u.editUser(s.id))}),n(5,"mat-icon"),a(6,"edit"),i()(),n(7,"button",30),x("click",function(){let s=v(t).$implicit,u=c(2);return C(u.deleteUser(s))}),n(8,"mat-icon"),a(9,"delete"),i()()()}if(e&2){let t=r.$implicit;o(),m("routerLink",Z(1,Ct,t.id))}}function Rt(e,r){e&1&&f(0,"tr",31)}function Vt(e,r){e&1&&f(0,"tr",32)}function zt(e,r){e&1&&(n(0,"div",33)(1,"mat-icon"),a(2,"person_off"),i(),n(3,"p"),a(4,"No users found"),i()())}function qt(e,r){if(e&1){let t=M();n(0,"div")(1,"table",10),h(2,11),d(3,St,2,0,"th",12)(4,Mt,2,1,"td",13),S(),h(5,14),d(6,Et,2,0,"th",12)(7,bt,2,1,"td",13),S(),h(8,15),d(9,It,2,0,"th",12)(10,Ut,2,2,"td",13),S(),h(11,16),d(12,yt,2,0,"th",12)(13,Pt,2,1,"td",13),S(),h(14,17),d(15,Tt,2,0,"th",12)(16,wt,4,6,"td",13),S(),h(17,18),d(18,Dt,2,0,"th",12)(19,Ot,2,1,"td",13),S(),h(20,19),d(21,kt,2,0,"th",12)(22,Bt,3,4,"td",13),S(),h(23,20),d(24,Nt,2,0,"th",12)(25,Ft,2,1,"td",13),S(),h(26,21),d(27,Lt,2,0,"th",12)(28,At,10,3,"td",13),S(),d(29,Rt,1,0,"tr",22)(30,Vt,1,0,"tr",23),i(),d(31,zt,5,0,"div",24),n(32,"mat-paginator",25),x("page",function(s){v(t);let u=c();return C(u.onPageChange(s))}),i()()}if(e&2){let t=c();o(),m("dataSource",t.pagedUsers),o(28),m("matHeaderRowDef",t.displayedColumns),o(),m("matRowDefColumns",t.displayedColumns),o(),m("ngIf",t.users.length===0),o(),m("length",t.filteredUsers.length)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("pageSizeOptions",Me(8,vt))}}var se=class e{constructor(r,t,l,s){this.userService=r;this.router=t;this.snackBar=l;this.dialog=s}users=[];filteredUsers=[];filterText="";pageIndex=0;pageSize=10;loading=!1;searchQuery="";displayedColumns=["id","username","name","phoneNumber","userType","role","birthDate","zodiacSign","actions"];ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.userService.getAllUsers().subscribe({next:r=>{this.users=r,this.onFilterChange(),this.loading=!1},error:r=>{console.error("Error loading users:",r),this.snackBar.open("Error loading users","Close",{duration:3e3}),this.loading=!1}})}get pagedUsers(){let r=this.pageIndex*this.pageSize;return this.filteredUsers.slice(r,r+this.pageSize)}onPageChange(r){this.pageIndex=r.pageIndex,this.pageSize=r.pageSize}onFilterChange(){this.pageIndex=0;let r=this.filterText.trim().toLowerCase();r?this.filteredUsers=this.users.filter(t=>t.firstName&&t.firstName.toLowerCase().includes(r)||t.lastName&&t.lastName.toLowerCase().includes(r)||t.username&&t.username.toLowerCase().includes(r)||t.phoneNumber&&t.phoneNumber.toLowerCase().includes(r)||t.role&&t.role.toLowerCase().includes(r)||t.zodiacSign&&t.zodiacSign.toLowerCase().includes(r)):this.filteredUsers=this.users.slice()}onSearchChange(){this.filterText=this.searchQuery,this.onFilterChange()}editUser(r){this.router.navigate(["/users/edit",r])}deleteUser(r){confirm(`Are you sure you want to delete ${r.firstName} ${r.lastName}?`)&&this.userService.deleteUser(r.id).subscribe({next:()=>{this.snackBar.open("User deleted successfully","Close",{duration:3e3}),this.loadUsers()},error:t=>{console.error("Error deleting user:",t),this.snackBar.open("Error deleting user","Close",{duration:3e3})}})}static \u0275fac=function(t){return new(t||e)(g(H),g(D),g(j),g(tt))};static \u0275cmp=U({type:e,selectors:[["app-user-list"]],standalone:!0,features:[y],decls:22,vars:3,consts:[[1,"container"],[1,"header"],["mat-raised-button","","color","primary","routerLink","/users/add"],[1,"search-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name, username, phone, role, zodiac...",3,"ngModelChange","input","ngModel"],["matSuffix",""],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","name"],["matColumnDef","phoneNumber"],["matColumnDef","userType"],["matColumnDef","role"],["matColumnDef","birthDate"],["matColumnDef","zodiacSign"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],[3,"page","length","pageSize","pageIndex","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","View Details",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Edit User",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete User",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"]],template:function(t,l){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3,"User Management"),i(),n(4,"button",2)(5,"mat-icon"),a(6,"add"),i(),a(7," Add User "),i()(),n(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),a(11,"Users"),i()(),n(12,"mat-card-content")(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),a(16,"Search users"),i(),n(17,"input",5),Se("ngModelChange",function(u){return he(l.filterText,u)||(l.filterText=u),u}),x("input",function(){return l.onFilterChange()}),i(),n(18,"mat-icon",6),a(19,"search"),i()()(),d(20,ht,2,0,"div",7)(21,qt,33,9,"div",8),i()()()),t&2&&(o(17),Ce("ngModel",l.filterText),o(3),m("ngIf",l.loading),o(),m("ngIf",!l.loading))},dependencies:[w,T,J,K,Y,ke,te,ie,Pe,et,$e,Ge,Je,We,He,Ke,Ze,Qe,Xe,Ye,V,F,A,R,L,k,O,ee,N,B,oe,ae,ne,re,le,me,$,it,q,z,rt,nt],styles:[".container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.search-container[_ngcontent-%COMP%]{margin-bottom:20px}.search-field[_ngcontent-%COMP%]{width:100%;max-width:400px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.full-width[_ngcontent-%COMP%]{width:100%}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.user-type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase}.user-type-student[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.user-type-instructor[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.user-type-admin[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:12px 8px}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#0000000a}"]})};var jt=e=>["/users/edit",e];function $t(e,r){if(e&1&&(n(0,"button",8)(1,"mat-icon"),a(2,"edit"),i(),a(3," Edit User "),i()),e&2){let t=c();m("routerLink",Z(1,jt,t.user.id))}}function Ht(e,r){e&1&&(n(0,"div",9),f(1,"mat-spinner"),i())}function Gt(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Birth Date:"),i(),n(3,"span",15),a(4),I(5,"date"),i()()),e&2){let t=c(3);o(4),p(P(5,1,t.user.birthDate,"fullDate"))}}function Wt(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Birth Time:"),i(),n(3,"span",15),a(4),i()()),e&2){let t=c(3);o(4),p(t.user.birthTime)}}function Zt(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Birth Place:"),i(),n(3,"span",15),a(4),i()()),e&2){let t=c(3);o(4),p(t.user.birthPlace)}}function Qt(e,r){if(e&1&&(n(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),a(3,"Birth Information"),i()(),n(4,"mat-card-content")(5,"div",12),d(6,Gt,6,4,"div",17)(7,Wt,5,1,"div",17)(8,Zt,5,1,"div",17),i()()()),e&2){let t=c(2);o(6),m("ngIf",t.user.birthDate),o(),m("ngIf",t.user.birthTime),o(),m("ngIf",t.user.birthPlace)}}function Jt(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Zodiac Sign:"),i(),n(3,"mat-chip",18),a(4),i()()),e&2){let t=c(3);o(4),p(t.user.zodiacSign)}}function Kt(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Rising Sign:"),i(),n(3,"mat-chip",18),a(4),i()()),e&2){let t=c(3);o(4),p(t.user.risingSign)}}function Xt(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Moon Sign:"),i(),n(3,"mat-chip",18),a(4),i()()),e&2){let t=c(3);o(4),p(t.user.moonSign)}}function Yt(e,r){if(e&1&&(n(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),a(3,"Astrological Information"),i()(),n(4,"mat-card-content")(5,"div",12),d(6,Jt,5,1,"div",17)(7,Kt,5,1,"div",17)(8,Xt,5,1,"div",17),i()()()),e&2){let t=c(2);o(6),m("ngIf",t.user.zodiacSign),o(),m("ngIf",t.user.risingSign),o(),m("ngIf",t.user.moonSign)}}function ei(e,r){if(e&1){let t=M();n(0,"div",13)(1,"span",14),a(2,"Profile Picture:"),i(),n(3,"div",20)(4,"img",21),x("error",function(s){v(t);let u=c(3);return C(u.onImageError(s))}),i()()()}if(e&2){let t=c(3);o(4),m("src",t.user.profilePicture,ge)("alt",t.user.firstName+" "+t.user.lastName)}}function ti(e,r){if(e&1&&(n(0,"div",22)(1,"span",14),a(2,"Bio:"),i(),n(3,"p",23),a(4),i()()),e&2){let t=c(3);o(4),p(t.user.bio)}}function ii(e,r){if(e&1&&(n(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),a(3,"Additional Information"),i()(),n(4,"mat-card-content"),d(5,ei,5,2,"div",17)(6,ti,5,1,"div",19),i()()),e&2){let t=c(2);o(5),m("ngIf",t.user.profilePicture),o(),m("ngIf",t.user.bio)}}function ni(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Created Date:"),i(),n(3,"span",15),a(4),I(5,"date"),i()()),e&2){let t=c(2);o(4),p(P(5,1,t.user.createdDate,"medium"))}}function ri(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Updated Date:"),i(),n(3,"span",15),a(4),I(5,"date"),i()()),e&2){let t=c(2);o(4),p(P(5,1,t.user.updatedDate,"medium"))}}function ai(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Created By:"),i(),n(3,"span",15),a(4),i()()),e&2){let t=c(2);o(4),p(t.user.createdBy)}}function oi(e,r){if(e&1&&(n(0,"div",13)(1,"span",14),a(2,"Updated By:"),i(),n(3,"span",15),a(4),i()()),e&2){let t=c(2);o(4),p(t.user.updatedBy)}}function mi(e,r){if(e&1&&(n(0,"div",10)(1,"mat-card",11)(2,"mat-card-header")(3,"mat-card-title"),a(4,"Basic Information"),i()(),n(5,"mat-card-content")(6,"div",12)(7,"div",13)(8,"span",14),a(9,"ID:"),i(),n(10,"span",15),a(11),i()(),n(12,"div",13)(13,"span",14),a(14,"Username:"),i(),n(15,"span",15),a(16),i()(),n(17,"div",13)(18,"span",14),a(19,"First Name:"),i(),n(20,"span",15),a(21),i()(),n(22,"div",13)(23,"span",14),a(24,"Last Name:"),i(),n(25,"span",15),a(26),i()(),n(27,"div",13)(28,"span",14),a(29,"Phone Number:"),i(),n(30,"span",15),a(31),i()(),n(32,"div",13)(33,"span",14),a(34,"Role:"),i(),n(35,"span",15),a(36),i()(),n(37,"div",13)(38,"span",14),a(39,"User Type:"),i(),n(40,"mat-chip"),a(41),I(42,"titlecase"),i()()()()(),d(43,Qt,9,3,"mat-card",16)(44,Yt,9,3,"mat-card",16)(45,ii,7,2,"mat-card",16),n(46,"mat-card",11)(47,"mat-card-header")(48,"mat-card-title"),a(49,"System Information"),i()(),n(50,"mat-card-content")(51,"div",12),d(52,ni,6,4,"div",17)(53,ri,6,4,"div",17)(54,ai,5,1,"div",17)(55,oi,5,1,"div",17),i()()()()),e&2){let t=c();o(11),p(t.user.id),o(5),p(t.user.username),o(5),p(t.user.firstName),o(5),p(t.user.lastName),o(5),p(t.user.phoneNumber),o(5),p(t.user.role),o(4),W("user-type-chip user-type-",t.user.userType,""),o(),E(" ",Q(42,17,t.user.userType)," "),o(2),m("ngIf",t.user.birthDate||t.user.birthTime||t.user.birthPlace),o(),m("ngIf",t.user.zodiacSign||t.user.risingSign||t.user.moonSign),o(),m("ngIf",t.user.bio||t.user.profilePicture),o(7),m("ngIf",t.user.createdDate),o(),m("ngIf",t.user.updatedDate),o(),m("ngIf",t.user.createdBy),o(),m("ngIf",t.user.updatedBy)}}function li(e,r){if(e&1){let t=M();n(0,"div",24)(1,"mat-icon"),a(2,"person_off"),i(),n(3,"h2"),a(4,"User Not Found"),i(),n(5,"p"),a(6,"The user you're looking for doesn't exist or has been deleted."),i(),n(7,"button",25),x("click",function(){v(t);let s=c();return C(s.goBack())}),a(8," Go Back to Users "),i()()}}var de=class e{constructor(r,t,l,s){this.route=r;this.router=t;this.userService=l;this.snackBar=s}userId=null;user=null;loading=!1;ngOnInit(){this.route.params.subscribe(r=>{r.id&&(this.userId=+r.id,this.loadUser())})}loadUser(){this.userId&&(this.loading=!0,this.userService.getUserById(this.userId).subscribe({next:r=>{this.user=r,this.loading=!1},error:r=>{console.error("Error loading user:",r),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1}}))}goBack(){this.router.navigate(["/users"])}onImageError(r){r.target.style.display="none"}static \u0275fac=function(t){return new(t||e)(g(X),g(D),g(H),g(j))};static \u0275cmp=U({type:e,selectors:[["app-user-details"]],standalone:!0,features:[y],decls:13,vars:4,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-button","",3,"click"],["mat-raised-button","","color","accent",3,"routerLink",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","user-details",4,"ngIf"],["class","no-user",4,"ngIf"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"loading-container"],[1,"user-details"],[1,"info-card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],["class","info-card",4,"ngIf"],["class","info-item",4,"ngIf"],[1,"astro-chip"],["class","info-item bio-item",4,"ngIf"],[1,"profile-picture"],[3,"error","src","alt"],[1,"info-item","bio-item"],[1,"bio-text"],[1,"no-user"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,l){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3,"User Details"),i(),n(4,"div",2)(5,"button",3),x("click",function(){return l.goBack()}),n(6,"mat-icon"),a(7,"arrow_back"),i(),a(8," Back to Users "),i(),d(9,$t,4,3,"button",4),i()(),d(10,Ht,2,0,"div",5)(11,mi,56,19,"div",6)(12,li,9,0,"div",7),i()),t&2&&(o(9),m("ngIf",l.user),o(),m("ngIf",l.loading),o(),m("ngIf",!l.loading&&l.user),o(),m("ngIf",!l.loading&&!l.user))},dependencies:[w,T,J,K,Y,V,F,A,R,L,k,O,N,B,Ue,je,qe,q,z,$],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:60px}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.info-card[_ngcontent-%COMP%]{width:100%}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px}.bio-item[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column;grid-column:1/-1}.label[_ngcontent-%COMP%]{font-weight:600;color:#666;min-width:120px;margin-right:12px}.value[_ngcontent-%COMP%]{color:#333;word-break:break-word}.bio-text[_ngcontent-%COMP%]{margin:8px 0 0;line-height:1.5;color:#333}.user-type-chip[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.user-type-student[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.user-type-instructor[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.user-type-admin[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.astro-chip[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.profile-picture[_ngcontent-%COMP%]{margin-top:8px}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.no-user[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.no-user[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px}.no-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.label[_ngcontent-%COMP%]{min-width:auto;margin-right:0;margin-bottom:4px}}"]})};function si(e,r){e&1&&(n(0,"div",6),f(1,"mat-spinner"),i())}function di(e,r){e&1&&(n(0,"mat-error"),a(1," Username is required "),i())}function ci(e,r){e&1&&(n(0,"mat-error"),a(1," Password is required "),i())}function pi(e,r){e&1&&(n(0,"mat-error"),a(1," Password must be at least 6 characters "),i())}function ui(e,r){if(e&1){let t=M();n(0,"mat-form-field",10)(1,"mat-label"),a(2,"Password"),i(),f(3,"input",36),n(4,"button",37),x("click",function(){v(t);let s=c(2);return C(s.hidePassword=!s.hidePassword)}),n(5,"mat-icon"),a(6),i()(),d(7,ci,2,0,"mat-error",12)(8,pi,2,0,"mat-error",12),i()}if(e&2){let t,l,s=c(2);o(3),m("type",s.hidePassword?"password":"text"),o(3),p(s.hidePassword?"visibility_off":"visibility"),o(),m("ngIf",(t=s.userForm.get("password"))==null?null:t.hasError("required")),o(),m("ngIf",(l=s.userForm.get("password"))==null?null:l.hasError("minlength"))}}function fi(e,r){e&1&&(n(0,"mat-error"),a(1," First name is required "),i())}function _i(e,r){e&1&&(n(0,"mat-error"),a(1," Last name is required "),i())}function gi(e,r){e&1&&(n(0,"mat-error"),a(1," Phone number is required "),i())}function xi(e,r){e&1&&(n(0,"mat-error"),a(1," User type is required "),i())}function vi(e,r){e&1&&(n(0,"mat-error"),a(1," Role is required "),i())}function Ci(e,r){if(e&1&&(n(0,"mat-option",38),a(1),i()),e&2){let t=r.$implicit;m("value",t),o(),E(" ",t," ")}}function hi(e,r){if(e&1&&(n(0,"mat-option",38),a(1),i()),e&2){let t=r.$implicit;m("value",t),o(),E(" ",t," ")}}function Si(e,r){if(e&1&&(n(0,"mat-option",38),a(1),i()),e&2){let t=r.$implicit;m("value",t),o(),E(" ",t," ")}}function Mi(e,r){e&1&&f(0,"mat-spinner",39)}function Ei(e,r){if(e&1){let t=M();n(0,"form",7),x("ngSubmit",function(){v(t);let s=c();return C(s.onSubmit())}),n(1,"div",8)(2,"h3"),a(3,"Basic Information"),i(),n(4,"div",9)(5,"mat-form-field",10)(6,"mat-label"),a(7,"Username"),i(),f(8,"input",11),d(9,di,2,0,"mat-error",12),i(),d(10,ui,9,4,"mat-form-field",13),i(),n(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),a(14,"First Name"),i(),f(15,"input",14),d(16,fi,2,0,"mat-error",12),i(),n(17,"mat-form-field",10)(18,"mat-label"),a(19,"Last Name"),i(),f(20,"input",15),d(21,_i,2,0,"mat-error",12),i()(),n(22,"div",9)(23,"mat-form-field",10)(24,"mat-label"),a(25,"Phone Number"),i(),f(26,"input",16),d(27,gi,2,0,"mat-error",12),i(),n(28,"mat-form-field",10)(29,"mat-label"),a(30,"User Type"),i(),n(31,"mat-select",17)(32,"mat-option",18),a(33,"Student"),i(),n(34,"mat-option",19),a(35,"Instructor"),i(),n(36,"mat-option",20),a(37,"Admin"),i()(),d(38,xi,2,0,"mat-error",12),i()(),n(39,"mat-form-field",10)(40,"mat-label"),a(41,"Role"),i(),f(42,"input",21),d(43,vi,2,0,"mat-error",12),i()(),n(44,"div",8)(45,"h3"),a(46,"Birth Information"),i(),n(47,"div",9)(48,"mat-form-field",10)(49,"mat-label"),a(50,"Birth Date"),i(),f(51,"input",22)(52,"mat-datepicker-toggle",23)(53,"mat-datepicker",null,0),i(),n(55,"mat-form-field",10)(56,"mat-label"),a(57,"Birth Time"),i(),f(58,"input",24),i()(),n(59,"mat-form-field",10)(60,"mat-label"),a(61,"Birth Place"),i(),f(62,"input",25),i()(),n(63,"div",8)(64,"h3"),a(65,"Astrological Information"),i(),n(66,"div",9)(67,"mat-form-field",10)(68,"mat-label"),a(69,"Zodiac Sign"),i(),n(70,"mat-select",26),d(71,Ci,2,2,"mat-option",27),i()(),n(72,"mat-form-field",10)(73,"mat-label"),a(74,"Rising Sign"),i(),n(75,"mat-select",28),d(76,hi,2,2,"mat-option",27),i()()(),n(77,"mat-form-field",10)(78,"mat-label"),a(79,"Moon Sign"),i(),n(80,"mat-select",29),d(81,Si,2,2,"mat-option",27),i()()(),n(82,"div",8)(83,"h3"),a(84,"Additional Information"),i(),n(85,"mat-form-field",10)(86,"mat-label"),a(87,"Bio"),i(),n(88,"textarea",30),a(89,"                "),i()(),n(90,"mat-form-field",10)(91,"mat-label"),a(92,"Profile Picture URL"),i(),f(93,"input",31),i()(),n(94,"div",32)(95,"button",33),x("click",function(){v(t);let s=c();return C(s.goBack())}),a(96,"Cancel"),i(),n(97,"button",34),d(98,Mi,1,0,"mat-spinner",35),a(99),i()()()}if(e&2){let t,l,s,u,ue,fe,_e=xe(54),_=c();m("formGroup",_.userForm),o(9),m("ngIf",(t=_.userForm.get("username"))==null?null:t.hasError("required")),o(),m("ngIf",!_.isEditMode),o(6),m("ngIf",(l=_.userForm.get("firstName"))==null?null:l.hasError("required")),o(5),m("ngIf",(s=_.userForm.get("lastName"))==null?null:s.hasError("required")),o(6),m("ngIf",(u=_.userForm.get("phoneNumber"))==null?null:u.hasError("required")),o(11),m("ngIf",(ue=_.userForm.get("userType"))==null?null:ue.hasError("required")),o(5),m("ngIf",(fe=_.userForm.get("role"))==null?null:fe.hasError("required")),o(8),m("matDatepicker",_e),o(),m("for",_e),o(19),m("ngForOf",_.zodiacSigns),o(5),m("ngForOf",_.zodiacSigns),o(5),m("ngForOf",_.zodiacSigns),o(16),m("disabled",_.userForm.invalid||_.submitting),o(),m("ngIf",_.submitting),o(),E(" ",_.submitting?"Saving...":_.isEditMode?"Update User":"Create User"," ")}}var G=class e{constructor(r,t,l,s,u){this.fb=r;this.userService=t;this.router=l;this.route=s;this.snackBar=u;this.userForm=this.createForm()}userForm;isEditMode=!1;userId=null;loading=!1;submitting=!1;hidePassword=!0;zodiacSigns=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];ngOnInit(){this.route.params.subscribe(r=>{r.id&&(this.isEditMode=!0,this.userId=+r.id,this.loadUser())})}createForm(){return this.fb.group({username:["",[b.required]],password:["",this.isEditMode?[]:[b.required,b.minLength(6)]],firstName:["",[b.required]],lastName:["",[b.required]],phoneNumber:["",[b.required]],userType:["student",[b.required]],role:["USER",[b.required]],birthDate:[""],birthTime:[""],birthPlace:[""],zodiacSign:[""],risingSign:[""],moonSign:[""],bio:[""],profilePicture:[""]})}loadUser(){this.userId&&(this.loading=!0,this.userService.getUserById(this.userId).subscribe({next:r=>{this.userForm.get("password")?.clearValidators(),this.userForm.get("password")?.updateValueAndValidity();let t=pe(ce({},r),{birthDate:r.birthDate?new Date(r.birthDate):null});this.userForm.patchValue(t),this.loading=!1},error:r=>{console.error("Error loading user:",r),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1}}))}onSubmit(){if(this.userForm.invalid)return;this.submitting=!0;let r=this.userForm.value,t=pe(ce({},r),{birthDate:r.birthDate?r.birthDate.toISOString().split("T")[0]:null,updatedBy:"admin"});this.isEditMode&&!t.password&&delete t.password,(this.isEditMode?this.userService.updateUser(this.userId,t):this.userService.createUser(t)).subscribe({next:s=>{let u=this.isEditMode?"User updated successfully":"User created successfully";this.snackBar.open(u,"Close",{duration:3e3}),this.router.navigate(["/users"])},error:s=>{console.error("Error saving user:",s);let u=s.error?.message||"Error saving user";this.snackBar.open(u,"Close",{duration:5e3}),this.submitting=!1}})}goBack(){this.router.navigate(["/users"])}static \u0275fac=function(t){return new(t||e)(g(Oe),g(H),g(D),g(X),g(j))};static \u0275cmp=U({type:e,selectors:[["app-add-user"]],standalone:!0,features:[y],decls:15,vars:4,consts:[["picker",""],[1,"container"],[1,"header"],["mat-button","",3,"click"],["class","loading-container",4,"ngIf"],["class","user-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-container"],[1,"user-form",3,"ngSubmit","formGroup"],[1,"section"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","username","placeholder","Enter username"],[4,"ngIf"],["appearance","outline",4,"ngIf"],["matInput","","formControlName","firstName","placeholder","Enter first name"],["matInput","","formControlName","lastName","placeholder","Enter last name"],["matInput","","formControlName","phoneNumber","placeholder","Enter phone number"],["formControlName","userType"],["value","student"],["value","instructor"],["value","admin"],["matInput","","formControlName","role","placeholder","Enter role"],["matInput","","formControlName","birthDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","type","time","formControlName","birthTime","placeholder","HH:MM"],["matInput","","formControlName","birthPlace","placeholder","Enter birth place"],["formControlName","zodiacSign"],[3,"value",4,"ngFor","ngForOf"],["formControlName","risingSign"],["formControlName","moonSign"],["matInput","","formControlName","bio","rows","4","placeholder","Enter user bio"],["matInput","","formControlName","profilePicture","placeholder","Enter profile picture URL"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"value"],["diameter","20"]],template:function(t,l){t&1&&(n(0,"div",1)(1,"div",2)(2,"h1"),a(3),i(),n(4,"button",3),x("click",function(){return l.goBack()}),n(5,"mat-icon"),a(6,"arrow_back"),i(),a(7," Back to Users "),i()(),n(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),a(11),i()(),n(12,"mat-card-content"),d(13,si,2,0,"div",4)(14,Ei,100,16,"form",5),i()()()),t&2&&(o(3),p(l.isEditMode?"Edit User":"Add New User"),o(8),p(l.isEditMode?"Edit User Details":"User Information"),o(2),m("ngIf",l.loading),o(),m("ngIf",!l.loading))},dependencies:[w,Ee,T,Be,Te,te,ie,ye,we,De,V,F,A,R,L,oe,ae,ne,Ne,re,le,me,k,O,ee,ze,Ve,Ie,Re,Fe,Le,Ae,be,N,B,$,q,z],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.section[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:20px;background-color:#fafafa}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#333;font-size:16px;font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};var Tn=[{path:"",component:se},{path:"add",component:G},{path:"edit/:id",component:G},{path:":id",component:de}];export{Tn as USERS_ROUTES};
