"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[999],{999:(Yt,b,a)=>{a.r(b),a.d(b,{USERS_ROUTES:()=>Lt});var p=a(177),g=a(4710),u=a(9159),c=a(5596),_=a(8834),h=a(9213),f=a(2102),C=a(9631),F=a(5416),v=a(5351),k=a(9183),m=a(9417),j=a(6695),t=a(4438),x=a(5602);const M=()=>[5,10,20],N=n=>["/users",n];function $(n,r){1&n&&(t.j41(0,"div",9),t.nrm(1,"mat-spinner"),t.k0s())}function y(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"ID"),t.k0s())}function G(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e.id)}}function S(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"Username"),t.k0s())}function O(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e.username)}}function w(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"Name"),t.k0s())}function B(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.Lme("",e.firstName," ",e.lastName,"")}}function L(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"Phone"),t.k0s())}function Y(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e.phoneNumber)}}function X(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"User Type"),t.k0s())}function V(n,r){if(1&n&&(t.j41(0,"td",27)(1,"span"),t.EFF(2),t.nI1(3,"titlecase"),t.k0s()()),2&n){const e=r.$implicit;t.R7$(),t.ZvI("user-type-badge user-type-",e.userType,""),t.R7$(),t.SpI(" ",t.bMT(3,4,e.userType)," ")}}function A(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"Role"),t.k0s())}function z(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e.role)}}function J(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"Birth Date"),t.k0s())}function q(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(t.i5U(2,1,e.birthDate,"shortDate"))}}function H(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"Zodiac"),t.k0s())}function Z(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e.zodiacSign)}}function W(n,r){1&n&&(t.j41(0,"th",26),t.EFF(1,"Actions"),t.k0s())}function Q(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",27)(1,"button",28)(2,"mat-icon"),t.EFF(3,"visibility"),t.k0s()(),t.j41(4,"button",29),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.editUser(o.id))}),t.j41(5,"mat-icon"),t.EFF(6,"edit"),t.k0s()(),t.j41(7,"button",30),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.deleteUser(o))}),t.j41(8,"mat-icon"),t.EFF(9,"delete"),t.k0s()()()}if(2&n){const e=r.$implicit;t.R7$(),t.Y8G("routerLink",t.eq3(1,N,e.id))}}function K(n,r){1&n&&t.nrm(0,"tr",31)}function tt(n,r){1&n&&t.nrm(0,"tr",32)}function et(n,r){1&n&&(t.j41(0,"div",33)(1,"mat-icon"),t.EFF(2,"person_off"),t.k0s(),t.j41(3,"p"),t.EFF(4,"No users found"),t.k0s()())}function nt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"table",10),t.qex(2,11),t.DNE(3,y,2,0,"th",12)(4,G,2,1,"td",13),t.bVm(),t.qex(5,14),t.DNE(6,S,2,0,"th",12)(7,O,2,1,"td",13),t.bVm(),t.qex(8,15),t.DNE(9,w,2,0,"th",12)(10,B,2,2,"td",13),t.bVm(),t.qex(11,16),t.DNE(12,L,2,0,"th",12)(13,Y,2,1,"td",13),t.bVm(),t.qex(14,17),t.DNE(15,X,2,0,"th",12)(16,V,4,6,"td",13),t.bVm(),t.qex(17,18),t.DNE(18,A,2,0,"th",12)(19,z,2,1,"td",13),t.bVm(),t.qex(20,19),t.DNE(21,J,2,0,"th",12)(22,q,3,4,"td",13),t.bVm(),t.qex(23,20),t.DNE(24,H,2,0,"th",12)(25,Z,2,1,"td",13),t.bVm(),t.qex(26,21),t.DNE(27,W,2,0,"th",12)(28,Q,10,3,"td",13),t.bVm(),t.DNE(29,K,1,0,"tr",22)(30,tt,1,0,"tr",23),t.k0s(),t.DNE(31,et,5,0,"div",24),t.j41(32,"mat-paginator",25),t.bIt("page",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.onPageChange(o))}),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("dataSource",e.pagedUsers),t.R7$(28),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns),t.R7$(),t.Y8G("ngIf",0===e.users.length),t.R7$(),t.Y8G("length",e.filteredUsers.length)("pageSize",e.pageSize)("pageIndex",e.pageIndex)("pageSizeOptions",t.lJ4(8,M))}}let rt=(()=>{class n{userService;router;snackBar;dialog;users=[];filteredUsers=[];filterText="";pageIndex=0;pageSize=10;loading=!1;searchQuery="";displayedColumns=["id","username","name","phoneNumber","userType","role","birthDate","zodiacSign","actions"];constructor(e,i,o,s){this.userService=e,this.router=i,this.snackBar=o,this.dialog=s}ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.userService.getAllUsers().subscribe({next:e=>{this.users=e,this.onFilterChange(),this.loading=!1},error:e=>{console.error("Error loading users:",e),this.snackBar.open("Error loading users","Close",{duration:3e3}),this.loading=!1}})}get pagedUsers(){const e=this.pageIndex*this.pageSize;return this.filteredUsers.slice(e,e+this.pageSize)}onPageChange(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize}onFilterChange(){this.pageIndex=0;const e=this.filterText.trim().toLowerCase();this.filteredUsers=e?this.users.filter(i=>i.firstName&&i.firstName.toLowerCase().includes(e)||i.lastName&&i.lastName.toLowerCase().includes(e)||i.username&&i.username.toLowerCase().includes(e)||i.phoneNumber&&i.phoneNumber.toLowerCase().includes(e)||i.role&&i.role.toLowerCase().includes(e)||i.zodiacSign&&i.zodiacSign.toLowerCase().includes(e)):this.users.slice()}onSearchChange(){this.filterText=this.searchQuery,this.onFilterChange()}editUser(e){this.router.navigate(["/users/edit",e])}deleteUser(e){confirm(`Are you sure you want to delete ${e.firstName} ${e.lastName}?`)&&this.userService.deleteUser(e.id).subscribe({next:()=>{this.snackBar.open("User deleted successfully","Close",{duration:3e3}),this.loadUsers()},error:i=>{console.error("Error deleting user:",i),this.snackBar.open("Error deleting user","Close",{duration:3e3})}})}static \u0275fac=function(i){return new(i||n)(t.rXU(x.D),t.rXU(g.Ix),t.rXU(F.UG),t.rXU(v.bZ))};static \u0275cmp=t.VBU({type:n,selectors:[["app-user-list"]],standalone:!0,features:[t.aNF],decls:22,vars:3,consts:[[1,"container"],[1,"header"],["mat-raised-button","","color","primary","routerLink","/users/add"],[1,"search-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name, username, phone, role, zodiac...",3,"ngModelChange","input","ngModel"],["matSuffix",""],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","name"],["matColumnDef","phoneNumber"],["matColumnDef","userType"],["matColumnDef","role"],["matColumnDef","birthDate"],["matColumnDef","zodiacSign"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],[3,"page","length","pageSize","pageIndex","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","View Details",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Edit User",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete User",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"User Management"),t.k0s(),t.j41(4,"button",2)(5,"mat-icon"),t.EFF(6,"add"),t.k0s(),t.EFF(7," Add User "),t.k0s()(),t.j41(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),t.EFF(11,"Users"),t.k0s()(),t.j41(12,"mat-card-content")(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),t.EFF(16,"Search users"),t.k0s(),t.j41(17,"input",5),t.mxI("ngModelChange",function(l){return t.DH7(o.filterText,l)||(o.filterText=l),l}),t.bIt("input",function(){return o.onFilterChange()}),t.k0s(),t.j41(18,"mat-icon",6),t.EFF(19,"search"),t.k0s()()(),t.DNE(20,$,2,0,"div",7)(21,nt,33,9,"div",8),t.k0s()()()),2&i&&(t.R7$(17),t.R50("ngModel",o.filterText),t.R7$(3),t.Y8G("ngIf",o.loading),t.R7$(),t.Y8G("ngIf",!o.loading))},dependencies:[p.MD,p.bT,p.PV,p.vh,g.Wk,m.YN,m.me,m.BC,m.vS,u.tP,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,c.Hu,c.RN,c.m2,c.MM,c.dh,_.Hl,_.$z,_.iY,h.m_,h.An,f.RG,f.rl,f.nJ,f.yw,C.fS,C.fg,F._T,v.hM,k.D6,k.LG,j.Ou,j.iy],styles:[".container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.search-container[_ngcontent-%COMP%]{margin-bottom:20px}.search-field[_ngcontent-%COMP%]{width:100%;max-width:400px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.full-width[_ngcontent-%COMP%]{width:100%}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.user-type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase}.user-type-student[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.user-type-instructor[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.user-type-admin[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:12px 8px}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#0000000a}"]})}return n})();var it=a(1997),U=a(6471);const ot=n=>["/users/edit",n];function st(n,r){if(1&n&&(t.j41(0,"button",8)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s(),t.EFF(3," Edit User "),t.k0s()),2&n){const e=t.XpG();t.Y8G("routerLink",t.eq3(1,ot,e.user.id))}}function at(n,r){1&n&&(t.j41(0,"div",9),t.nrm(1,"mat-spinner"),t.k0s())}function mt(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Birth Date:"),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"date"),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(4),t.JRh(t.i5U(5,1,e.user.birthDate,"fullDate"))}}function dt(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Birth Time:"),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(4),t.JRh(e.user.birthTime)}}function ct(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Birth Place:"),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(4),t.JRh(e.user.birthPlace)}}function lt(n,r){if(1&n&&(t.j41(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3,"Birth Information"),t.k0s()(),t.j41(4,"mat-card-content")(5,"div",12),t.DNE(6,mt,6,4,"div",17)(7,dt,5,1,"div",17)(8,ct,5,1,"div",17),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(6),t.Y8G("ngIf",e.user.birthDate),t.R7$(),t.Y8G("ngIf",e.user.birthTime),t.R7$(),t.Y8G("ngIf",e.user.birthPlace)}}function pt(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Zodiac Sign:"),t.k0s(),t.j41(3,"mat-chip",18),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(4),t.JRh(e.user.zodiacSign)}}function ut(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Rising Sign:"),t.k0s(),t.j41(3,"mat-chip",18),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(4),t.JRh(e.user.risingSign)}}function ft(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Moon Sign:"),t.k0s(),t.j41(3,"mat-chip",18),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(4),t.JRh(e.user.moonSign)}}function _t(n,r){if(1&n&&(t.j41(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3,"Astrological Information"),t.k0s()(),t.j41(4,"mat-card-content")(5,"div",12),t.DNE(6,pt,5,1,"div",17)(7,ut,5,1,"div",17)(8,ft,5,1,"div",17),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(6),t.Y8G("ngIf",e.user.zodiacSign),t.R7$(),t.Y8G("ngIf",e.user.risingSign),t.R7$(),t.Y8G("ngIf",e.user.moonSign)}}function gt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Profile Picture:"),t.k0s(),t.j41(3,"div",20)(4,"img",21),t.bIt("error",function(o){t.eBV(e);const s=t.XpG(3);return t.Njj(s.onImageError(o))}),t.k0s()()()}if(2&n){const e=t.XpG(3);t.R7$(4),t.Y8G("src",e.user.profilePicture,t.B4B)("alt",e.user.firstName+" "+e.user.lastName)}}function ht(n,r){if(1&n&&(t.j41(0,"div",22)(1,"span",14),t.EFF(2,"Bio:"),t.k0s(),t.j41(3,"p",23),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(4),t.JRh(e.user.bio)}}function Ft(n,r){if(1&n&&(t.j41(0,"mat-card",11)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3,"Additional Information"),t.k0s()(),t.j41(4,"mat-card-content"),t.DNE(5,gt,5,2,"div",17)(6,ht,5,1,"div",19),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(5),t.Y8G("ngIf",e.user.profilePicture),t.R7$(),t.Y8G("ngIf",e.user.bio)}}function kt(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Created Date:"),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"date"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.JRh(t.i5U(5,1,e.user.createdDate,"medium"))}}function Ct(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Updated Date:"),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"date"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.JRh(t.i5U(5,1,e.user.updatedDate,"medium"))}}function Et(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Created By:"),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.JRh(e.user.createdBy)}}function xt(n,r){if(1&n&&(t.j41(0,"div",13)(1,"span",14),t.EFF(2,"Updated By:"),t.k0s(),t.j41(3,"span",15),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.JRh(e.user.updatedBy)}}function bt(n,r){if(1&n&&(t.j41(0,"div",10)(1,"mat-card",11)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"Basic Information"),t.k0s()(),t.j41(5,"mat-card-content")(6,"div",12)(7,"div",13)(8,"span",14),t.EFF(9,"ID:"),t.k0s(),t.j41(10,"span",15),t.EFF(11),t.k0s()(),t.j41(12,"div",13)(13,"span",14),t.EFF(14,"Username:"),t.k0s(),t.j41(15,"span",15),t.EFF(16),t.k0s()(),t.j41(17,"div",13)(18,"span",14),t.EFF(19,"First Name:"),t.k0s(),t.j41(20,"span",15),t.EFF(21),t.k0s()(),t.j41(22,"div",13)(23,"span",14),t.EFF(24,"Last Name:"),t.k0s(),t.j41(25,"span",15),t.EFF(26),t.k0s()(),t.j41(27,"div",13)(28,"span",14),t.EFF(29,"Phone Number:"),t.k0s(),t.j41(30,"span",15),t.EFF(31),t.k0s()(),t.j41(32,"div",13)(33,"span",14),t.EFF(34,"Role:"),t.k0s(),t.j41(35,"span",15),t.EFF(36),t.k0s()(),t.j41(37,"div",13)(38,"span",14),t.EFF(39,"User Type:"),t.k0s(),t.j41(40,"mat-chip"),t.EFF(41),t.nI1(42,"titlecase"),t.k0s()()()()(),t.DNE(43,lt,9,3,"mat-card",16)(44,_t,9,3,"mat-card",16)(45,Ft,7,2,"mat-card",16),t.j41(46,"mat-card",11)(47,"mat-card-header")(48,"mat-card-title"),t.EFF(49,"System Information"),t.k0s()(),t.j41(50,"mat-card-content")(51,"div",12),t.DNE(52,kt,6,4,"div",17)(53,Ct,6,4,"div",17)(54,Et,5,1,"div",17)(55,xt,5,1,"div",17),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(11),t.JRh(e.user.id),t.R7$(5),t.JRh(e.user.username),t.R7$(5),t.JRh(e.user.firstName),t.R7$(5),t.JRh(e.user.lastName),t.R7$(5),t.JRh(e.user.phoneNumber),t.R7$(5),t.JRh(e.user.role),t.R7$(4),t.ZvI("user-type-chip user-type-",e.user.userType,""),t.R7$(),t.SpI(" ",t.bMT(42,17,e.user.userType)," "),t.R7$(2),t.Y8G("ngIf",e.user.birthDate||e.user.birthTime||e.user.birthPlace),t.R7$(),t.Y8G("ngIf",e.user.zodiacSign||e.user.risingSign||e.user.moonSign),t.R7$(),t.Y8G("ngIf",e.user.bio||e.user.profilePicture),t.R7$(7),t.Y8G("ngIf",e.user.createdDate),t.R7$(),t.Y8G("ngIf",e.user.updatedDate),t.R7$(),t.Y8G("ngIf",e.user.createdBy),t.R7$(),t.Y8G("ngIf",e.user.updatedBy)}}function vt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",24)(1,"mat-icon"),t.EFF(2,"person_off"),t.k0s(),t.j41(3,"h2"),t.EFF(4,"User Not Found"),t.k0s(),t.j41(5,"p"),t.EFF(6,"The user you're looking for doesn't exist or has been deleted."),t.k0s(),t.j41(7,"button",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goBack())}),t.EFF(8," Go Back to Users "),t.k0s()()}}let jt=(()=>{class n{route;router;userService;snackBar;userId=null;user=null;loading=!1;constructor(e,i,o,s){this.route=e,this.router=i,this.userService=o,this.snackBar=s}ngOnInit(){this.route.params.subscribe(e=>{e.id&&(this.userId=+e.id,this.loadUser())})}loadUser(){this.userId&&(this.loading=!0,this.userService.getUserById(this.userId).subscribe({next:e=>{this.user=e,this.loading=!1},error:e=>{console.error("Error loading user:",e),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1}}))}goBack(){this.router.navigate(["/users"])}onImageError(e){e.target.style.display="none"}static \u0275fac=function(i){return new(i||n)(t.rXU(g.nX),t.rXU(g.Ix),t.rXU(x.D),t.rXU(F.UG))};static \u0275cmp=t.VBU({type:n,selectors:[["app-user-details"]],standalone:!0,features:[t.aNF],decls:13,vars:4,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-button","",3,"click"],["mat-raised-button","","color","accent",3,"routerLink",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","user-details",4,"ngIf"],["class","no-user",4,"ngIf"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"loading-container"],[1,"user-details"],[1,"info-card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],["class","info-card",4,"ngIf"],["class","info-item",4,"ngIf"],[1,"astro-chip"],["class","info-item bio-item",4,"ngIf"],[1,"profile-picture"],[3,"error","src","alt"],[1,"info-item","bio-item"],[1,"bio-text"],[1,"no-user"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"User Details"),t.k0s(),t.j41(4,"div",2)(5,"button",3),t.bIt("click",function(){return o.goBack()}),t.j41(6,"mat-icon"),t.EFF(7,"arrow_back"),t.k0s(),t.EFF(8," Back to Users "),t.k0s(),t.DNE(9,st,4,3,"button",4),t.k0s()(),t.DNE(10,at,2,0,"div",5)(11,bt,56,19,"div",6)(12,vt,9,0,"div",7),t.k0s()),2&i&&(t.R7$(9),t.Y8G("ngIf",o.user),t.R7$(),t.Y8G("ngIf",o.loading),t.R7$(),t.Y8G("ngIf",!o.loading&&o.user),t.R7$(),t.Y8G("ngIf",!o.loading&&!o.user))},dependencies:[p.MD,p.bT,p.PV,p.vh,g.Wk,c.Hu,c.RN,c.m2,c.MM,c.dh,_.Hl,_.$z,h.m_,h.An,it.w,U.YN,U.Jl,k.D6,k.LG,F._T],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:60px}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.info-card[_ngcontent-%COMP%]{width:100%}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px}.bio-item[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column;grid-column:1/-1}.label[_ngcontent-%COMP%]{font-weight:600;color:#666;min-width:120px;margin-right:12px}.value[_ngcontent-%COMP%]{color:#333;word-break:break-word}.bio-text[_ngcontent-%COMP%]{margin:8px 0 0;line-height:1.5;color:#333}.user-type-chip[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.user-type-student[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.user-type-instructor[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.user-type-admin[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.astro-chip[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.profile-picture[_ngcontent-%COMP%]{margin-top:8px}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.no-user[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.no-user[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px}.no-user[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.label[_ngcontent-%COMP%]{min-width:auto;margin-right:0;margin-bottom:4px}}"]})}return n})();var R=a(2798),E=a(5084),I=a(6600);function Ut(n,r){1&n&&(t.j41(0,"div",6),t.nrm(1,"mat-spinner"),t.k0s())}function Rt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Username is required "),t.k0s())}function It(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Password is required "),t.k0s())}function Dt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Password must be at least 6 characters "),t.k0s())}function Tt(n,r){if(1&n){const e=t.RV6();t.j41(0,"mat-form-field",10)(1,"mat-label"),t.EFF(2,"Password"),t.k0s(),t.nrm(3,"input",36),t.j41(4,"button",37),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.hidePassword=!o.hidePassword)}),t.j41(5,"mat-icon"),t.EFF(6),t.k0s()(),t.DNE(7,It,2,0,"mat-error",12)(8,Dt,2,0,"mat-error",12),t.k0s()}if(2&n){let e,i;const o=t.XpG(2);t.R7$(3),t.Y8G("type",o.hidePassword?"password":"text"),t.R7$(3),t.JRh(o.hidePassword?"visibility_off":"visibility"),t.R7$(),t.Y8G("ngIf",null==(e=o.userForm.get("password"))?null:e.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(i=o.userForm.get("password"))?null:i.hasError("minlength"))}}function Pt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," First name is required "),t.k0s())}function Mt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Last name is required "),t.k0s())}function Nt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Phone number is required "),t.k0s())}function $t(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," User type is required "),t.k0s())}function yt(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Role is required "),t.k0s())}function Gt(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function St(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function Ot(n,r){if(1&n&&(t.j41(0,"mat-option",38),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function wt(n,r){1&n&&t.nrm(0,"mat-spinner",39)}function Bt(n,r){if(1&n){const e=t.RV6();t.j41(0,"form",7),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onSubmit())}),t.j41(1,"div",8)(2,"h3"),t.EFF(3,"Basic Information"),t.k0s(),t.j41(4,"div",9)(5,"mat-form-field",10)(6,"mat-label"),t.EFF(7,"Username"),t.k0s(),t.nrm(8,"input",11),t.DNE(9,Rt,2,0,"mat-error",12),t.k0s(),t.DNE(10,Tt,9,4,"mat-form-field",13),t.k0s(),t.j41(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),t.EFF(14,"First Name"),t.k0s(),t.nrm(15,"input",14),t.DNE(16,Pt,2,0,"mat-error",12),t.k0s(),t.j41(17,"mat-form-field",10)(18,"mat-label"),t.EFF(19,"Last Name"),t.k0s(),t.nrm(20,"input",15),t.DNE(21,Mt,2,0,"mat-error",12),t.k0s()(),t.j41(22,"div",9)(23,"mat-form-field",10)(24,"mat-label"),t.EFF(25,"Phone Number"),t.k0s(),t.nrm(26,"input",16),t.DNE(27,Nt,2,0,"mat-error",12),t.k0s(),t.j41(28,"mat-form-field",10)(29,"mat-label"),t.EFF(30,"User Type"),t.k0s(),t.j41(31,"mat-select",17)(32,"mat-option",18),t.EFF(33,"Student"),t.k0s(),t.j41(34,"mat-option",19),t.EFF(35,"Instructor"),t.k0s(),t.j41(36,"mat-option",20),t.EFF(37,"Admin"),t.k0s()(),t.DNE(38,$t,2,0,"mat-error",12),t.k0s()(),t.j41(39,"mat-form-field",10)(40,"mat-label"),t.EFF(41,"Role"),t.k0s(),t.nrm(42,"input",21),t.DNE(43,yt,2,0,"mat-error",12),t.k0s()(),t.j41(44,"div",8)(45,"h3"),t.EFF(46,"Birth Information"),t.k0s(),t.j41(47,"div",9)(48,"mat-form-field",10)(49,"mat-label"),t.EFF(50,"Birth Date"),t.k0s(),t.nrm(51,"input",22)(52,"mat-datepicker-toggle",23)(53,"mat-datepicker",null,0),t.k0s(),t.j41(55,"mat-form-field",10)(56,"mat-label"),t.EFF(57,"Birth Time"),t.k0s(),t.nrm(58,"input",24),t.k0s()(),t.j41(59,"mat-form-field",10)(60,"mat-label"),t.EFF(61,"Birth Place"),t.k0s(),t.nrm(62,"input",25),t.k0s()(),t.j41(63,"div",8)(64,"h3"),t.EFF(65,"Astrological Information"),t.k0s(),t.j41(66,"div",9)(67,"mat-form-field",10)(68,"mat-label"),t.EFF(69,"Zodiac Sign"),t.k0s(),t.j41(70,"mat-select",26),t.DNE(71,Gt,2,2,"mat-option",27),t.k0s()(),t.j41(72,"mat-form-field",10)(73,"mat-label"),t.EFF(74,"Rising Sign"),t.k0s(),t.j41(75,"mat-select",28),t.DNE(76,St,2,2,"mat-option",27),t.k0s()()(),t.j41(77,"mat-form-field",10)(78,"mat-label"),t.EFF(79,"Moon Sign"),t.k0s(),t.j41(80,"mat-select",29),t.DNE(81,Ot,2,2,"mat-option",27),t.k0s()()(),t.j41(82,"div",8)(83,"h3"),t.EFF(84,"Additional Information"),t.k0s(),t.j41(85,"mat-form-field",10)(86,"mat-label"),t.EFF(87,"Bio"),t.k0s(),t.j41(88,"textarea",30),t.EFF(89,"                "),t.k0s()(),t.j41(90,"mat-form-field",10)(91,"mat-label"),t.EFF(92,"Profile Picture URL"),t.k0s(),t.nrm(93,"input",31),t.k0s()(),t.j41(94,"div",32)(95,"button",33),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goBack())}),t.EFF(96,"Cancel"),t.k0s(),t.j41(97,"button",34),t.DNE(98,wt,1,0,"mat-spinner",35),t.EFF(99),t.k0s()()()}if(2&n){let e,i,o,s,l,T;const P=t.sdS(54),d=t.XpG();t.Y8G("formGroup",d.userForm),t.R7$(9),t.Y8G("ngIf",null==(e=d.userForm.get("username"))?null:e.hasError("required")),t.R7$(),t.Y8G("ngIf",!d.isEditMode),t.R7$(6),t.Y8G("ngIf",null==(i=d.userForm.get("firstName"))?null:i.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(o=d.userForm.get("lastName"))?null:o.hasError("required")),t.R7$(6),t.Y8G("ngIf",null==(s=d.userForm.get("phoneNumber"))?null:s.hasError("required")),t.R7$(11),t.Y8G("ngIf",null==(l=d.userForm.get("userType"))?null:l.hasError("required")),t.R7$(5),t.Y8G("ngIf",null==(T=d.userForm.get("role"))?null:T.hasError("required")),t.R7$(8),t.Y8G("matDatepicker",P),t.R7$(),t.Y8G("for",P),t.R7$(19),t.Y8G("ngForOf",d.zodiacSigns),t.R7$(5),t.Y8G("ngForOf",d.zodiacSigns),t.R7$(5),t.Y8G("ngForOf",d.zodiacSigns),t.R7$(16),t.Y8G("disabled",d.userForm.invalid||d.submitting),t.R7$(),t.Y8G("ngIf",d.submitting),t.R7$(),t.SpI(" ",d.submitting?"Saving...":d.isEditMode?"Update User":"Create User"," ")}}let D=(()=>{class n{fb;userService;router;route;snackBar;userForm;isEditMode=!1;userId=null;loading=!1;submitting=!1;hidePassword=!0;zodiacSigns=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];constructor(e,i,o,s,l){this.fb=e,this.userService=i,this.router=o,this.route=s,this.snackBar=l,this.userForm=this.createForm()}ngOnInit(){this.route.params.subscribe(e=>{e.id&&(this.isEditMode=!0,this.userId=+e.id,this.loadUser())})}createForm(){return this.fb.group({username:["",[m.k0.required]],password:["",this.isEditMode?[]:[m.k0.required,m.k0.minLength(6)]],firstName:["",[m.k0.required]],lastName:["",[m.k0.required]],phoneNumber:["",[m.k0.required]],userType:["student",[m.k0.required]],role:["USER",[m.k0.required]],birthDate:[""],birthTime:[""],birthPlace:[""],zodiacSign:[""],risingSign:[""],moonSign:[""],bio:[""],profilePicture:[""]})}loadUser(){this.userId&&(this.loading=!0,this.userService.getUserById(this.userId).subscribe({next:e=>{this.userForm.get("password")?.clearValidators(),this.userForm.get("password")?.updateValueAndValidity();const i={...e,birthDate:e.birthDate?new Date(e.birthDate):null};this.userForm.patchValue(i),this.loading=!1},error:e=>{console.error("Error loading user:",e),this.snackBar.open("Error loading user details","Close",{duration:3e3}),this.loading=!1}}))}onSubmit(){if(this.userForm.invalid)return;this.submitting=!0;const e=this.userForm.value,i={...e,birthDate:e.birthDate?e.birthDate.toISOString().split("T")[0]:null,updatedBy:"admin"};this.isEditMode&&!i.password&&delete i.password,(this.isEditMode?this.userService.updateUser(this.userId,i):this.userService.createUser(i)).subscribe({next:s=>{this.snackBar.open(this.isEditMode?"User updated successfully":"User created successfully","Close",{duration:3e3}),this.router.navigate(["/users"])},error:s=>{console.error("Error saving user:",s),this.snackBar.open(s.error?.message||"Error saving user","Close",{duration:5e3}),this.submitting=!1}})}goBack(){this.router.navigate(["/users"])}static \u0275fac=function(i){return new(i||n)(t.rXU(m.ok),t.rXU(x.D),t.rXU(g.Ix),t.rXU(g.nX),t.rXU(F.UG))};static \u0275cmp=t.VBU({type:n,selectors:[["app-add-user"]],standalone:!0,features:[t.aNF],decls:15,vars:4,consts:[["picker",""],[1,"container"],[1,"header"],["mat-button","",3,"click"],["class","loading-container",4,"ngIf"],["class","user-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-container"],[1,"user-form",3,"ngSubmit","formGroup"],[1,"section"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","username","placeholder","Enter username"],[4,"ngIf"],["appearance","outline",4,"ngIf"],["matInput","","formControlName","firstName","placeholder","Enter first name"],["matInput","","formControlName","lastName","placeholder","Enter last name"],["matInput","","formControlName","phoneNumber","placeholder","Enter phone number"],["formControlName","userType"],["value","student"],["value","instructor"],["value","admin"],["matInput","","formControlName","role","placeholder","Enter role"],["matInput","","formControlName","birthDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","type","time","formControlName","birthTime","placeholder","HH:MM"],["matInput","","formControlName","birthPlace","placeholder","Enter birth place"],["formControlName","zodiacSign"],[3,"value",4,"ngFor","ngForOf"],["formControlName","risingSign"],["formControlName","moonSign"],["matInput","","formControlName","bio","rows","4","placeholder","Enter user bio"],["matInput","","formControlName","profilePicture","placeholder","Enter profile picture URL"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],["matInput","","formControlName","password","placeholder","Enter password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"value"],["diameter","20"]],template:function(i,o){1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"h1"),t.EFF(3),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return o.goBack()}),t.j41(5,"mat-icon"),t.EFF(6,"arrow_back"),t.k0s(),t.EFF(7," Back to Users "),t.k0s()(),t.j41(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),t.EFF(11),t.k0s()(),t.j41(12,"mat-card-content"),t.DNE(13,Ut,2,0,"div",4)(14,Bt,100,16,"form",5),t.k0s()()()),2&i&&(t.R7$(3),t.JRh(o.isEditMode?"Edit User":"Add New User"),t.R7$(8),t.JRh(o.isEditMode?"Edit User Details":"User Information"),t.R7$(2),t.Y8G("ngIf",o.loading),t.R7$(),t.Y8G("ngIf",!o.loading))},dependencies:[p.MD,p.Sq,p.bT,m.X1,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,c.Hu,c.RN,c.m2,c.MM,c.dh,f.RG,f.rl,f.nJ,f.TL,f.yw,C.fS,C.fg,_.Hl,_.$z,_.iY,R.Ve,R.VO,I.wT,E.X6,E.Vh,E.bZ,E.bU,I.WX,h.m_,h.An,F._T,k.D6,k.LG],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.user-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.section[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:20px;background-color:#fafafa}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#333;font-size:16px;font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();const Lt=[{path:"",component:rt},{path:"add",component:D},{path:"edit/:id",component:D},{path:":id",component:jt}]}}]);