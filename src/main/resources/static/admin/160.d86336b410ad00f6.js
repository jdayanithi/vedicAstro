"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[160],{160:(K,F,l)=>{l.r(F),l.d(F,{KEYNOTES_ROUTES:()=>nt});var a=l(177),k=l(4710),p=l(9417),v=l(9159),d=l(5596),x=l(8834),c=l(9213),u=l(2102),T=l(9631),I=l(2798),P=l(6471),C=l(5416),y=l(9183),j=l(4823),_=l(6695),e=l(4438),m=l(2888),E=l(3822),w=l(6600);const L=()=>[],G=()=>[5,10,20,50],N=n=>["/keynotes",n];function B(n,o){if(1&n&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.lessonId),e.R7$(),e.SpI(" ",t.title," ")}}function U(n,o){1&n&&(e.j41(0,"div",18),e.nrm(1,"mat-spinner"),e.k0s())}function Y(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"ID"),e.k0s())}function V(n,o){if(1&n&&(e.j41(0,"td",35)(1,"span",36),e.EFF(2),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t.keynoteId)}}function X(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"Order"),e.k0s())}function z(n,o){if(1&n&&(e.j41(0,"td",35)(1,"span",37),e.EFF(2),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t.orderSequence)}}function W(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"Title"),e.k0s())}function H(n,o){1&n&&(e.j41(0,"mat-icon",41),e.EFF(1,"star"),e.k0s())}function q(n,o){if(1&n&&(e.j41(0,"td",35)(1,"div",38)(2,"span",39),e.EFF(3),e.k0s(),e.DNE(4,H,2,0,"mat-icon",40),e.k0s()()),2&n){const t=o.$implicit;e.R7$(3),e.JRh(t.title),e.R7$(),e.Y8G("ngIf",t.isImportant)}}function J(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"Lesson"),e.k0s())}function Q(n,o){if(1&n&&(e.j41(0,"span",45),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.topicTitle)}}function Z(n,o){if(1&n&&(e.j41(0,"td",35)(1,"div",42)(2,"span",43),e.EFF(3),e.k0s(),e.DNE(4,Q,2,1,"span",44),e.k0s()()),2&n){const t=o.$implicit;e.R7$(3),e.JRh(t.lessonTitle),e.R7$(),e.Y8G("ngIf",t.topicTitle)}}function ee(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"Type"),e.k0s())}function te(n,o){if(1&n&&(e.j41(0,"td",35)(1,"mat-chip"),e.EFF(2),e.k0s()()),2&n){const t=o.$implicit,i=e.XpG(2);e.R7$(),e.ZvI("content-type-chip content-type-",t.contentType,""),e.R7$(),e.SpI(" ",i.getContentTypeLabel(t.contentType)," ")}}function ne(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"Content Preview"),e.k0s())}function oe(n,o){if(1&n&&(e.j41(0,"td",35)(1,"div",46),e.EFF(2),e.k0s()()),2&n){const t=o.$implicit;e.R7$(),e.Y8G("matTooltip",t.content),e.R7$(),e.SpI(" ",t.content.length>100?t.content.substring(0,100)+"...":t.content," ")}}function ie(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"Features"),e.k0s())}function re(n,o){1&n&&(e.j41(0,"mat-chip",51)(1,"mat-icon"),e.EFF(2,"image"),e.k0s(),e.EFF(3," Visual Aid "),e.k0s())}function ae(n,o){if(1&n&&(e.j41(0,"mat-chip",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.relatedPlanet," ")}}function se(n,o){if(1&n&&(e.j41(0,"mat-chip",53),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.relatedZodiac," ")}}function ce(n,o){if(1&n&&(e.j41(0,"td",35)(1,"div",47),e.DNE(2,re,4,0,"mat-chip",48)(3,ae,2,1,"mat-chip",49)(4,se,2,1,"mat-chip",50),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.Y8G("ngIf",t.hasVisualAid),e.R7$(),e.Y8G("ngIf",t.relatedPlanet),e.R7$(),e.Y8G("ngIf",t.relatedZodiac)}}function le(n,o){1&n&&(e.j41(0,"th",34),e.EFF(1,"Actions"),e.k0s())}function de(n,o){if(1&n){const t=e.RV6();e.j41(0,"td",35)(1,"button",54)(2,"mat-icon"),e.EFF(3,"visibility"),e.k0s()(),e.j41(4,"button",55),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.editKeynote(r.keynoteId))}),e.j41(5,"mat-icon"),e.EFF(6,"edit"),e.k0s()(),e.j41(7,"button",56),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.deleteKeynote(r))}),e.j41(8,"mat-icon"),e.EFF(9,"delete"),e.k0s()()()}if(2&n){const t=o.$implicit;e.R7$(),e.Y8G("routerLink",e.eq3(1,N,t.keynoteId))}}function pe(n,o){1&n&&e.nrm(0,"tr",57)}function me(n,o){1&n&&e.nrm(0,"tr",58)}function ge(n,o){1&n&&(e.j41(0,"div",59)(1,"mat-icon"),e.EFF(2,"note_alt"),e.k0s(),e.j41(3,"p"),e.EFF(4,"No keynotes found"),e.k0s(),e.j41(5,"button",2),e.EFF(6," Add First Keynote "),e.k0s()())}function ue(n,o){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"table",19),e.qex(2,20),e.DNE(3,Y,2,0,"th",21)(4,V,3,1,"td",22),e.bVm(),e.qex(5,23),e.DNE(6,X,2,0,"th",21)(7,z,3,1,"td",22),e.bVm(),e.qex(8,24),e.DNE(9,W,2,0,"th",21)(10,q,5,2,"td",22),e.bVm(),e.qex(11,25),e.DNE(12,J,2,0,"th",21)(13,Z,5,2,"td",22),e.bVm(),e.qex(14,26),e.DNE(15,ee,2,0,"th",21)(16,te,3,4,"td",22),e.bVm(),e.qex(17,27),e.DNE(18,ne,2,0,"th",21)(19,oe,3,2,"td",22),e.bVm(),e.qex(20,28),e.DNE(21,ie,2,0,"th",21)(22,ce,5,3,"td",22),e.bVm(),e.qex(23,29),e.DNE(24,le,2,0,"th",21)(25,de,10,3,"td",22),e.bVm(),e.DNE(26,pe,1,0,"tr",30)(27,me,1,0,"tr",31),e.k0s(),e.j41(28,"mat-paginator",32),e.bIt("page",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onPageChange(r))}),e.k0s(),e.DNE(29,ge,7,0,"div",33),e.k0s()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("dataSource",t.keynotes||e.lJ4(7,L)),e.R7$(25),e.Y8G("matHeaderRowDef",t.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",t.displayedColumns),e.R7$(),e.Y8G("length",t.totalKeynotes||0)("pageSize",t.pageSize)("pageSizeOptions",e.lJ4(8,G)),e.R7$(),e.Y8G("ngIf",0===((null==t.keynotes?null:t.keynotes.length)||0))}}let _e=(()=>{class n{keynoteService;lessonService;router;snackBar;keynotes=[];totalKeynotes=0;pageSize=10;pageIndex=0;lessons=[];displayedColumns=["id","order","title","lesson","contentType","content","features","actions"];loading=!1;searchQuery="";selectedLessonId="";selectedContentType="";showImportantOnly=!1;constructor(t,i,r,s){this.keynoteService=t,this.lessonService=i,this.router=r,this.snackBar=s}ngOnInit(){this.loadLessons(),this.loadKeynotes()}loadLessons(){this.lessonService.getAllLessons().subscribe({next:t=>{this.lessons=t},error:t=>{console.error("Error loading lessons:",t)}})}loadKeynotes(){this.loading=!0,this.keynoteService.getKeynotesPaginated(this.pageIndex,this.pageSize,this.selectedLessonId?+this.selectedLessonId:void 0,this.selectedContentType||void 0,this.showImportantOnly||void 0,this.searchQuery.trim()||void 0).subscribe({next:t=>{this.keynotes=t.content,this.totalKeynotes=t.totalElements,this.loading=!1},error:t=>this.handleError(t)})}handleKeynotesResponse(t){let i=t;this.showImportantOnly&&!this.selectedLessonId&&(i=t.filter(r=>r.isImportant)),this.selectedContentType&&(i=i.filter(r=>r.contentType===this.selectedContentType)),this.keynotes=i,this.pageIndex=0,this.loading=!1}handleError(t){console.error("Error loading keynotes:",t),this.snackBar.open("Error loading keynotes","Close",{duration:3e3}),this.loading=!1}onSearchChange(){this.pageIndex=0,this.searchQuery.trim()?(this.selectedLessonId="",this.loadKeynotes()):this.loadKeynotes()}onLessonFilterChange(){this.pageIndex=0,this.searchQuery="",this.loadKeynotes()}onContentTypeFilterChange(){this.pageIndex=0,this.loadKeynotes()}onPageChange(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.loadKeynotes()}getContentTypeLabel(t){switch(t){case"text":return"Text";case"bullet_points":return"Bullet Points";case"quote":return"Quote";case"example":return"Example";default:return t}}editKeynote(t){this.router.navigate(["/keynotes/edit",t])}deleteKeynote(t){confirm(`Are you sure you want to delete the keynote "${t.title}"?`)&&this.keynoteService.deleteKeynote(t.keynoteId).subscribe({next:()=>{this.snackBar.open("Keynote deleted successfully","Close",{duration:3e3}),this.loadKeynotes()},error:i=>{console.error("Error deleting keynote:",i),this.snackBar.open("Error deleting keynote","Close",{duration:3e3})}})}static \u0275fac=function(i){return new(i||n)(e.rXU(m.B),e.rXU(E.u),e.rXU(k.Ix),e.rXU(C.UG))};static \u0275cmp=e.VBU({type:n,selectors:[["app-keynote-list"]],standalone:!0,features:[e.aNF],decls:47,vars:8,consts:[[1,"container"],[1,"header"],["mat-raised-button","","color","primary","routerLink","/keynotes/add"],[1,"filters-container"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Search by title or content...",3,"ngModelChange","input","ngModel"],["matSuffix",""],[3,"ngModelChange","selectionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","text"],["value","bullet_points"],["value","quote"],["value","example"],["mat-stroked-button","",3,"click","color"],["class","loading-container",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"loading-container"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","order"],["matColumnDef","title"],["matColumnDef","lesson"],["matColumnDef","contentType"],["matColumnDef","content"],["matColumnDef","features"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["class","no-data",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"id-badge"],[1,"order-badge"],[1,"title-cell"],[1,"keynote-title"],["class","important-icon","color","warn",4,"ngIf"],["color","warn",1,"important-icon"],[1,"lesson-info"],[1,"lesson-title"],["class","topic-title",4,"ngIf"],[1,"topic-title"],[1,"content-preview",3,"matTooltip"],[1,"feature-chips"],["class","feature-chip visual-aid-chip",4,"ngIf"],["class","feature-chip planet-chip",4,"ngIf"],["class","feature-chip zodiac-chip",4,"ngIf"],[1,"feature-chip","visual-aid-chip"],[1,"feature-chip","planet-chip"],[1,"feature-chip","zodiac-chip"],["mat-icon-button","","color","primary","matTooltip","View Details",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Edit Keynote",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete Keynote",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Lesson Keynotes Management"),e.k0s(),e.j41(4,"button",2)(5,"mat-icon"),e.EFF(6,"add"),e.k0s(),e.EFF(7," Add Keynote "),e.k0s()(),e.j41(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),e.EFF(11,"Keynotes"),e.k0s()(),e.j41(12,"mat-card-content")(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),e.EFF(16,"Search keynotes"),e.k0s(),e.j41(17,"input",5),e.mxI("ngModelChange",function(g){return e.DH7(r.searchQuery,g)||(r.searchQuery=g),g}),e.bIt("input",function(){return r.onSearchChange()}),e.k0s(),e.j41(18,"mat-icon",6),e.EFF(19,"search"),e.k0s()(),e.j41(20,"mat-form-field",4)(21,"mat-label"),e.EFF(22,"Filter by Lesson"),e.k0s(),e.j41(23,"mat-select",7),e.mxI("ngModelChange",function(g){return e.DH7(r.selectedLessonId,g)||(r.selectedLessonId=g),g}),e.bIt("selectionChange",function(){return r.onLessonFilterChange()}),e.j41(24,"mat-option",8),e.EFF(25,"All Lessons"),e.k0s(),e.DNE(26,B,2,2,"mat-option",9),e.k0s()(),e.j41(27,"mat-form-field",4)(28,"mat-label"),e.EFF(29,"Content Type"),e.k0s(),e.j41(30,"mat-select",7),e.mxI("ngModelChange",function(g){return e.DH7(r.selectedContentType,g)||(r.selectedContentType=g),g}),e.bIt("selectionChange",function(){return r.onContentTypeFilterChange()}),e.j41(31,"mat-option",8),e.EFF(32,"All Types"),e.k0s(),e.j41(33,"mat-option",10),e.EFF(34,"Text"),e.k0s(),e.j41(35,"mat-option",11),e.EFF(36,"Bullet Points"),e.k0s(),e.j41(37,"mat-option",12),e.EFF(38,"Quote"),e.k0s(),e.j41(39,"mat-option",13),e.EFF(40,"Example"),e.k0s()()(),e.j41(41,"button",14),e.bIt("click",function(){return r.showImportantOnly=!r.showImportantOnly,r.loadKeynotes()}),e.j41(42,"mat-icon"),e.EFF(43),e.k0s(),e.EFF(44," Important Only "),e.k0s()(),e.DNE(45,U,2,0,"div",15)(46,ue,30,9,"div",16),e.k0s()()()),2&i&&(e.R7$(17),e.R50("ngModel",r.searchQuery),e.R7$(6),e.R50("ngModel",r.selectedLessonId),e.R7$(3),e.Y8G("ngForOf",r.lessons),e.R7$(4),e.R50("ngModel",r.selectedContentType),e.R7$(11),e.Y8G("color",r.showImportantOnly?"primary":""),e.R7$(2),e.JRh(r.showImportantOnly?"star":"star_border"),e.R7$(2),e.Y8G("ngIf",r.loading),e.R7$(),e.Y8G("ngIf",!r.loading))},dependencies:[a.MD,a.Sq,a.bT,k.Wk,p.YN,p.me,p.BC,p.vS,v.tP,v.Zl,v.tL,v.ji,v.cC,v.YV,v.iL,v.KS,v.$R,v.YZ,v.NB,d.Hu,d.RN,d.m2,d.MM,d.dh,x.Hl,x.$z,x.iY,c.m_,c.An,u.RG,u.rl,u.nJ,u.yw,T.fS,T.fg,I.Ve,I.VO,w.wT,P.YN,P.Jl,C._T,y.D6,y.LG,j.uc,j.oV,_.Ou,_.iy],styles:[".container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.filters-container[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:20px;align-items:center;flex-wrap:wrap}.filter-field[_ngcontent-%COMP%]{min-width:200px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.full-width[_ngcontent-%COMP%]{width:100%}.id-badge[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;font-family:Courier New,monospace}.order-badge[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.title-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.keynote-title[_ngcontent-%COMP%]{font-weight:500}.important-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.lesson-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.lesson-title[_ngcontent-%COMP%]{font-weight:500;color:#333}.topic-title[_ngcontent-%COMP%]{font-size:12px;color:#666}.content-type-chip[_ngcontent-%COMP%]{font-size:11px;font-weight:500}.content-type-text[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.content-type-bullet_points[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.content-type-quote[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.content-type-example[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.content-preview[_ngcontent-%COMP%]{max-width:300px;line-height:1.4;color:#666}.feature-chips[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.feature-chip[_ngcontent-%COMP%]{font-size:10px;height:24px;display:flex;align-items:center;gap:4px}.visual-aid-chip[_ngcontent-%COMP%]{background-color:#fff9c4;color:#f57f17}.planet-chip[_ngcontent-%COMP%]{background-color:#fce4ec;color:#c2185b}.zodiac-chip[_ngcontent-%COMP%]{background-color:#e1f5fe;color:#0277bd}.feature-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.no-data[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:16px 0 24px;font-size:16px}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:12px 8px}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#0000000a}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.filters-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-field[_ngcontent-%COMP%]{min-width:auto;width:100%}}"]})}return n})();var $=l(1997);const fe=n=>["/keynotes/edit",n];function he(n,o){if(1&n&&(e.j41(0,"button",8)(1,"mat-icon"),e.EFF(2,"edit"),e.k0s(),e.EFF(3," Edit Keynote "),e.k0s()),2&n){const t=e.XpG();e.Y8G("routerLink",e.eq3(1,fe,t.keynote.keynoteId))}}function ye(n,o){1&n&&(e.j41(0,"div",9),e.nrm(1,"mat-spinner"),e.k0s())}function ke(n,o){1&n&&(e.j41(0,"mat-chip",31)(1,"mat-icon"),e.EFF(2,"star"),e.k0s(),e.EFF(3," Important "),e.k0s())}function ve(n,o){if(1&n&&(e.j41(0,"div",20)(1,"span",21),e.EFF(2,"Topic:"),e.k0s(),e.j41(3,"span",24),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.JRh(t.keynote.topicTitle)}}function Ce(n,o){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(),e.JRh(t)}}function Fe(n,o){if(1&n&&(e.j41(0,"div",32)(1,"ul"),e.DNE(2,Ce,2,1,"li",33),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.getBulletPoints(t.keynote.content))}}function xe(n,o){if(1&n&&(e.j41(0,"div",34)(1,"blockquote")(2,"mat-icon"),e.EFF(3,"format_quote"),e.k0s(),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.keynote.content," ")}}function Ee(n,o){if(1&n&&(e.j41(0,"div",35)(1,"p"),e.EFF(2),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.JRh(t.keynote.content)}}function be(n,o){if(1&n){const t=e.RV6();e.j41(0,"mat-card",18)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3,"Visual Aid"),e.k0s()(),e.j41(4,"mat-card-content")(5,"div",36)(6,"img",37),e.bIt("error",function(r){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onImageError(r))}),e.k0s(),e.j41(7,"div",38)(8,"span",21),e.EFF(9,"URL:"),e.k0s(),e.j41(10,"a",39),e.EFF(11),e.j41(12,"mat-icon"),e.EFF(13,"open_in_new"),e.k0s()()()()()()}if(2&n){const t=e.XpG(2);e.R7$(6),e.Y8G("src",t.keynote.visualAidUrl,e.B4B)("alt",t.keynote.title),e.R7$(4),e.Y8G("href",t.keynote.visualAidUrl,e.B4B),e.R7$(),e.SpI(" ",t.keynote.visualAidUrl," ")}}function Te(n,o){if(1&n&&(e.j41(0,"mat-chip",43)(1,"mat-icon"),e.EFF(2,"brightness_1"),e.k0s(),e.EFF(3),e.k0s()),2&n){const t=e.XpG(3);e.R7$(3),e.SpI(" ",t.keynote.relatedPlanet," ")}}function Ie(n,o){if(1&n&&(e.j41(0,"mat-chip",44)(1,"mat-icon"),e.EFF(2,"stars"),e.k0s(),e.EFF(3),e.k0s()),2&n){const t=e.XpG(3);e.R7$(3),e.SpI(" ",t.keynote.relatedZodiac," ")}}function Me(n,o){if(1&n&&(e.j41(0,"mat-card",18)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3,"Astrological Relations"),e.k0s()(),e.j41(4,"mat-card-content")(5,"div",40),e.DNE(6,Te,4,1,"mat-chip",41)(7,Ie,4,1,"mat-chip",42),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(6),e.Y8G("ngIf",t.keynote.relatedPlanet),e.R7$(),e.Y8G("ngIf",t.keynote.relatedZodiac)}}function Pe(n,o){if(1&n&&(e.j41(0,"div",20)(1,"span",21),e.EFF(2,"Created:"),e.k0s(),e.j41(3,"span",24),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.JRh(e.i5U(5,1,t.keynote.createdAt,"medium"))}}function Oe(n,o){if(1&n&&(e.j41(0,"div",20)(1,"span",21),e.EFF(2,"Last Updated:"),e.k0s(),e.j41(3,"span",24),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.JRh(e.i5U(5,1,t.keynote.updatedAt,"medium"))}}function je(n,o){if(1&n&&(e.j41(0,"div",10)(1,"mat-card",11)(2,"mat-card-content")(3,"div",12)(4,"div",13)(5,"h2",14),e.EFF(6),e.k0s(),e.j41(7,"div",15)(8,"mat-chip",16),e.EFF(9),e.k0s(),e.DNE(10,ke,4,0,"mat-chip",17),e.j41(11,"mat-chip"),e.EFF(12),e.k0s()()()()()(),e.j41(13,"mat-card",18)(14,"mat-card-header")(15,"mat-card-title"),e.EFF(16,"Lesson Information"),e.k0s()(),e.j41(17,"mat-card-content")(18,"div",19)(19,"div",20)(20,"span",21),e.EFF(21,"Lesson:"),e.k0s(),e.j41(22,"span",22),e.EFF(23),e.k0s()(),e.DNE(24,ve,5,1,"div",23),e.j41(25,"div",20)(26,"span",21),e.EFF(27,"Lesson ID:"),e.k0s(),e.j41(28,"span",24),e.EFF(29),e.k0s()()()()(),e.j41(30,"mat-card",25)(31,"mat-card-header")(32,"mat-card-title"),e.EFF(33,"Content"),e.k0s()(),e.j41(34,"mat-card-content")(35,"div",26),e.DNE(36,Fe,3,1,"div",27)(37,xe,5,1,"div",28)(38,Ee,3,1,"div",29),e.k0s()()(),e.DNE(39,be,14,4,"mat-card",30)(40,Me,8,2,"mat-card",30),e.j41(41,"mat-card",18)(42,"mat-card-header")(43,"mat-card-title"),e.EFF(44,"System Information"),e.k0s()(),e.j41(45,"mat-card-content")(46,"div",19)(47,"div",20)(48,"span",21),e.EFF(49,"Keynote ID:"),e.k0s(),e.j41(50,"span",24),e.EFF(51),e.k0s()(),e.DNE(52,Pe,6,4,"div",23)(53,Oe,6,4,"div",23),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(6),e.JRh(t.keynote.title),e.R7$(3),e.SpI("Order: ",t.keynote.orderSequence,""),e.R7$(),e.Y8G("ngIf",t.keynote.isImportant),e.R7$(),e.ZvI("content-type-badge content-type-",t.keynote.contentType,""),e.R7$(),e.SpI(" ",t.getContentTypeLabel(t.keynote.contentType)," "),e.R7$(11),e.JRh(t.keynote.lessonTitle),e.R7$(),e.Y8G("ngIf",t.keynote.topicTitle),e.R7$(5),e.JRh(t.keynote.lessonId),e.R7$(6),e.Y8G("ngClass","content-type-"+t.keynote.contentType),e.R7$(),e.Y8G("ngIf","bullet_points"===t.keynote.contentType),e.R7$(),e.Y8G("ngIf","quote"===t.keynote.contentType),e.R7$(),e.Y8G("ngIf","text"===t.keynote.contentType||"example"===t.keynote.contentType),e.R7$(),e.Y8G("ngIf",t.keynote.hasVisualAid&&t.keynote.visualAidUrl),e.R7$(),e.Y8G("ngIf",t.keynote.relatedPlanet||t.keynote.relatedZodiac),e.R7$(11),e.JRh(t.keynote.keynoteId),e.R7$(),e.Y8G("ngIf",t.keynote.createdAt),e.R7$(),e.Y8G("ngIf",t.keynote.updatedAt)}}function Ke(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"mat-icon"),e.EFF(2,"note_alt"),e.k0s(),e.j41(3,"h2"),e.EFF(4,"Keynote Not Found"),e.k0s(),e.j41(5,"p"),e.EFF(6,"The keynote you're looking for doesn't exist or has been deleted."),e.k0s(),e.j41(7,"button",46),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.goBack())}),e.EFF(8," Go Back to Keynotes "),e.k0s()()}}let Re=(()=>{class n{route;router;keynoteService;snackBar;keynoteId=null;keynote=null;loading=!1;constructor(t,i,r,s){this.route=t,this.router=i,this.keynoteService=r,this.snackBar=s}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.keynoteId=+t.id,this.loadKeynote())})}loadKeynote(){this.keynoteId&&(this.loading=!0,this.keynoteService.getKeynoteById(this.keynoteId).subscribe({next:t=>{this.keynote=t,this.loading=!1},error:t=>{console.error("Error loading keynote:",t),this.snackBar.open("Error loading keynote details","Close",{duration:3e3}),this.loading=!1}}))}getContentTypeLabel(t){switch(t){case"text":return"Text";case"bullet_points":return"Bullet Points";case"quote":return"Quote";case"example":return"Example";default:return t}}getBulletPoints(t){return t.split("\n").map(i=>i.trim()).filter(i=>i.length>0).map(i=>i.replace(/^[\u2022\-\*]\s*/,""))}onImageError(t){t.target.style.display="none"}goBack(){this.router.navigate(["/keynotes"])}static \u0275fac=function(i){return new(i||n)(e.rXU(k.nX),e.rXU(k.Ix),e.rXU(m.B),e.rXU(C.UG))};static \u0275cmp=e.VBU({type:n,selectors:[["app-keynote-details"]],standalone:!0,features:[e.aNF],decls:13,vars:4,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-button","",3,"click"],["mat-raised-button","","color","accent",3,"routerLink",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","keynote-details",4,"ngIf"],["class","no-keynote",4,"ngIf"],["mat-raised-button","","color","accent",3,"routerLink"],[1,"loading-container"],[1,"keynote-details"],[1,"info-card","header-card"],[1,"keynote-header"],[1,"title-section"],[1,"keynote-title"],[1,"badges"],[1,"order-badge"],["class","important-badge",4,"ngIf"],[1,"info-card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value","lesson-link"],["class","info-item",4,"ngIf"],[1,"value"],[1,"info-card","content-card"],[1,"content-display",3,"ngClass"],["class","bullet-content",4,"ngIf"],["class","quote-content",4,"ngIf"],["class","text-content",4,"ngIf"],["class","info-card",4,"ngIf"],[1,"important-badge"],[1,"bullet-content"],[4,"ngFor","ngForOf"],[1,"quote-content"],[1,"text-content"],[1,"visual-aid-container"],[1,"visual-aid-image",3,"error","src","alt"],[1,"visual-aid-url"],["target","_blank",1,"url-link",3,"href"],[1,"astro-chips"],["class","planet-chip",4,"ngIf"],["class","zodiac-chip",4,"ngIf"],[1,"planet-chip"],[1,"zodiac-chip"],[1,"no-keynote"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Keynote Details"),e.k0s(),e.j41(4,"div",2)(5,"button",3),e.bIt("click",function(){return r.goBack()}),e.j41(6,"mat-icon"),e.EFF(7,"arrow_back"),e.k0s(),e.EFF(8," Back to Keynotes "),e.k0s(),e.DNE(9,he,4,3,"button",4),e.k0s()(),e.DNE(10,ye,2,0,"div",5)(11,je,54,19,"div",6)(12,Ke,9,0,"div",7),e.k0s()),2&i&&(e.R7$(9),e.Y8G("ngIf",r.keynote),e.R7$(),e.Y8G("ngIf",r.loading),e.R7$(),e.Y8G("ngIf",!r.loading&&r.keynote),e.R7$(),e.Y8G("ngIf",!r.loading&&!r.keynote))},dependencies:[a.MD,a.YU,a.Sq,a.bT,a.vh,k.Wk,d.Hu,d.RN,d.m2,d.MM,d.dh,x.Hl,x.$z,c.m_,c.An,$.w,P.YN,P.Jl,y.D6,y.LG,C._T],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:60px}.keynote-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.info-card[_ngcontent-%COMP%]{width:100%}.header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.header-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding:24px}.keynote-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.keynote-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin:0 0 16px;color:#fff}.badges[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.order-badge[_ngcontent-%COMP%]{background-color:#fff3;color:#fff}.important-badge[_ngcontent-%COMP%]{background-color:#ff6b6b;color:#fff}.content-type-badge[_ngcontent-%COMP%]{color:#fff;font-weight:500}.content-type-text[_ngcontent-%COMP%]{background-color:#4caf50cc}.content-type-bullet_points[_ngcontent-%COMP%]{background-color:#ff9800cc}.content-type-quote[_ngcontent-%COMP%]{background-color:#9c27b0cc}.content-type-example[_ngcontent-%COMP%]{background-color:#2196f3cc}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:40px}.label[_ngcontent-%COMP%]{font-weight:600;color:#666;min-width:100px;margin-right:12px}.value[_ngcontent-%COMP%]{color:#333;word-break:break-word}.lesson-link[_ngcontent-%COMP%]{color:#1976d2;cursor:pointer;text-decoration:underline}.content-card[_ngcontent-%COMP%]{min-height:150px}.content-display[_ngcontent-%COMP%]{font-size:16px;line-height:1.6}.bullet-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.bullet-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.quote-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{margin:0;padding:20px;background-color:#f5f5f5;border-left:4px solid #9c27b0;border-radius:4px;font-style:italic;position:relative}.quote-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;color:#9c27b0;opacity:.3;font-size:32px;width:32px;height:32px}.text-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333}.visual-aid-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.visual-aid-image[_ngcontent-%COMP%]{max-width:100%;max-height:400px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.visual-aid-url[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.url-link[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;display:flex;align-items:center;gap:4px}.url-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.url-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.astro-chips[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.planet-chip[_ngcontent-%COMP%]{background-color:#fce4ec;color:#c2185b}.zodiac-chip[_ngcontent-%COMP%]{background-color:#e1f5fe;color:#0277bd}.planet-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .zodiac-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.no-keynote[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#666}.no-keynote[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px}.no-keynote[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.keynote-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.label[_ngcontent-%COMP%]{min-width:auto;margin-right:0;margin-bottom:4px}}"]})}return n})();var R=l(467),D=l(2765),S=l(4518),$e=l(9172),Se=l(6354),we=l(7640),De=l(6538);class O{static extractErrorMessage(o,t="An error occurred. Please try again."){if(!o)return t;if(o.error&&o.error.fieldErrors)return Object.entries(o.error.fieldErrors).map(([s,g])=>`${s}: ${g}`).join(", ")||o.error.message||t;if(o.error&&o.error.message)return o.error.message;if(o.error&&"string"==typeof o.error)return o.error;if(o.error&&o.error.error)return o.error.error;if(o.message)return o.message;if(o.status)switch(o.status){case 400:return o.error?.message||"Invalid request. Please check your input data.";case 401:return"Authentication failed. Please log in again.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 409:return o.error?.message||"A conflict occurred. The resource may already exist.";case 422:return o.error?.message||"Validation failed. Please check your input data.";case 500:return o.error?.message||"Server error. Please try again later.";case 0:return"Unable to connect to the server. Please check your internet connection.";default:return o.error?.message||`Server error (${o.status}). Please try again later.`}return t}static formatValidationErrors(o){if(!o||"object"!=typeof o)return"Validation failed. Please check your input data.";const t=Object.entries(o).map(([i,r])=>`${i.replace(/([A-Z])/g," $1").replace(/^./,g=>g.toUpperCase()).trim()}: ${r}`);return 1===t.length?t[0]:`Multiple validation errors: ${t.join("; ")}`}static isValidationError(o){return o?.error?.fieldErrors||400===o?.status||422===o?.status||o?.error?.message&&o.error.message.toLowerCase().includes("validation")}static isConflictError(o){return 409===o?.status||o?.error?.message&&(o.error.message.toLowerCase().includes("duplicate")||o.error.message.toLowerCase().includes("already exists")||o.error.message.toLowerCase().includes("conflict"))}static getSnackbarClass(o){return this.isValidationError(o)||this.isConflictError(o)?["warning-snackbar"]:["error-snackbar"]}}let Ae=(()=>{class n{snackBar=(0,e.WQX)(C.UG);showError(t,i="An error occurred. Please try again.",r=5e3){const s=O.extractErrorMessage(t,i),g=O.getSnackbarClass(t);this.snackBar.open(s,"Close",{duration:r,panelClass:g})}showSuccess(t,i=3e3){this.snackBar.open(t,"Close",{duration:i,panelClass:["success-snackbar"]})}showWarning(t,i=4e3){this.snackBar.open(t,"Close",{duration:i,panelClass:["warning-snackbar"]})}showInfo(t,i=3e3){this.snackBar.open(t,"Close",{duration:i,panelClass:["info-snackbar"]})}handleApiError(t,i="operation",r=5e3){let s=`Error ${i}. Please try again.`;O.isValidationError(t)?s=`Validation failed while ${i}. Please check your input data.`:O.isConflictError(t)?s=`A conflict occurred while ${i}. The resource may already exist.`:404===t?.status?s=`Resource not found while ${i}.`:403===t?.status?s=`You do not have permission to perform this ${i}.`:401===t?.status&&(s=`Authentication required to ${i}. Please log in again.`),this.showError(t,s,r)}handleFormError(t,i="form"){if(O.isValidationError(t)&&t?.error?.fieldErrors){const r=O.formatValidationErrors(t.error.fieldErrors);this.showWarning(r,6e3)}else this.handleApiError(t,`submitting ${i}`)}logError(t,i){console.error(`Error in ${i}:`,t),t?.error&&console.error("Error details:",t.error),t?.status&&console.error("HTTP Status:",t.status),t?.message&&console.error("Error message:",t.message)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Le(n,o){1&n&&(e.j41(0,"div",6),e.nrm(1,"mat-spinner"),e.k0s())}function Ge(n,o){if(1&n&&(e.j41(0,"mat-option",40)(1,"div",41)(2,"span",42),e.EFF(3),e.k0s(),e.j41(4,"span",43),e.EFF(5),e.k0s()()()),2&n){const t=o.$implicit;e.Y8G("value",t),e.R7$(3),e.JRh(t.title),e.R7$(2),e.JRh(t.topicTitle)}}function Ne(n,o){1&n&&(e.j41(0,"mat-error"),e.EFF(1," Lesson is required "),e.k0s())}function Be(n,o){1&n&&(e.j41(0,"mat-error"),e.EFF(1," Title is required "),e.k0s())}function Ue(n,o){1&n&&(e.j41(0,"mat-error"),e.EFF(1," Content type is required "),e.k0s())}function Ye(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," Use bullet points format (\u2022 item 1, \u2022 item 2, etc.) "),e.k0s())}function Ve(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," Include quotation marks for quotes "),e.k0s())}function Xe(n,o){1&n&&(e.j41(0,"mat-error"),e.EFF(1," Content is required "),e.k0s())}function ze(n,o){1&n&&(e.j41(0,"mat-form-field",10)(1,"mat-label"),e.EFF(2,"Visual Aid URL"),e.k0s(),e.nrm(3,"input",44),e.j41(4,"mat-hint"),e.EFF(5,"URL to image, diagram, or other visual content"),e.k0s()())}function We(n,o){if(1&n&&(e.j41(0,"mat-option",40),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function He(n,o){if(1&n&&(e.j41(0,"mat-option",40),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function qe(n,o){if(1&n&&(e.j41(0,"mat-option",40),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("value",t.tagId),e.R7$(),e.SpI(" ",t.tagName," ")}}function Je(n,o){1&n&&(e.j41(0,"mat-error"),e.EFF(1," Tag selection is required "),e.k0s())}function Qe(n,o){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"mat-form-field",46)(2,"mat-label"),e.EFF(3,"Tag"),e.k0s(),e.j41(4,"mat-select",47),e.DNE(5,qe,2,2,"mat-option",13),e.k0s(),e.DNE(6,Je,2,0,"mat-error",14),e.k0s(),e.j41(7,"mat-form-field",46)(8,"mat-label"),e.EFF(9,"Relevance Score"),e.k0s(),e.nrm(10,"input",48),e.j41(11,"mat-hint"),e.EFF(12,"Enter a score from 1-10 indicating relevance to the keynote"),e.k0s()(),e.j41(13,"div",49)(14,"button",50),e.bIt("click",function(){const r=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.saveTag(r))}),e.j41(15,"mat-icon"),e.EFF(16,"save"),e.k0s()(),e.j41(17,"button",51),e.bIt("click",function(){const r=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.removeTag(r))}),e.j41(18,"mat-icon"),e.EFF(19,"delete"),e.k0s(),e.EFF(20," Remove "),e.k0s()()()}if(2&n){let t;const i=o.$implicit,r=o.index,s=e.XpG(2);e.Y8G("formGroupName",r),e.R7$(5),e.Y8G("ngForOf",s.allTags),e.R7$(),e.Y8G("ngIf",null==(t=i.get("tagId"))?null:t.hasError("required"))}}function Ze(n,o){1&n&&(e.j41(0,"div",52)(1,"mat-icon"),e.EFF(2,"label_off"),e.k0s(),e.j41(3,"p"),e.EFF(4,'No tags added yet. Click "Add Tag" to start tagging this keynote.'),e.k0s()())}function et(n,o){1&n&&e.nrm(0,"mat-spinner",53)}function tt(n,o){if(1&n){const t=e.RV6();e.j41(0,"form",7),e.bIt("ngSubmit",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onSubmit())}),e.j41(1,"div",8)(2,"h3"),e.EFF(3,"Basic Information"),e.k0s(),e.j41(4,"div",9)(5,"mat-form-field",10)(6,"mat-label"),e.EFF(7,"Lesson"),e.k0s(),e.nrm(8,"input",11),e.j41(9,"mat-autocomplete",12,0),e.DNE(11,Ge,6,3,"mat-option",13),e.nI1(12,"async"),e.k0s(),e.DNE(13,Ne,2,0,"mat-error",14),e.k0s(),e.j41(14,"mat-form-field",10)(15,"mat-label"),e.EFF(16,"Order Sequence"),e.k0s(),e.nrm(17,"input",15),e.k0s()(),e.j41(18,"mat-form-field",10)(19,"mat-label"),e.EFF(20,"Title"),e.k0s(),e.nrm(21,"input",16),e.DNE(22,Be,2,0,"mat-error",14),e.k0s(),e.j41(23,"div",9)(24,"mat-form-field",10)(25,"mat-label"),e.EFF(26,"Content Type"),e.k0s(),e.j41(27,"mat-select",17)(28,"mat-option",18),e.EFF(29,"Text"),e.k0s(),e.j41(30,"mat-option",19),e.EFF(31,"Bullet Points"),e.k0s(),e.j41(32,"mat-option",20),e.EFF(33,"Quote"),e.k0s(),e.j41(34,"mat-option",21),e.EFF(35,"Example"),e.k0s()(),e.DNE(36,Ue,2,0,"mat-error",14),e.k0s(),e.j41(37,"div",22)(38,"mat-checkbox",23)(39,"mat-icon"),e.EFF(40,"star"),e.k0s(),e.EFF(41," Mark as Important "),e.k0s()()()(),e.j41(42,"div",8)(43,"h3"),e.EFF(44,"Content"),e.k0s(),e.j41(45,"mat-form-field",10)(46,"mat-label"),e.EFF(47,"Content"),e.k0s(),e.j41(48,"textarea",24),e.EFF(49,"                "),e.k0s(),e.j41(50,"mat-hint"),e.DNE(51,Ye,2,0,"span",14)(52,Ve,2,0,"span",14),e.k0s(),e.DNE(53,Xe,2,0,"mat-error",14),e.k0s()(),e.j41(54,"div",8)(55,"h3"),e.EFF(56,"Visual Aid"),e.k0s(),e.j41(57,"div",22)(58,"mat-checkbox",25),e.bIt("change",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onVisualAidChange(r))}),e.j41(59,"mat-icon"),e.EFF(60,"image"),e.k0s(),e.EFF(61," Has Visual Aid "),e.k0s()(),e.DNE(62,ze,6,0,"mat-form-field",26),e.k0s(),e.j41(63,"div",8)(64,"h3"),e.EFF(65,"Astrological Relations"),e.k0s(),e.j41(66,"div",9)(67,"mat-form-field",10)(68,"mat-label"),e.EFF(69,"Related Planet"),e.k0s(),e.j41(70,"mat-select",27)(71,"mat-option",28),e.EFF(72,"None"),e.k0s(),e.DNE(73,We,2,2,"mat-option",13),e.k0s()(),e.j41(74,"mat-form-field",10)(75,"mat-label"),e.EFF(76,"Related Zodiac Sign"),e.k0s(),e.j41(77,"mat-select",29)(78,"mat-option",28),e.EFF(79,"None"),e.k0s(),e.DNE(80,He,2,2,"mat-option",13),e.k0s()()()(),e.nrm(81,"mat-divider"),e.j41(82,"div",8)(83,"div",30)(84,"h3",31)(85,"mat-icon"),e.EFF(86,"label"),e.k0s(),e.EFF(87," Keynote Tags "),e.k0s(),e.j41(88,"button",32),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.addTag())}),e.j41(89,"mat-icon"),e.EFF(90,"add"),e.k0s(),e.EFF(91," Add Tag "),e.k0s()(),e.j41(92,"div",33),e.DNE(93,Qe,21,3,"div",34)(94,Ze,5,0,"div",35),e.k0s()(),e.j41(95,"div",36)(96,"button",37),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.goBack())}),e.EFF(97,"Cancel"),e.k0s(),e.j41(98,"button",38),e.DNE(99,et,1,0,"mat-spinner",39),e.EFF(100),e.k0s()()()}if(2&n){let t,i,r,s,g,h,b;const M=e.sdS(10),f=e.XpG();e.Y8G("formGroup",f.keynoteForm),e.R7$(8),e.Y8G("matAutocomplete",M),e.R7$(),e.Y8G("displayWith",f.displayLessonFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(12,18,f.filteredLessons)),e.R7$(2),e.Y8G("ngIf",null==(t=f.keynoteForm.get("lessonSearch"))?null:t.hasError("required")),e.R7$(9),e.Y8G("ngIf",null==(i=f.keynoteForm.get("title"))?null:i.hasError("required")),e.R7$(14),e.Y8G("ngIf",null==(r=f.keynoteForm.get("contentType"))?null:r.hasError("required")),e.R7$(15),e.Y8G("ngIf","bullet_points"===(null==(s=f.keynoteForm.get("contentType"))?null:s.value)),e.R7$(),e.Y8G("ngIf","quote"===(null==(g=f.keynoteForm.get("contentType"))?null:g.value)),e.R7$(),e.Y8G("ngIf",null==(h=f.keynoteForm.get("content"))?null:h.hasError("required")),e.R7$(9),e.Y8G("ngIf",null==(b=f.keynoteForm.get("hasVisualAid"))?null:b.value),e.R7$(11),e.Y8G("ngForOf",f.planets),e.R7$(7),e.Y8G("ngForOf",f.zodiacSigns),e.R7$(13),e.Y8G("ngForOf",f.keynoteTags.controls),e.R7$(),e.Y8G("ngIf",0===f.keynoteTags.length),e.R7$(4),e.Y8G("disabled",f.keynoteForm.invalid||f.submitting),e.R7$(),e.Y8G("ngIf",f.submitting),e.R7$(),e.SpI(" ",f.submitting?"Saving...":f.isEditMode?"Update Keynote":"Create Keynote"," ")}}let A=(()=>{class n{fb;keynoteService;lessonService;keynoteTagService;tagService;errorHandler;router;route;snackBar;keynoteForm;isEditMode=!1;keynoteId=null;loading=!1;submitting=!1;lessons=[];filteredLessons;allTags=[];planets=["Sun","Moon","Mars","Mercury","Jupiter","Venus","Saturn","Rahu","Ketu"];zodiacSigns=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"];constructor(t,i,r,s,g,h,b,M,f){this.fb=t,this.keynoteService=i,this.lessonService=r,this.keynoteTagService=s,this.tagService=g,this.errorHandler=h,this.router=b,this.route=M,this.snackBar=f,this.keynoteForm=this.createForm(),this.filteredLessons=this.keynoteForm.get("lessonSearch").valueChanges.pipe((0,$e.Z)(""),(0,Se.T)(ot=>this.filterLessons(ot)))}ngOnInit(){this.loadLessons(),this.loadAllTags(),this.route.params.subscribe(t=>{t.id&&(this.isEditMode=!0,this.keynoteId=+t.id,this.loadKeynote())})}get keynoteTags(){return this.keynoteForm.get("keynoteTags")}createForm(){return this.fb.group({lessonSearch:["",[p.k0.required]],lessonId:[""],title:["",[p.k0.required]],content:["",[p.k0.required]],contentType:["text",[p.k0.required]],orderSequence:[""],isImportant:[!1],hasVisualAid:[!1],visualAidUrl:[""],relatedPlanet:[""],relatedZodiac:[""],keynoteTags:this.fb.array([])})}loadLessons(){this.lessonService.getAllLessons().subscribe({next:t=>{this.lessons=t},error:t=>{console.error("Error loading lessons:",t),this.errorHandler.handleApiError(t,"loading lessons")}})}loadKeynote(){this.keynoteId&&(this.loading=!0,this.keynoteService.getKeynoteById(this.keynoteId).subscribe({next:t=>{const i=this.lessons.find(r=>r.lessonId===t.lessonId);this.keynoteForm.patchValue({...t,lessonSearch:i}),this.loadKeynoteTags(),this.loading=!1},error:t=>{console.error("Error loading keynote:",t),this.errorHandler.handleApiError(t,"loading keynote details"),this.loading=!1}}))}filterLessons(t){if(!t||"object"==typeof t)return this.lessons;const i=t.toLowerCase();return this.lessons.filter(r=>r.title.toLowerCase().includes(i)||r.topicTitle?.toLowerCase().includes(i))}displayLessonFn=t=>t?t.title:"";onVisualAidChange(t){t.checked||this.keynoteForm.patchValue({visualAidUrl:""})}onSubmit(){var t=this;if(this.keynoteForm.invalid)return;this.submitting=!0;const i=this.keynoteForm.value,r=i.lessonSearch;if(!r||!r.lessonId)return this.snackBar.open("Please select a valid lesson","Close",{duration:3e3}),void(this.submitting=!1);const s={lessonId:r.lessonId,title:i.title,content:i.content,contentType:i.contentType,orderSequence:i.orderSequence||void 0,isImportant:i.isImportant,hasVisualAid:i.hasVisualAid,visualAidUrl:i.hasVisualAid?i.visualAidUrl:null,relatedPlanet:i.relatedPlanet||null,relatedZodiac:i.relatedZodiac||null};var h;(this.isEditMode?this.keynoteService.updateKeynote(this.keynoteId,s):this.keynoteService.createKeynote(s)).subscribe({next:(h=(0,R.A)(function*(b){try{!t.isEditMode&&b.keynoteId&&(t.keynoteId=b.keynoteId),yield t.handleKeynoteTags(),t.errorHandler.showSuccess(t.isEditMode?`Keynote updated successfully with ${t.keynoteTags.length} tag(s)!`:`Keynote created successfully with ${t.keynoteTags.length} tag(s)!`),t.router.navigate(["/keynotes"])}catch(M){console.error("Error handling keynote tags:",M),t.errorHandler.showWarning(t.isEditMode?"Keynote updated but some tags failed to save":"Keynote created but some tags failed to save"),t.router.navigate(["/keynotes"])}}),function(M){return h.apply(this,arguments)}),error:h=>{console.error("Error saving keynote:",h),this.errorHandler.handleApiError(h,"saving keynote"),this.submitting=!1}})}handleKeynoteTags(){var t=this;return(0,R.A)(function*(){if(!t.keynoteId)throw new Error("Keynote ID is required to handle tags");const i=t.keynoteTags.value||[];for(let r=0;r<i.length;r++){const s=i[r];if(!s.tagId||!s.relevanceScore)continue;const g={keynoteId:t.keynoteId,tagId:Number(s.tagId),relevanceScore:Number(s.relevanceScore)};try{if(s.keynoteTagId)yield t.keynoteTagService.updateKeynoteTag(s.keynoteTagId,{...g,keynoteTagId:s.keynoteTagId}).toPromise();else{const h=yield t.keynoteTagService.createKeynoteTag(g).toPromise();h&&h.keynoteTagId&&t.keynoteTags.at(r).patchValue({keynoteTagId:h.keynoteTagId})}}catch(h){throw console.error(`Error handling keynote tag at index ${r}:`,h),h}}})()}loadAllTags(){this.tagService.getTags().subscribe({next:t=>{this.allTags=t},error:t=>{this.errorHandler.handleApiError(t,"loading tags")}})}loadKeynoteTags(){this.keynoteId&&this.keynoteTagService.getTagsByKeynoteId(this.keynoteId).subscribe({next:t=>{for(;0!==this.keynoteTags.length;)this.keynoteTags.removeAt(0);t.forEach(i=>{const r=this.fb.group({keynoteTagId:[i.keynoteTagId],tagId:[i.tagId,p.k0.required],relevanceScore:[i.relevanceScore||5]});this.keynoteTags.push(r)})},error:t=>{this.errorHandler.handleApiError(t,"loading keynote tags")}})}addTag(){const t=this.fb.group({keynoteTagId:[null],tagId:[null,p.k0.required],relevanceScore:[5]});this.keynoteTags.push(t)}saveTag(t){var i=this;return(0,R.A)(function*(){const r=i.keynoteTags.at(t);if(!r.valid)return void i.snackBar.open("Please select a tag and enter a valid relevance score.","Close",{duration:3e3});if(!i.keynoteId)return void i.snackBar.open("Keynote must be saved before adding tags.","Close",{duration:3e3});const s=r.value,g={keynoteId:i.keynoteId,tagId:Number(s.tagId),relevanceScore:Number(s.relevanceScore)};try{if(s.keynoteTagId)yield i.keynoteTagService.updateKeynoteTag(s.keynoteTagId,{...g,keynoteTagId:s.keynoteTagId}).toPromise(),i.errorHandler.showSuccess("Tag updated successfully.");else{const h=yield i.keynoteTagService.createKeynoteTag(g).toPromise();h&&h.keynoteTagId&&r.patchValue({keynoteTagId:h.keynoteTagId}),i.errorHandler.showSuccess("Tag added successfully.")}i.loadKeynoteTags()}catch(h){i.errorHandler.handleApiError(h,"saving tag")}})()}removeTag(t){var i=this;return(0,R.A)(function*(){const s=i.keynoteTags.at(t).value;if(s.keynoteTagId)try{yield i.keynoteTagService.deleteKeynoteTag(s.keynoteTagId).toPromise(),i.errorHandler.showSuccess("Tag deleted successfully."),i.loadKeynoteTags()}catch(g){i.errorHandler.handleApiError(g,"deleting tag")}else i.keynoteTags.removeAt(t)})()}goBack(){this.router.navigate(["/keynotes"])}static \u0275fac=function(i){return new(i||n)(e.rXU(p.ok),e.rXU(m.B),e.rXU(E.u),e.rXU(we.Z),e.rXU(De.w),e.rXU(Ae),e.rXU(k.Ix),e.rXU(k.nX),e.rXU(C.UG))};static \u0275cmp=e.VBU({type:n,selectors:[["app-add-keynote"]],standalone:!0,features:[e.aNF],decls:15,vars:4,consts:[["lessonAuto","matAutocomplete"],[1,"container"],[1,"header"],["mat-button","",3,"click"],["class","loading-container",4,"ngIf"],["class","keynote-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-container"],[1,"keynote-form",3,"ngSubmit","formGroup"],[1,"section"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","lessonSearch","placeholder","Search and select lesson",3,"matAutocomplete"],[3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","number","formControlName","orderSequence","placeholder","Auto-assigned if empty"],["matInput","","formControlName","title","placeholder","Enter keynote title"],["formControlName","contentType"],["value","text"],["value","bullet_points"],["value","quote"],["value","example"],[1,"checkbox-group"],["formControlName","isImportant"],["matInput","","formControlName","content","rows","6","placeholder","Enter keynote content"],["formControlName","hasVisualAid",3,"change"],["appearance","outline",4,"ngIf"],["formControlName","relatedPlanet"],["value",""],["formControlName","relatedZodiac"],[1,"section-header"],[1,"section-title"],["mat-raised-button","","color","accent","type","button",1,"add-tag-btn",3,"click"],["formArrayName","keynoteTags",1,"tags-container"],["class","tag-item",3,"formGroupName",4,"ngFor","ngForOf"],["class","no-tags",4,"ngIf"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],[3,"value"],[1,"lesson-option"],[1,"lesson-title"],[1,"topic-title"],["matInput","","formControlName","visualAidUrl","placeholder","Enter image/media URL"],[1,"tag-item",3,"formGroupName"],["appearance","outline",1,"full-width"],["formControlName","tagId","required",""],["matInput","","formControlName","relevanceScore","type","number","min","1","max","10"],[1,"tag-actions"],["mat-icon-button","","color","primary","type","button","matTooltip","Save this tag",1,"save-tag-btn",3,"click"],["mat-button","","color","warn","type","button","matTooltip","Remove this tag",3,"click"],[1,"no-tags"],["diameter","20"]],template:function(i,r){1&i&&(e.j41(0,"div",1)(1,"div",2)(2,"h1"),e.EFF(3),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return r.goBack()}),e.j41(5,"mat-icon"),e.EFF(6,"arrow_back"),e.k0s(),e.EFF(7," Back to Keynotes "),e.k0s()(),e.j41(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),e.EFF(11),e.k0s()(),e.j41(12,"mat-card-content"),e.DNE(13,Le,2,0,"div",4)(14,tt,101,20,"form",5),e.k0s()()()),2&i&&(e.R7$(3),e.JRh(r.isEditMode?"Edit Keynote":"Add New Keynote"),e.R7$(8),e.JRh(r.isEditMode?"Edit Keynote Details":"Keynote Information"),e.R7$(2),e.Y8G("ngIf",r.loading),e.R7$(),e.Y8G("ngIf",!r.loading))},dependencies:[a.MD,a.Sq,a.bT,a.Jj,p.X1,p.qT,p.me,p.Q0,p.BC,p.cb,p.YS,p.VZ,p.zX,p.j4,p.JD,p.$R,p.v8,d.Hu,d.RN,d.m2,d.MM,d.dh,u.RG,u.rl,u.nJ,u.MV,u.TL,T.fS,T.fg,x.Hl,x.$z,x.iY,I.Ve,I.VO,w.wT,D.g7,D.So,c.m_,c.An,C._T,y.D6,y.LG,S.jL,S.$3,S.pN,$.w,$.q,j.uc,j.oV],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:900px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.keynote-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.section[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:20px;background-color:#fafafa}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#333;font-size:16px;font-weight:500}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}.checkbox-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:8px}.checkbox-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.lesson-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:8px 0}.lesson-title[_ngcontent-%COMP%]{font-weight:500;color:#333}.topic-title[_ngcontent-%COMP%]{font-size:12px;color:#666}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0;color:#333;font-size:16px;font-weight:500}.add-tag-btn[_ngcontent-%COMP%]{min-width:auto}.tags-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.tag-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr auto;gap:12px;align-items:start;padding:16px;border:1px solid #e0e0e0;border-radius:8px;background-color:#fff}.tag-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.save-tag-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.no-tags[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#666;border:2px dashed #e0e0e0;border-radius:8px;background-color:#f9f9f9}.no-tags[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:8px}.no-tags[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();const nt=[{path:"",component:_e},{path:"add",component:A},{path:"edit/:id",component:A},{path:":id",component:Re}]},2888:(K,F,l)=>{l.d(F,{B:()=>v});var a=l(5312),k=l(4438),p=l(1626);let v=(()=>{class d{http;apiUrl=`${a.c.apiUrl}/secure/lesson-keynotes`;constructor(c){this.http=c}getAllKeynotes(){return this.http.post(`${this.apiUrl}/get-all`,{})}getKeynoteById(c){return this.http.post(`${this.apiUrl}/get-by-id`,{id:c})}createKeynote(c){return this.http.post(this.apiUrl,c)}updateKeynote(c,u){return this.http.put(`${this.apiUrl}/${c}`,u)}deleteKeynote(c){return this.http.delete(`${this.apiUrl}/${c}`)}getKeynotesByLessonId(c){return this.http.post(`${this.apiUrl}/get-by-lesson`,{lessonId:c})}getImportantKeynotesByLessonId(c){return this.http.post(`${this.apiUrl}/get-important-by-lesson`,{lessonId:c})}getKeynotesByContentType(c,u){return this.http.post(`${this.apiUrl}/get-by-content-type`,{lessonId:c,contentType:u})}getKeynotesWithVisualAids(c){return this.http.post(`${this.apiUrl}/get-visual-aids-by-lesson`,{lessonId:c})}getKeynotesByPlanet(c){return this.http.post(`${this.apiUrl}/get-by-planet`,{planet:c})}getKeynotesByZodiac(c){return this.http.post(`${this.apiUrl}/get-by-zodiac`,{zodiac:c})}searchKeynotes(c){return this.http.post(`${this.apiUrl}/search`,{query:c})}reorderKeynotes(c,u){return this.http.put(`${this.apiUrl}/lesson/${c}/reorder`,u)}getKeynotesPaginated(c,u,T,I,P,C){return this.http.post(`${this.apiUrl}/get-paginated`,{page:c,size:u,lessonId:T,contentType:I,importantOnly:P,search:C})}static \u0275fac=function(u){return new(u||d)(k.KVO(p.Qq))};static \u0275prov=k.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},3822:(K,F,l)=>{l.d(F,{u:()=>v});var a=l(5312),k=l(4438),p=l(1626);let v=(()=>{class d{http;apiUrl=`${a.c.apiUrl}/secure/lessons`;constructor(c){this.http=c}getAllLessons(){return this.http.post(`${this.apiUrl}/get-all`,{})}getLessonsByTopicId(c){return this.http.post(`${this.apiUrl}/get-by-topic`,{id:c})}getLessonById(c){return this.http.post(`${this.apiUrl}/get-by-id`,{id:c})}getLessonDetails(c){return this.http.post(`${this.apiUrl}/get-details`,{id:c})}createLesson(c){return this.http.post(this.apiUrl,c)}updateLesson(c,u){return this.http.put(`${this.apiUrl}/${c}`,u)}deleteLesson(c){return this.http.delete(`${this.apiUrl}/${c}`)}static \u0275fac=function(u){return new(u||d)(k.KVO(p.Qq))};static \u0275prov=k.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},6538:(K,F,l)=>{l.d(F,{w:()=>v});var a=l(5312),k=l(4438),p=l(1626);let v=(()=>{class d{http;apiUrl=`${a.c.apiUrl}/secure/tags`;constructor(c){this.http=c}getTags(){return this.http.post(`${this.apiUrl}/get-all`,{})}getTagById(c){return this.http.post(`${this.apiUrl}/get-by-id`,{id:c})}createTag(c){return this.http.post(this.apiUrl,c)}updateTag(c,u){return this.http.put(`${this.apiUrl}/${c}`,u)}deleteTag(c){return this.http.delete(`${this.apiUrl}/${c}`)}static \u0275fac=function(u){return new(u||d)(k.KVO(p.Qq))};static \u0275prov=k.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},9183:(K,F,l)=>{l.d(F,{D6:()=>C,LG:()=>I});var a=l(4438),k=l(177),p=l(6600);const v=["determinateSpinner"];function d(y,j){if(1&y&&(a.qSk(),a.j41(0,"svg",11),a.nrm(1,"circle",12),a.k0s()),2&y){const _=a.XpG();a.BMQ("viewBox",_._viewBox()),a.R7$(),a.xc7("stroke-dasharray",_._strokeCircumference(),"px")("stroke-dashoffset",_._strokeCircumference()/2,"px")("stroke-width",_._circleStrokeWidth(),"%"),a.BMQ("r",_._circleRadius())}}const x=new a.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function c(){return{diameter:u}}}),u=100;let I=(()=>{class y{get color(){return this._color||this._defaultColor}set color(_){this._color=_}constructor(_,e,m){this._elementRef=_,this._defaultColor="primary",this._value=0,this._diameter=u,this._noopAnimations="NoopAnimations"===e&&!!m&&!m._forceAnimations,this.mode="mat-spinner"===_.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",m&&(m.color&&(this.color=this._defaultColor=m.color),m.diameter&&(this.diameter=m.diameter),m.strokeWidth&&(this.strokeWidth=m.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(_){this._value=Math.max(0,Math.min(100,_||0))}get diameter(){return this._diameter}set diameter(_){this._diameter=_||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(_){this._strokeWidth=_||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const _=2*this._circleRadius()+this.strokeWidth;return`0 0 ${_} ${_}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(e){return new(e||y)(a.rXU(a.aKT),a.rXU(a.bc$,8),a.rXU(x))}}static{this.\u0275cmp=a.VBU({type:y,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,m){if(1&e&&a.GBs(v,5),2&e){let E;a.mGM(E=a.lsd())&&(m._determinateCircle=E.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(e,m){2&e&&(a.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===m.mode?m.value:null)("mode",m.mode),a.HbH("mat-"+m.color),a.xc7("width",m.diameter,"px")("height",m.diameter,"px")("--mdc-circular-progress-size",m.diameter+"px")("--mdc-circular-progress-active-indicator-width",m.diameter+"px"),a.AVh("_mat-animation-noopable",m._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===m.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",a.Udg],diameter:[2,"diameter","diameter",a.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",a.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[a.GFd,a.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,m){if(1&e&&(a.DNE(0,d,2,8,"ng-template",null,0,a.C5r),a.j41(2,"div",2,1),a.qSk(),a.j41(4,"svg",3),a.nrm(5,"circle",4),a.k0s()(),a.joV(),a.j41(6,"div",5)(7,"div",6)(8,"div",7),a.eu8(9,8),a.k0s(),a.j41(10,"div",9),a.eu8(11,8),a.k0s(),a.j41(12,"div",10),a.eu8(13,8),a.k0s()()()),2&e){const E=a.sdS(1);a.R7$(4),a.BMQ("viewBox",m._viewBox()),a.R7$(),a.xc7("stroke-dasharray",m._strokeCircumference(),"px")("stroke-dashoffset",m._strokeDashOffset(),"px")("stroke-width",m._circleStrokeWidth(),"%"),a.BMQ("r",m._circleRadius()),a.R7$(4),a.Y8G("ngTemplateOutlet",E),a.R7$(2),a.Y8G("ngTemplateOutlet",E),a.R7$(2),a.Y8G("ngTemplateOutlet",E)}},dependencies:[k.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return y})(),C=(()=>{class y{static{this.\u0275fac=function(e){return new(e||y)}}static{this.\u0275mod=a.$C({type:y})}static{this.\u0275inj=a.G2t({imports:[k.MD,p.yE]})}}return y})()}}]);