{"version":3,"file":"src_app_pages_courses_customer-course-view_customer-course-view_component_ts.js","mappings":"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","sources":["./src/app/pages/courses/customer-course-view/customer-course-view.component.ts","./src/app/pages/courses/lesson-detail-modal/lesson-detail-modal.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule, MatDialog } from '@angular/material/dialog';\r\nimport { CategoryService, Category } from '../../../service/category.service';\r\nimport { CourseService, Course } from '../../../service/course.service';\r\nimport { AuthService } from '../../../service/auth.service';\r\nimport { TopicService, LessonService, Topic as TopicType, Lesson as LessonType } from '../../../service/lesson.service';\r\nimport { LessonDetailModalComponent } from '../lesson-detail-modal/lesson-detail-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-customer-course-view',\r\n  standalone: true,  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatCardModule,\r\n    MatChipsModule,\r\n    MatIconModule,\r\n    MatProgressSpinnerModule,\r\n    MatButtonModule,\r\n    MatDialogModule\r\n  ],\r\n  template: `\r\n    <div class=\"modern-customer-view\">      <!-- Enhanced Hero Section with Gradient and Animated Elements (only show when not viewing specific course) -->\r\n      <div class=\"hero-section\" *ngIf=\"!isViewingSpecificCourse\">\r\n        <div class=\"hero-overlay\"></div>\r\n        <div class=\"hero-particles\">\r\n          <div class=\"particle\" *ngFor=\"let particle of [1,2,3,4,5,6,7,8]\"></div>\r\n        </div>\r\n        <div class=\"hero-content\">\r\n          <div class=\"hero-icon-container\">\r\n            <mat-icon class=\"hero-icon\">auto_stories</mat-icon>\r\n          </div>\r\n          <h1 class=\"hero-title\">\r\n            <span class=\"title-line-1\">Discover</span>\r\n            <span class=\"title-line-2\">Vedic Astrology</span>\r\n          </h1>\r\n          <p class=\"hero-subtitle\" *ngIf=\"!selectedCourse\">\r\n            <mat-icon>star</mat-icon>\r\n            Explore ancient wisdom through our comprehensive courses\r\n          </p>\r\n          <p class=\"hero-subtitle course-specific\" *ngIf=\"selectedCourse\">\r\n            <mat-icon>school</mat-icon>\r\n            Master the ancient wisdom of <strong>{{selectedCourse.title}}</strong>\r\n          </p>\r\n          <div class=\"hero-stats\" *ngIf=\"selectedCourse\">\r\n            <div class=\"hero-stat\">\r\n              <mat-icon>menu_book</mat-icon>\r\n              <span>{{getTotalLessonsCount()}} Lessons</span>\r\n            </div>\r\n            <div class=\"hero-stat\">\r\n              <mat-icon>schedule</mat-icon>\r\n              <span>{{getTotalDuration()}} min</span>\r\n            </div>\r\n            <div class=\"hero-stat\">\r\n              <mat-icon>star</mat-icon>\r\n              <span>{{selectedCourse.difficultyLevel | titlecase}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"hero-wave\">\r\n          <svg viewBox=\"0 0 1200 120\" preserveAspectRatio=\"none\">\r\n            <path d=\"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z\"></path>\r\n          </svg>\r\n        </div>\r\n      </div><!-- Filter Section (only show when not viewing specific course) -->\r\n      <div class=\"filter-section\" *ngIf=\"!isViewingSpecificCourse\">\r\n        <div class=\"filter-container\">\r\n          <div class=\"filter-group\">\r\n            <mat-form-field appearance=\"fill\" class=\"modern-select\">\r\n              <mat-label>Choose Category</mat-label>\r\n              <mat-select [(ngModel)]=\"selectedCategoryId\" (selectionChange)=\"onCategoryChange()\">\r\n                <mat-option *ngFor=\"let cat of categories\" [value]=\"cat.categoryId\">{{cat.name}}</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\" class=\"modern-select\">\r\n              <mat-label>Choose Course</mat-label>\r\n              <mat-select [(ngModel)]=\"selectedCourseId\" (selectionChange)=\"onCourseChange()\" [disabled]=\"!selectedCategoryId\">\r\n                <mat-option *ngFor=\"let course of filteredCourses\" [value]=\"course.courseId\">{{course.title}}</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Loading -->\r\n      <div *ngIf=\"loading\" class=\"loading-section\">\r\n        <mat-progress-spinner mode=\"indeterminate\" color=\"primary\" diameter=\"60\"></mat-progress-spinner>\r\n        <p>Loading course content...</p>\r\n      </div>      <!-- Course Content -->\r\n      <div *ngIf=\"selectedCourse && !loading\" class=\"content-section\">\r\n        <!-- Course Header (Similar to topic-detail) -->\r\n        <div class=\"course-header\" *ngIf=\"isViewingSpecificCourse\">\r\n          <button mat-icon-button (click)=\"goBackToCourses()\" class=\"back-button\">\r\n            <mat-icon>arrow_back</mat-icon>\r\n          </button>\r\n          <div class=\"course-info\">\r\n            <div class=\"course-number\">{{ selectedCourse.courseId }}</div>\r\n            <div class=\"course-text\">\r\n              <h1 class=\"course-title\">{{ selectedCourse.title }}</h1>\r\n              <p class=\"course-description\">{{ selectedCourse.description }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Course Stats -->\r\n        <div class=\"course-stats\" *ngIf=\"isViewingSpecificCourse\">\r\n          <div class=\"stat-item\">\r\n            <mat-icon>menu_book</mat-icon>\r\n            <span>{{ getTotalLessonsCount() }} Lessons</span>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <mat-icon>schedule</mat-icon>\r\n            <span>{{ getTotalDuration() }} min</span>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <mat-icon>people</mat-icon>\r\n            <span>{{ topics.length }} Topics</span>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <mat-icon>star</mat-icon>\r\n            <span>{{ selectedCourse.difficultyLevel | titlecase }}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Enhanced Course Heading with Decorative Elements (for non-specific course view) -->\r\n        <div class=\"course-heading-section\" *ngIf=\"!isViewingSpecificCourse\">\r\n          <div class=\"course-heading-bg\"></div>\r\n          <div class=\"course-heading-content\">\r\n            <!-- Enhanced Course Header with Image and Title -->\r\n            <div class=\"course-header-with-image\">\r\n              <div class=\"course-image-container\" *ngIf=\"selectedCourse.thumbnailUrl\">\r\n                <div class=\"image-frame\">\r\n                  <img [src]=\"selectedCourse.thumbnailUrl\" [alt]=\"selectedCourse.title\" class=\"course-image-integrated\">\r\n                  <div class=\"image-overlay\">\r\n                    <mat-icon>play_circle_filled</mat-icon>\r\n                  </div>\r\n                </div>\r\n                <div class=\"image-badges\">\r\n                  <span class=\"badge difficulty-badge\" [class]=\"selectedCourse.difficultyLevel && selectedCourse.difficultyLevel.toLowerCase()\">\r\n                    <mat-icon>trending_up</mat-icon>\r\n                    {{selectedCourse.difficultyLevel | titlecase}}\r\n                  </span>\r\n                  <span class=\"badge price-badge\" *ngIf=\"selectedCourse && selectedCourse.price && selectedCourse.price > 0; else freeBadge\">\r\n                    <mat-icon>currency_rupee</mat-icon>\r\n                    ₹{{selectedCourse.price}}\r\n                  </span>\r\n                  <ng-template #freeBadge>\r\n                    <span class=\"badge free-badge\">\r\n                      <mat-icon>card_giftcard</mat-icon>\r\n                      Free\r\n                    </span>\r\n                  </ng-template>\r\n                </div>\r\n              </div>\r\n              <div class=\"course-title-info\">\r\n                <div class=\"course-breadcrumb\">\r\n                  <mat-icon class=\"breadcrumb-icon\">folder</mat-icon>\r\n                  <span class=\"breadcrumb-item\">{{getCategoryName(selectedCourse.categoryId)}}</span>\r\n                  <mat-icon class=\"breadcrumb-separator\">chevron_right</mat-icon>\r\n                  <span class=\"breadcrumb-item current\">{{selectedCourse.title}}</span>\r\n                </div>\r\n                <h1 class=\"course-main-title\">\r\n                  {{selectedCourse.title}}\r\n                  <div class=\"title-decoration\"></div>\r\n                </h1>\r\n                \r\n                <!-- Enhanced Course Stats -->\r\n                <div class=\"course-stats-enhanced\">\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-icon\">\r\n                      <mat-icon>menu_book</mat-icon>\r\n                    </div>\r\n                    <div class=\"stat-info\">\r\n                      <span class=\"stat-number\">{{getTotalLessonsCount()}}</span>\r\n                      <span class=\"stat-label\">Lessons</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-icon\">\r\n                      <mat-icon>schedule</mat-icon>\r\n                    </div>\r\n                    <div class=\"stat-info\">\r\n                      <span class=\"stat-number\">{{getTotalDuration()}}</span>\r\n                      <span class=\"stat-label\">Minutes</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-icon\">\r\n                      <mat-icon>people</mat-icon>\r\n                    </div>\r\n                    <div class=\"stat-info\">\r\n                      <span class=\"stat-number\">{{topics.length}}</span>\r\n                      <span class=\"stat-label\">Topics</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-icon\">\r\n                      <mat-icon>verified</mat-icon>\r\n                    </div>\r\n                    <div class=\"stat-info\">\r\n                      <span class=\"stat-number\">{{selectedCourse.difficultyLevel | titlecase}}</span>\r\n                      <span class=\"stat-label\">Level</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Enhanced Course Description -->\r\n            <div class=\"course-description-section\">\r\n              <div class=\"description-header\">\r\n                <mat-icon>description</mat-icon>\r\n                <h3>About This Course</h3>\r\n              </div>\r\n              <div class=\"course-description\" [innerHTML]=\"selectedCourse.description\"></div>\r\n              <div class=\"description-features\">\r\n                <div class=\"feature-item\">\r\n                  <mat-icon>check_circle</mat-icon>\r\n                  <span>Comprehensive curriculum</span>\r\n                </div>\r\n                <div class=\"feature-item\">\r\n                  <mat-icon>check_circle</mat-icon>\r\n                  <span>Ancient wisdom insights</span>\r\n                </div>\r\n                <div class=\"feature-item\">\r\n                  <mat-icon>check_circle</mat-icon>\r\n                  <span>Practical applications</span>\r\n                </div>\r\n                <div class=\"feature-item\">\r\n                  <mat-icon>check_circle</mat-icon>\r\n                  <span>Expert guidance</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Topics & Lessons -->\r\n        <div class=\"topics-container\">\r\n          <!-- Topics Header -->\r\n          <div class=\"topics-header\" *ngIf=\"topics.length > 0\">\r\n            <h3 class=\"topics-title\">Course Topics</h3>\r\n          </div>\r\n\r\n          <!-- Topics List (Similar to topic-detail lessons structure) -->\r\n          <div *ngFor=\"let topic of topics; let i = index\" class=\"topic-card\">\r\n            <div class=\"topic-header\">\r\n              <div class=\"topic-number\">{{ i + 1 }}</div>\r\n              <div class=\"topic-info\">\r\n                <h3 class=\"topic-title\">{{ topic.title }}</h3>\r\n                <div class=\"topic-meta\">\r\n                  <span class=\"topic-lessons\">\r\n                    <mat-icon>menu_book</mat-icon>\r\n                    {{ topic.lessons.length }} lessons\r\n                  </span>\r\n                  <span class=\"topic-duration\" *ngIf=\"getTopicDuration(topic) > 0\">\r\n                    <mat-icon>schedule</mat-icon>\r\n                    {{ getTopicDuration(topic) }} min\r\n                  </span>\r\n                  <span class=\"topic-free\">\r\n                    <mat-icon>card_giftcard</mat-icon>\r\n                    {{ getTopicFreeCount(topic) }} Free\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div class=\"topic-actions\">\r\n                <button mat-raised-button color=\"primary\" (click)=\"viewTopicDetails(i, $event)\" class=\"view-topic-btn\">\r\n                  <mat-icon>visibility</mat-icon>\r\n                  View Topic\r\n                </button>\r\n                <button mat-icon-button (click)=\"toggleTopic(i)\" class=\"expand-button\" [class.expanded]=\"inlineExpandedTopics.has(i)\" title=\"Toggle lessons preview\">\r\n                  <mat-icon>{{ inlineExpandedTopics.has(i) ? 'expand_less' : 'expand_more' }}</mat-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Expanded Topic Content - Lessons List -->\r\n            <div class=\"lessons-list\" *ngIf=\"inlineExpandedTopics.has(i)\">\r\n              <div class=\"lessons-header\">\r\n                <h4>Lessons in this Topic</h4>\r\n              </div>\r\n              <div *ngFor=\"let lesson of topic.lessons; let j = index\" class=\"lesson-item\">\r\n                <div class=\"lesson-number\">{{ j + 1 }}</div>\r\n                <div class=\"lesson-info\">\r\n                  <h5 class=\"lesson-title\">{{ lesson.title }}</h5>\r\n                  <div class=\"lesson-meta\">\r\n                    <span class=\"lesson-duration\" *ngIf=\"lesson.duration\">\r\n                      <mat-icon>schedule</mat-icon>\r\n                      {{ lesson.duration }} min\r\n                    </span>\r\n                    <span class=\"lesson-status\" [class]=\"lesson.isFree ? 'free' : 'premium'\">\r\n                      {{ lesson.isFree ? 'Free' : 'Premium' }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"lesson-actions\">\r\n                  <button mat-raised-button color=\"primary\" (click)=\"viewLessonDetails(lesson.lessonId, topic.topicId)\" class=\"view-lesson-btn\">\r\n                    <mat-icon>play_arrow</mat-icon>\r\n                    View Lesson\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- No Data -->\r\n      <div *ngIf=\"selectedCourseId && !selectedCourse && !loading\" class=\"no-data-modern\">\r\n        <mat-icon>search_off</mat-icon>\r\n        <h3>No course found</h3>\r\n        <p>Please try selecting a different course.</p>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .modern-customer-view {\r\n      min-height: 100vh;\r\n      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n    }\r\n\r\n    /* Enhanced Hero Section */\r\n    .hero-section {\r\n      position: relative;\r\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n      color: white;\r\n      padding: 60px 20px 80px;\r\n      text-align: center;\r\n      overflow: hidden;\r\n      min-height: 40vh;\r\n    }\r\n    \r\n    .hero-overlay {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.1) 0%, transparent 60%),\r\n                  radial-gradient(circle at 70% 80%, rgba(255,255,255,0.05) 0%, transparent 60%);\r\n      pointer-events: none;\r\n    }\r\n    \r\n    .hero-particles {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      pointer-events: none;\r\n    }\r\n    \r\n    .particle {\r\n      position: absolute;\r\n      width: 4px;\r\n      height: 4px;\r\n      background: rgba(255,255,255,0.6);\r\n      border-radius: 50%;\r\n      animation: float 6s ease-in-out infinite;\r\n    }\r\n    \r\n    .particle:nth-child(1) { left: 10%; animation-delay: -0.5s; }\r\n    .particle:nth-child(2) { left: 20%; animation-delay: -1s; }\r\n    .particle:nth-child(3) { left: 30%; animation-delay: -1.5s; }\r\n    .particle:nth-child(4) { left: 40%; animation-delay: -2s; }\r\n    .particle:nth-child(5) { left: 60%; animation-delay: -2.5s; }\r\n    .particle:nth-child(6) { left: 70%; animation-delay: -3s; }\r\n    .particle:nth-child(7) { left: 80%; animation-delay: -3.5s; }\r\n    .particle:nth-child(8) { left: 90%; animation-delay: -4s; }\r\n    \r\n    @keyframes float {\r\n      0%, 100% { transform: translateY(0px) scale(1); opacity: 0.7; }\r\n      50% { transform: translateY(-20px) scale(1.1); opacity: 1; }\r\n    }\r\n    \r\n    .hero-content {\r\n      position: relative;\r\n      z-index: 2;\r\n      max-width: 900px;\r\n      margin: 0 auto;\r\n    }\r\n    \r\n    .hero-icon-container {\r\n      margin-bottom: 20px;\r\n    }\r\n    \r\n    .hero-icon {\r\n      font-size: 48px;\r\n      width: 48px;\r\n      height: 48px;\r\n      color: #ffd700;\r\n      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));\r\n      animation: pulse 2s ease-in-out infinite;\r\n    }\r\n    \r\n    @keyframes pulse {\r\n      0%, 100% { transform: scale(1); }\r\n      50% { transform: scale(1.05); }\r\n    }\r\n    \r\n    .hero-title {\r\n      font-size: 2.8rem;\r\n      font-weight: 800;\r\n      margin-bottom: 20px;\r\n      text-shadow: 0 4px 8px rgba(0,0,0,0.3);\r\n      line-height: 1.1;\r\n    }\r\n    \r\n    .title-line-1 {\r\n      display: block;\r\n      background: linear-gradient(45deg, #fff, #ffd700);\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      background-clip: text;\r\n    }\r\n    \r\n    .title-line-2 {\r\n      display: block;\r\n      background: linear-gradient(45deg, #ffd700, #fff);\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      background-clip: text;\r\n    }\r\n    \r\n    .hero-subtitle {\r\n      font-size: 1.1rem;\r\n      opacity: 0.95;\r\n      font-weight: 300;\r\n      margin-bottom: 25px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8px;\r\n    }\r\n    \r\n    .hero-subtitle.course-specific {\r\n      font-size: 1.2rem;\r\n      font-weight: 400;\r\n    }\r\n    \r\n    .hero-stats {\r\n      display: flex;\r\n      justify-content: center;\r\n      gap: 30px;\r\n      margin-top: 30px;\r\n      flex-wrap: wrap;\r\n    }\r\n    \r\n    .hero-stat {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      background: rgba(255,255,255,0.1);\r\n      padding: 10px 16px;\r\n      border-radius: 20px;\r\n      backdrop-filter: blur(10px);\r\n      border: 1px solid rgba(255,255,255,0.2);\r\n    }\r\n    \r\n    .hero-wave {\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 40px;\r\n      overflow: hidden;\r\n    }\r\n    \r\n    .hero-wave svg {\r\n      position: relative;\r\n      display: block;\r\n      width: calc(100% + 1.3px);\r\n      height: 40px;\r\n    }\r\n    \r\n    .hero-wave path {\r\n      fill: #f5f7fa;\r\n    }\r\n\r\n    /* Filter Section */\r\n    .filter-section {\r\n      background: white;\r\n      padding: 40px 20px;\r\n      box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n    }\r\n    \r\n    .filter-container {\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n    }\r\n    \r\n    .filter-group {\r\n      display: flex;\r\n      gap: 20px;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n    }\r\n    \r\n    .modern-select {\r\n      min-width: 250px;\r\n    }\r\n\r\n    /* Loading Section */\r\n    .loading-section {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 80px 20px;\r\n      color: #666;\r\n    }\r\n    \r\n    .loading-section p {\r\n      margin-top: 20px;\r\n      font-size: 1.1rem;\r\n    }    /* Content Section */\r\n    .content-section {\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n      padding: 20px 20px 40px;\r\n    }\r\n\r\n    /* Course Header (Similar to topic-detail) */\r\n    .course-header {\r\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n      color: white;\r\n      padding: 30px;\r\n      border-radius: 16px;\r\n      margin: 20px 0 30px 0;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .course-header::before {\r\n      content: '';\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);\r\n      pointer-events: none;\r\n    }\r\n\r\n    .course-header .back-button {\r\n      color: white !important;\r\n      background: rgba(255, 255, 255, 0.2) !important;\r\n      z-index: 2;\r\n      border-radius: 50% !important;\r\n      padding: 8px !important;\r\n      min-width: 40px !important;\r\n      height: 40px !important;\r\n      box-shadow: none !important;\r\n    }\r\n\r\n    .course-header .back-button:hover {\r\n      background: rgba(255, 255, 255, 0.3) !important;\r\n      transform: none !important;\r\n    }\r\n\r\n    .course-info {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      flex: 1;\r\n      z-index: 2;\r\n    }\r\n\r\n    .course-number {\r\n      width: 60px;\r\n      height: 60px;\r\n      background: rgba(255, 255, 255, 0.2);\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-size: 1.5rem;\r\n      font-weight: 700;\r\n      flex-shrink: 0;\r\n    }\r\n\r\n    .course-text {\r\n      flex: 1;\r\n      min-width: 0;\r\n    }\r\n\r\n    .course-header .course-title {\r\n      font-size: 2.5rem;\r\n      font-weight: 700;\r\n      margin: 0 0 8px 0;\r\n      text-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n      color: white;\r\n    }\r\n\r\n    .course-header .course-description {\r\n      font-size: 1.1rem;\r\n      margin: 0;\r\n      opacity: 0.9;\r\n      line-height: 1.5;\r\n      color: white;\r\n    }\r\n\r\n    /* Course Stats (Similar to topic-detail) */\r\n    .course-stats {\r\n      background: white;\r\n      padding: 20px;\r\n      border-radius: 12px;\r\n      margin-bottom: 30px;\r\n      display: flex;\r\n      gap: 30px;\r\n      flex-wrap: wrap;\r\n      box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n    }\r\n\r\n    .course-stats .stat-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      color: #555;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .course-stats .stat-item mat-icon {\r\n      color: #667eea;\r\n      font-size: 20px;\r\n    }\r\n\r\n    /* Enhanced Course Heading */\r\n    .course-heading-section {\r\n      position: relative;\r\n      background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\r\n      border-radius: 20px;\r\n      padding: 50px;\r\n      margin: -60px 20px 40px;\r\n      box-shadow: 0 20px 60px rgba(0,0,0,0.1);\r\n      border: 1px solid rgba(255,255,255,0.8);\r\n      backdrop-filter: blur(10px);\r\n      overflow: hidden;\r\n    }\r\n    \r\n    .course-heading-bg {\r\n      position: absolute;\r\n      top: 0;\r\n      right: 0;\r\n      width: 300px;\r\n      height: 300px;\r\n      background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);\r\n      border-radius: 50%;\r\n      transform: translate(100px, -100px);\r\n      pointer-events: none;\r\n    }\r\n    \r\n    .course-header-with-image {\r\n      display: flex;\r\n      gap: 40px;\r\n      align-items: flex-start;\r\n      margin-bottom: 40px;\r\n      position: relative;\r\n      z-index: 2;\r\n    }\r\n    \r\n    .course-image-container {\r\n      flex-shrink: 0;\r\n      width: 280px;\r\n      position: relative;\r\n    }\r\n    \r\n    .image-frame {\r\n      position: relative;\r\n      border-radius: 20px;\r\n      overflow: hidden;\r\n      box-shadow: 0 15px 35px rgba(0,0,0,0.15);\r\n      transition: transform 0.3s ease;\r\n    }\r\n    \r\n    .image-frame:hover {\r\n      transform: translateY(-5px);\r\n    }\r\n    \r\n    .course-image-integrated {\r\n      width: 100%;\r\n      height: 200px;\r\n      object-fit: cover;\r\n      transition: transform 0.3s ease;\r\n    }\r\n    \r\n    .image-overlay {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: rgba(0,0,0,0.4);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      opacity: 0;\r\n      transition: opacity 0.3s ease;\r\n    }\r\n    \r\n    .image-frame:hover .image-overlay {\r\n      opacity: 1;\r\n    }\r\n    \r\n    .image-overlay mat-icon {\r\n      color: white;\r\n      font-size: 48px;\r\n      width: 48px;\r\n      height: 48px;\r\n    }\r\n    \r\n    .image-badges {\r\n      position: absolute;\r\n      top: 15px;\r\n      left: 15px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 8px;\r\n    }\r\n    \r\n    .badge {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 6px;\r\n      padding: 6px 12px;\r\n      border-radius: 20px;\r\n      font-size: 0.85rem;\r\n      font-weight: 600;\r\n      backdrop-filter: blur(10px);\r\n      border: 1px solid rgba(255,255,255,0.3);\r\n    }\r\n    \r\n    .difficulty-badge.beginner {\r\n      background: rgba(76, 175, 80, 0.9);\r\n      color: white;\r\n    }\r\n    \r\n    .difficulty-badge.intermediate {\r\n      background: rgba(255, 152, 0, 0.9);\r\n      color: white;\r\n    }\r\n    \r\n    .difficulty-badge.advanced {\r\n      background: rgba(244, 67, 54, 0.9);\r\n      color: white;\r\n    }\r\n    \r\n    .price-badge {\r\n      background: rgba(63, 81, 181, 0.9);\r\n      color: white;\r\n    }\r\n    \r\n    .free-badge {\r\n      background: rgba(76, 175, 80, 0.9);\r\n      color: white;\r\n    }\r\n    \r\n    .course-title-info {\r\n      flex: 1;\r\n      min-width: 0;\r\n    }\r\n    \r\n    .course-breadcrumb {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      margin-bottom: 16px;\r\n      font-size: 0.95rem;\r\n      color: #666;\r\n    }\r\n    \r\n    .breadcrumb-icon {\r\n      font-size: 18px;\r\n      color: #999;\r\n    }\r\n    \r\n    .breadcrumb-item.current {\r\n      color: #667eea;\r\n      font-weight: 600;\r\n    }\r\n    \r\n    .breadcrumb-separator {\r\n      font-size: 16px;\r\n    }\r\n    \r\n    .course-main-title {\r\n      position: relative;\r\n      font-size: 2.5rem;\r\n      font-weight: 700;\r\n      color: #2c3e50;\r\n      margin: 0 0 30px 0;\r\n      line-height: 1.2;\r\n    }\r\n    \r\n    .title-decoration {\r\n      position: absolute;\r\n      bottom: -10px;\r\n      left: 0;\r\n      width: 80px;\r\n      height: 4px;\r\n      background: linear-gradient(90deg, #667eea, #764ba2);\r\n      border-radius: 2px;\r\n    }\r\n    \r\n    .course-stats-enhanced {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\r\n      gap: 20px;\r\n      margin-top: 20px;\r\n    }\r\n    \r\n    .stat-card {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 12px;\r\n      padding: 20px;\r\n      background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\r\n      border-radius: 15px;\r\n      border: 1px solid #e9ecef;\r\n      transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n    }\r\n    \r\n    .stat-card:hover {\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 8px 25px rgba(0,0,0,0.1);\r\n    }\r\n    \r\n    .stat-icon {\r\n      width: 40px;\r\n      height: 40px;\r\n      border-radius: 50%;\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      color: white;\r\n    }\r\n    \r\n    .stat-info {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n    \r\n    .stat-number {\r\n      font-size: 1.1rem;\r\n      font-weight: 700;\r\n      color: #2c3e50;\r\n    }\r\n    \r\n    .stat-label {\r\n      font-size: 0.85rem;\r\n      color: #666;\r\n      font-weight: 500;\r\n    }\r\n    \r\n    .course-description-section {\r\n      position: relative;\r\n      z-index: 2;\r\n      margin-top: 40px;\r\n      padding: 30px;\r\n      background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\r\n      border-radius: 15px;\r\n      border: 1px solid #e9ecef;\r\n    }\r\n    \r\n    .description-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 12px;\r\n      margin-bottom: 20px;\r\n    }\r\n    \r\n    .description-header mat-icon {\r\n      color: #667eea;\r\n      font-size: 24px;\r\n    }\r\n    \r\n    .description-header h3 {\r\n      margin: 0;\r\n      color: #2c3e50;\r\n      font-size: 1.3rem;\r\n      font-weight: 600;\r\n    }\r\n    \r\n    .course-description {\r\n      font-size: 1.1rem;\r\n      line-height: 1.7;\r\n      color: #4a5568;\r\n      margin-bottom: 25px;\r\n    }\r\n    \r\n    .description-features {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n      gap: 15px;\r\n    }\r\n    \r\n    .feature-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 10px;\r\n      color: #2c3e50;\r\n      font-weight: 500;\r\n    }\r\n    \r\n    .feature-item mat-icon {\r\n      color: #4caf50;\r\n      font-size: 20px;\r\n    }\r\n\r\n    /* Topic Stats */\r\n    .topic-stats {\r\n      display: flex;\r\n      gap: 20px;\r\n      flex-wrap: wrap;\r\n    }\r\n    \r\n    .stat-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      background: #f8f9fa;\r\n      padding: 12px 16px;\r\n      border-radius: 8px;\r\n      font-weight: 500;\r\n      color: #555;\r\n    }\r\n      .stat-item mat-icon {\r\n      color: #3f51b5;\r\n      font-size: 20px;\r\n    }\r\n\r\n    /* Course Description Section */\r\n    .course-description-section {\r\n      margin-top: 24px;\r\n      padding-top: 24px;\r\n      border-top: 1px solid #e9ecef;\r\n    }\r\n    \r\n    .course-description {\r\n      font-size: 1.1rem;\r\n      line-height: 1.6;\r\n      color: #666;\r\n      margin: 0;\r\n    }\r\n\r\n    /* Topics Container */\r\n    .topics-container {\r\n      background: white;\r\n      border-radius: 12px;\r\n      padding: 40px;\r\n      box-shadow: 0 4px 20px rgba(0,0,0,0.1);\r\n    }\r\n    \r\n    .topics-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 30px;\r\n      flex-wrap: wrap;\r\n      gap: 16px;\r\n    }\r\n    \r\n    .topics-title {\r\n      font-size: 2rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 0;\r\n    }\r\n\r\n    /* Topic Cards (similar to topic-detail structure) */\r\n    .topic-card {\r\n      margin-bottom: 24px;\r\n      border: 1px solid #e0e0e0;\r\n      border-radius: 12px;\r\n      overflow: hidden;\r\n      transition: all 0.3s ease;\r\n      background: white;\r\n    }\r\n    \r\n    .topic-card:hover {\r\n      box-shadow: 0 4px 20px rgba(0,0,0,0.1);\r\n    }\r\n      \r\n    .topic-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      padding: 24px;\r\n      background: #f8f9fa;\r\n      border-bottom: 1px solid #e0e0e0;\r\n    }\r\n    \r\n    .topic-number {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 50px;\r\n      height: 50px;\r\n      background: linear-gradient(135deg, #3f51b5, #5c6bc0);\r\n      color: white;\r\n      border-radius: 50%;\r\n      font-size: 1.2rem;\r\n      font-weight: 700;\r\n      flex-shrink: 0;\r\n    }\r\n    \r\n    .topic-info {\r\n      flex: 1;\r\n      min-width: 0;\r\n    }\r\n    \r\n    .topic-title {\r\n      font-size: 1.3rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 0 0 8px 0;\r\n    }\r\n    \r\n    .topic-meta {\r\n      display: flex;\r\n      gap: 20px;\r\n      color: #666;\r\n      font-size: 0.9rem;\r\n    }\r\n    \r\n    .topic-meta span {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n    }\r\n    \r\n    .topic-meta mat-icon {\r\n      font-size: 1.1rem;\r\n      width: 1.1rem;\r\n      height: 1.1rem;\r\n    }\r\n    \r\n    .topic-actions {\r\n      display: flex;\r\n      gap: 8px;\r\n      align-items: center;\r\n    }\r\n    \r\n    .view-topic-btn {\r\n      border-radius: 8px !important;\r\n      padding: 0 16px !important;\r\n      height: 40px !important;\r\n      font-weight: 500 !important;\r\n    }\r\n    \r\n    .expand-button {\r\n      transition: transform 0.3s ease;\r\n    }\r\n    \r\n    .expand-button.expanded {\r\n      transform: rotate(180deg);\r\n    }\r\n    \r\n    /* Lessons List */\r\n    .lessons-list {\r\n      padding: 16px 24px;\r\n      background: #fafbfc;\r\n    }\r\n    \r\n    .lessons-header {\r\n      margin-bottom: 16px;\r\n    }\r\n    \r\n    .lessons-header h4 {\r\n      font-size: 1.1rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 0;\r\n    }\r\n    \r\n    .lesson-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 16px;\r\n      padding: 16px;\r\n      background: white;\r\n      border-radius: 8px;\r\n      margin-bottom: 12px;\r\n      border: 1px solid #e0e0e0;\r\n      transition: all 0.2s ease;\r\n    }\r\n    \r\n    .lesson-item:hover {\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n      transform: translateY(-1px);\r\n    }\r\n    \r\n    .lesson-item:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n    \r\n    .lesson-item .lesson-number {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 32px;\r\n      height: 32px;\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      color: white;\r\n      border-radius: 50%;\r\n      font-size: 0.9rem;\r\n      font-weight: 600;\r\n      flex-shrink: 0;\r\n    }\r\n    \r\n    .lesson-item .lesson-info {\r\n      flex: 1;\r\n      min-width: 0;\r\n    }\r\n    \r\n    .lesson-item .lesson-title {\r\n      font-size: 1rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 0 0 4px 0;\r\n    }\r\n    \r\n    .lesson-item .lesson-meta {\r\n      display: flex;\r\n      gap: 16px;\r\n      color: #666;\r\n      font-size: 0.85rem;\r\n    }\r\n    \r\n    .lesson-item .lesson-meta span {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n    }\r\n    \r\n    .lesson-item .lesson-meta mat-icon {\r\n      font-size: 1rem;\r\n      width: 1rem;\r\n      height: 1rem;\r\n    }\r\n    \r\n    .lesson-status {\r\n      padding: 2px 8px;\r\n      border-radius: 12px;\r\n      font-size: 0.75rem;\r\n      font-weight: 500;\r\n      text-transform: uppercase;\r\n    }\r\n    \r\n    .lesson-status.free {\r\n      background: #e8f5e8;\r\n      color: #2e7d32;\r\n    }\r\n    \r\n    .lesson-status.premium {\r\n      background: #fff3e0;\r\n      color: #f57c00;\r\n    }\r\n    \r\n    .lesson-actions {\r\n      display: flex;\r\n      gap: 8px;\r\n    }\r\n    \r\n    .view-lesson-btn {\r\n      border-radius: 8px !important;\r\n      padding: 0 16px !important;\r\n      height: 36px !important;\r\n      font-weight: 500 !important;\r\n      font-size: 0.9rem !important;\r\n    }\r\n\r\n    /* Responsive Design */\r\n    @media (max-width: 768px) {\r\n      .hero-section {\r\n        padding: 40px 20px 60px;\r\n        min-height: 30vh;\r\n      }\r\n      \r\n      .hero-title {\r\n        font-size: 2rem;\r\n      }\r\n      \r\n      .hero-icon {\r\n        font-size: 40px;\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n      \r\n      .hero-stats {\r\n        gap: 20px;\r\n        margin-top: 20px;\r\n      }\r\n      \r\n      .filter-group {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n      }\r\n      \r\n      .modern-select {\r\n        min-width: auto;\r\n      }\r\n      \r\n      .course-header {\r\n        padding: 20px;\r\n        margin-bottom: 20px;\r\n      }\r\n      \r\n      .course-header .course-title {\r\n        font-size: 1.8rem;\r\n      }\r\n      \r\n      .course-info {\r\n        gap: 16px;\r\n      }\r\n      \r\n      .course-number {\r\n        width: 50px;\r\n        height: 50px;\r\n        font-size: 1.2rem;\r\n      }\r\n      \r\n      .course-stats {\r\n        gap: 20px;\r\n        padding: 16px;\r\n      }\r\n      \r\n      .course-header-with-image {\r\n        flex-direction: column;\r\n        gap: 16px;\r\n      }\r\n      \r\n      .course-image-container {\r\n        width: 100%;\r\n      }\r\n      \r\n      .course-image-integrated {\r\n        height: 200px;\r\n      }\r\n      \r\n      .course-main-title {\r\n        font-size: 1.5rem;\r\n      }\r\n      \r\n      .course-heading-section,\r\n      .topics-container {\r\n        padding: 24px;\r\n        margin: 24px 0;\r\n      }\r\n      \r\n      .course-summary {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n      }\r\n      \r\n      .course-stats {\r\n        justify-content: center;\r\n      }\r\n      \r\n      .topics-header {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n      }\r\n      \r\n      .topic-header-modern {\r\n        padding: 16px;\r\n      }\r\n      \r\n      .lesson-content {\r\n        padding: 16px;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 768px) {\r\n      .topic-header {\r\n        flex-direction: column;\r\n        gap: 16px;\r\n        padding: 20px;\r\n      }\r\n      \r\n      .topic-actions {\r\n        width: 100%;\r\n        justify-content: space-between;\r\n      }\r\n      \r\n      .topic-meta {\r\n        flex-direction: column;\r\n        gap: 8px;\r\n      }\r\n      \r\n      .lesson-item {\r\n        flex-direction: column;\r\n        gap: 12px;\r\n        align-items: flex-start;\r\n      }\r\n      \r\n      .lesson-item .lesson-actions {\r\n        width: 100%;\r\n      }\r\n      \r\n      .lesson-item .lesson-meta {\r\n        flex-direction: column;\r\n        gap: 4px;\r\n      }\r\n      \r\n      .view-topic-btn,\r\n      .view-lesson-btn {\r\n        width: 100% !important;\r\n      }\r\n    }\r\n  `]\r\n})\r\nexport class CustomerCourseViewComponent implements OnInit {\r\n  categories: Category[] = [];\r\n  courses: Course[] = [];\r\n  filteredCourses: Course[] = [];\r\n  topics: TopicType[] = [];\r\n  selectedCategoryId: number | null = null;\r\n  selectedCourseId: number | null = null;\r\n  selectedCourse: Course | null = null;\r\n  loading = false;\r\n  isViewingSpecificCourse = false;\r\n  inlineExpandedTopics = new Set<number>();  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private categoryService: CategoryService,\r\n    private courseService: CourseService,\r\n    private authService: AuthService,\r\n    private topicService: TopicService,\r\n    private lessonService: LessonService,\r\n    private dialog: MatDialog\r\n  ) {}ngOnInit() {\r\n    // Get courseId from route parameter\r\n    const courseId = this.route.snapshot.paramMap.get('id');\r\n    if (courseId) {\r\n      this.isViewingSpecificCourse = true;\r\n      this.selectedCourseId = parseInt(courseId, 10);\r\n      this.loadSpecificCourse(this.selectedCourseId);\r\n    } else {\r\n      this.isViewingSpecificCourse = false;\r\n      // Fallback to original behavior if no courseId in route\r\n      this.loadCategories();\r\n      this.loadCourses();\r\n    }\r\n  }\r\n\r\n  loadSpecificCourse(courseId: number) {\r\n    this.loading = true;\r\n    \r\n    // Load the specific course\r\n    this.courseService.getCourseById(courseId).subscribe({\r\n      next: (course) => {\r\n        this.selectedCourse = course;\r\n        this.selectedCategoryId = course.categoryId;\r\n        this.loadCategories();\r\n        this.loadTopicsForCourse(courseId);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading course:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadTopicsForCourse(courseId: number) {\r\n    this.topicService.getTopicsByCourseId(courseId).subscribe({\r\n      next: (topics) => {\r\n        this.loadLessonsForTopics(topics);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading topics:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadLessonsForTopics(topics: TopicType[]) {\r\n    const topicRequests = topics.map(topic =>\r\n      this.lessonService.getLessonsByTopicId(topic.topicId).toPromise().then(lessons => {\r\n        return { ...topic, lessons: lessons || [] };\r\n      })\r\n    );\r\n\r\n    Promise.all(topicRequests).then(topicsWithLessons => {\r\n      this.topics = topicsWithLessons;\r\n      this.loading = false;\r\n    }).catch(error => {\r\n      console.error('Error loading lessons:', error);\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  loadCategories() {\r\n    this.categoryService.getAllCategories().subscribe({\r\n      next: (categories) => {\r\n        this.categories = categories.filter(cat => cat.isPublished);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading categories:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadCourses() {\r\n    this.courseService.getAllCourses().subscribe({\r\n      next: (courses) => {\r\n        this.courses = courses.filter(course => course.isPublished);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading courses:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  onCategoryChange() {\r\n    this.selectedCourseId = null;\r\n    this.selectedCourse = null;\r\n    this.topics = [];\r\n    this.inlineExpandedTopics.clear();\r\n    this.filteredCourses = this.courses.filter(c => c.categoryId === this.selectedCategoryId);\r\n  }\r\n  onCourseChange() {\r\n    this.selectedCourse = this.courses.find(c => c.courseId === this.selectedCourseId) || null;\r\n    this.topics = [];\r\n    this.inlineExpandedTopics.clear();\r\n    \r\n    if (this.selectedCourseId) {\r\n      this.loading = true;\r\n      // Load topics from the database\r\n      this.loadTopicsFromDatabase();\r\n    }\r\n  }\r\n\r\n  private loadTopicsFromDatabase() {\r\n    this.topicService.getTopicsByCourseId(this.selectedCourseId!).subscribe({\r\n      next: (topics) => {\r\n        // Load lessons for each topic\r\n        const topicLoaders = topics.map(topic => \r\n          this.lessonService.getLessonsByTopicId(topic.topicId).subscribe({\r\n            next: (lessons) => {\r\n              topic.lessons = lessons;\r\n            },\r\n            error: (error) => {\r\n              console.error(`Error loading lessons for topic ${topic.topicId}:`, error);\r\n              topic.lessons = [];\r\n            }\r\n          })\r\n        );\r\n        \r\n        this.topics = topics;\r\n        this.loading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading topics:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }  toggleTopic(topicIndex: number) {\r\n    // Toggle inline expansion for showing lesson titles\r\n    if (this.inlineExpandedTopics.has(topicIndex)) {\r\n      this.inlineExpandedTopics.delete(topicIndex);\r\n    } else {\r\n      this.inlineExpandedTopics.add(topicIndex);\r\n    }\r\n  }\r\n  viewTopicDetails(topicIndex: number, event: Event) {\r\n    // Prevent event bubbling to avoid triggering toggleTopic\r\n    event.stopPropagation();\r\n    \r\n    // Navigate to the topic detail view for full content with keynotes and tags\r\n    const topic = this.topics[topicIndex];\r\n    if (topic) {\r\n      this.router.navigate(['/topic', topic.topicId]);\r\n    }\r\n  }  viewLessonDetails(lessonId: number, topicId: number) {\r\n    // Open lesson details in a full-screen modal/overlay\r\n    const dialogRef = this.dialog.open(LessonDetailModalComponent, {\r\n      width: '100vw',\r\n      height: '100vh',\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      data: { \r\n        lessonId: lessonId, \r\n        topicId: topicId, \r\n        courseId: this.selectedCourseId \r\n      },\r\n      panelClass: 'lesson-detail-modal-fullscreen',\r\n      autoFocus: false,\r\n      restoreFocus: false,\r\n      hasBackdrop: true,\r\n      disableClose: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      // Handle any actions after modal closes if needed\r\n      console.log('Lesson detail modal closed');\r\n    });\r\n  }\r\n\r\n  getDisplayLessons(topic: TopicType, topicIndex: number) {\r\n    return this.inlineExpandedTopics.has(topicIndex) ? topic.lessons : topic.lessons.slice(0, 2);\r\n  }\r\n\r\n  getCategoryName(categoryId: number): string {\r\n    const category = this.categories.find(cat => cat.categoryId === categoryId);\r\n    return category ? category.name : 'Unknown Category';\r\n  }\r\n\r\n  getTotalLessonsCount(): number {\r\n    return this.topics.reduce((total, topic) => total + topic.lessons.length, 0);\r\n  }\r\n\r\n  getTotalDuration(): number {\r\n    let totalMinutes = 0;\r\n    this.topics.forEach(topic => {\r\n      topic.lessons.forEach(lesson => {\r\n        if (lesson.duration) {\r\n          totalMinutes += lesson.duration;\r\n        }\r\n      });\r\n    });\r\n    return totalMinutes;\r\n  }\r\n  getTopicDuration(topic: any): number {\r\n    return topic.lessons.reduce((total: number, lesson: any) => total + (lesson.duration || 0), 0);\r\n  }\r\n  getTopicFreeCount(topic: any): number {\r\n    return topic.lessons.filter((lesson: any) => lesson.isFree).length;\r\n  }\r\n\r\n  goBackToCourses(): void {\r\n    // Navigate back to the courses list\r\n    this.router.navigate(['/courses']);\r\n  }\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialogModule } from '@angular/material/dialog';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { LessonService } from '../../../service/lesson.service';\r\n\r\ninterface LessonKeynote {\r\n  keynoteId: number;\r\n  lessonId: number;\r\n  title: string;\r\n  content: string;\r\n  contentType?: string;\r\n  orderSequence?: number;\r\n  isImportant: boolean;\r\n  hasVisualAid?: boolean;\r\n  visualAidUrl?: string;\r\n  relatedPlanet?: string;\r\n  relatedZodiac?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface Tag {\r\n  tagId: number;\r\n  tagName: string;\r\n  tagCategory?: string;\r\n  description?: string;\r\n  createdByUserId?: number;\r\n  statusFlag?: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface LessonDetail {\r\n  lessonId: number;\r\n  title: string;\r\n  description: string;\r\n  content: string;\r\n  topicId: number;\r\n  orderNumber: number;\r\n  isFree: boolean;\r\n  durationMinutes: number;\r\n  videoUrl?: string;\r\n  audioUrl?: string;\r\n  documentUrl?: string;\r\n  isPublished: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  keynotes: LessonKeynote[];\r\n  tags: Tag[];\r\n}\r\n\r\n@Component({\r\n  selector: 'app-lesson-detail-modal',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    MatDialogModule,\r\n    MatCardModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatChipsModule,\r\n    MatProgressSpinnerModule,\r\n    MatDividerModule\r\n  ],  template: `\r\n    <div class=\"lesson-modal-wrapper\">\r\n      <div class=\"lesson-modal-header\">\r\n        <div class=\"header-left\">\r\n          <button mat-icon-button (click)=\"close()\" class=\"back-button\" title=\"Back\">\r\n            <mat-icon>arrow_back</mat-icon>\r\n          </button>\r\n          <h2 mat-dialog-title>\r\n            <mat-icon>school</mat-icon>\r\n            Lesson Details\r\n          </h2>\r\n        </div>\r\n        <button mat-icon-button (click)=\"close()\" class=\"close-button\" title=\"Close\">\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n\r\n      <mat-dialog-content class=\"lesson-modal-content\">\r\n        <!-- Loading State -->\r\n        <div *ngIf=\"loading\" class=\"loading-container\">\r\n          <mat-progress-spinner mode=\"indeterminate\" diameter=\"40\"></mat-progress-spinner>\r\n          <p>Loading lesson details...</p>\r\n        </div>\r\n\r\n        <!-- Lesson Content -->\r\n        <div *ngIf=\"!loading && lessonDetail\" class=\"lesson-content\">\r\n          <!-- Lesson Header -->\r\n          <div class=\"lesson-header\">\r\n            <div class=\"lesson-number\">{{ lessonDetail.orderNumber }}</div>\r\n            <div class=\"lesson-info\">\r\n              <h3 class=\"lesson-title\">{{ lessonDetail.title }}</h3>\r\n              <div class=\"lesson-meta\">\r\n                <span class=\"lesson-duration\" *ngIf=\"lessonDetail.durationMinutes\">\r\n                  <mat-icon>schedule</mat-icon>\r\n                  {{ lessonDetail.durationMinutes }} minutes\r\n                </span>\r\n                <span class=\"lesson-status\" [class]=\"lessonDetail.isFree ? 'free' : 'premium'\">\r\n                  <mat-icon>{{ lessonDetail.isFree ? 'card_giftcard' : 'star' }}</mat-icon>\r\n                  {{ lessonDetail.isFree ? 'Free' : 'Premium' }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Lesson Description -->\r\n          <div class=\"lesson-description\">\r\n            <h4>Description</h4>\r\n            <div class=\"description-content\" [innerHTML]=\"lessonDetail.description\"></div>\r\n          </div>\r\n\r\n          <!-- Lesson Content -->\r\n          <div *ngIf=\"lessonDetail.content\" class=\"lesson-main-content\">\r\n            <h4>Content</h4>\r\n            <div class=\"content-body\" [innerHTML]=\"lessonDetail.content\"></div>\r\n          </div>\r\n\r\n          <!-- Key Insights -->\r\n          <div *ngIf=\"lessonDetail.keynotes && lessonDetail.keynotes.length > 0\" class=\"key-insights-section\">\r\n            <h4>\r\n+              <mat-icon>lightbulb</mat-icon>\r\n              Key Insights ({{ lessonDetail.keynotes.length }})\r\n            </h4>\r\n            <div class=\"keynotes-container\">\r\n              <div *ngFor=\"let keynote of getSortedKeynotes(); let i = index\" \r\n                   class=\"keynote-card\" [class.important]=\"keynote.isImportant\">\r\n                <div class=\"keynote-header\">\r\n                  <span class=\"keynote-number\">{{ i + 1 }}</span>\r\n                  <h5 class=\"keynote-title\">{{ keynote.title }}</h5>\r\n                </div>\r\n                <div class=\"keynote-content\" [innerHTML]=\"keynote.content\"></div>\r\n                <div class=\"keynote-badges\" *ngIf=\"keynote.isImportant || keynote.relatedPlanet || keynote.relatedZodiac\">\r\n                  <span *ngIf=\"keynote.isImportant\" class=\"important-badge\">Important</span>\r\n                  <span *ngIf=\"keynote.relatedPlanet\" class=\"planet-badge\">{{ keynote.relatedPlanet }}</span>\r\n                  <span *ngIf=\"keynote.relatedZodiac\" class=\"zodiac-badge\">{{ keynote.relatedZodiac }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Media Resources -->\r\n          <div class=\"media-section\" *ngIf=\"lessonDetail.videoUrl || lessonDetail.audioUrl || lessonDetail.documentUrl\">\r\n            <h4>Resources</h4>\r\n            <div class=\"media-grid\">\r\n              <a *ngIf=\"lessonDetail.videoUrl\" [href]=\"lessonDetail.videoUrl\" target=\"_blank\" class=\"media-card video\">\r\n                <mat-icon>play_circle_filled</mat-icon>\r\n                <span>Video</span>\r\n              </a>\r\n              <a *ngIf=\"lessonDetail.audioUrl\" [href]=\"lessonDetail.audioUrl\" target=\"_blank\" class=\"media-card audio\">\r\n                <mat-icon>headphones</mat-icon>\r\n                <span>Audio</span>\r\n              </a>\r\n              <a *ngIf=\"lessonDetail.documentUrl\" [href]=\"lessonDetail.documentUrl\" target=\"_blank\" class=\"media-card document\">\r\n                <mat-icon>description</mat-icon>\r\n                <span>Document</span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Tags -->\r\n          <div *ngIf=\"lessonDetail.tags && lessonDetail.tags.length > 0\" class=\"tags-section\">\r\n            <h4>\r\n              <mat-icon>local_offer</mat-icon>\r\n              Tags\r\n            </h4>\r\n            <div class=\"tags-container\">\r\n              <mat-chip-set>\r\n                <mat-chip *ngFor=\"let tag of lessonDetail.tags\">{{ tag.tagName }}</mat-chip>\r\n              </mat-chip-set>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Error State -->\r\n        <div *ngIf=\"!loading && !lessonDetail\" class=\"error-container\">\r\n          <mat-icon class=\"error-icon\">error_outline</mat-icon>\r\n          <h3>Lesson not found</h3>\r\n          <p>The requested lesson could not be loaded.</p>\r\n        </div>\r\n      </mat-dialog-content>\r\n\r\n      <mat-dialog-actions align=\"end\">\r\n        <button mat-button (click)=\"close()\">Close</button>\r\n      </mat-dialog-actions>\r\n    </div>  `,\r\n  styles: [`    .lesson-modal-wrapper {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      height: 100%;\r\n      max-height: 100vh;\r\n    }\r\n\r\n    .lesson-modal-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 16px 24px;\r\n      border-bottom: 1px solid #e0e0e0;\r\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n      color: white;\r\n      min-height: 60px;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.15);\r\n      flex-shrink: 0;\r\n      z-index: 10;\r\n    }\r\n\r\n    .header-left {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 12px;\r\n    }\r\n\r\n    .back-button {\r\n      color: white !important;\r\n      background: rgba(255, 255, 255, 0.1) !important;\r\n      border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n      border-radius: 50% !important;\r\n      width: 40px !important;\r\n      height: 40px !important;\r\n      display: flex !important;\r\n      align-items: center;\r\n      justify-content: center;\r\n      transition: all 0.3s ease;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n    }\r\n\r\n    .back-button:hover {\r\n      background: rgba(255, 255, 255, 0.2) !important;\r\n      transform: translateX(-2px);\r\n      box-shadow: 0 4px 8px rgba(0,0,0,0.3);\r\n    }\r\n\r\n    .back-button mat-icon {\r\n      font-size: 20px;\r\n      width: 20px;\r\n      height: 20px;\r\n    }\r\n\r\n    .lesson-modal-header h2 {\r\n      margin: 0;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      font-size: 1.3rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .close-button {\r\n      color: white !important;\r\n      opacity: 0.8;\r\n      transition: opacity 0.3s ease;\r\n    }\r\n\r\n    .close-button:hover {\r\n      opacity: 1;\r\n      background: rgba(255, 255, 255, 0.1) !important;\r\n    }    .lesson-modal-content {\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      overflow-x: hidden;\r\n      padding: 24px 32px;\r\n      background: #fafbfc;\r\n      max-height: calc(100vh - 140px);\r\n    }\r\n\r\n    .loading-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      padding: 60px 20px;\r\n      text-align: center;\r\n    }\r\n\r\n    .loading-container p {\r\n      margin-top: 16px;\r\n      color: #666;\r\n      font-size: 0.95rem;\r\n    }\r\n\r\n    .lesson-content {\r\n      animation: fadeIn 0.3s ease-in;\r\n      max-width: 1000px;\r\n      margin: 0 auto;\r\n    }\r\n\r\n    @keyframes fadeIn {\r\n      from { opacity: 0; transform: translateY(10px); }\r\n      to { opacity: 1; transform: translateY(0); }\r\n    }\r\n\r\n    .lesson-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      padding: 24px;\r\n      background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);\r\n      border-radius: 16px;\r\n      margin-bottom: 28px;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.08);\r\n      border: 1px solid #e8eafd;\r\n    }\r\n\r\n    .lesson-number {\r\n      width: 48px;\r\n      height: 48px;\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      color: white;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-weight: 600;\r\n      font-size: 1.1rem;\r\n      flex-shrink: 0;\r\n      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\r\n    }\r\n\r\n    .lesson-title {\r\n      font-size: 1.4rem;\r\n      font-weight: 600;\r\n      margin: 0 0 8px 0;\r\n      color: #2d3748;\r\n      line-height: 1.3;\r\n    }\r\n\r\n    .lesson-meta {\r\n      display: flex;\r\n      gap: 12px;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n    }\r\n\r\n    .lesson-duration, .lesson-status {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 6px;\r\n      padding: 6px 12px;\r\n      border-radius: 16px;\r\n      font-size: 0.85rem;\r\n      font-weight: 500;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n    }\r\n\r\n    .lesson-duration {\r\n      background: #e3f2fd;\r\n      color: #1976d2;\r\n      border: 1px solid #bbdefb;\r\n    }\r\n\r\n    .lesson-status.free {\r\n      background: #e8f5e8;\r\n      color: #2e7d32;\r\n      border: 1px solid #c8e6c9;\r\n    }\r\n\r\n    .lesson-status.premium {\r\n      background: #fff3e0;\r\n      color: #f57c00;\r\n      border: 1px solid #ffcc02;\r\n    }\r\n\r\n    .lesson-description, .lesson-main-content, .key-insights-section, .media-section, .tags-section {\r\n      margin-bottom: 32px;\r\n    }\r\n\r\n    .lesson-description h4, \r\n    .lesson-main-content h4, \r\n    .key-insights-section h4, \r\n    .media-section h4, \r\n    .tags-section h4 {\r\n      font-size: 1.2rem;\r\n      font-weight: 600;\r\n      color: #2d3748;\r\n      margin: 0 0 16px 0;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 10px;\r\n      padding-bottom: 12px;\r\n      border-bottom: 2px solid #e0e7ff;\r\n    }\r\n\r\n    .description-content, .content-body {\r\n      background: white;\r\n      padding: 20px;\r\n      border-radius: 12px;\r\n      border-left: 4px solid #667eea;\r\n      line-height: 1.6;\r\n      color: #4a5568;\r\n      font-size: 0.95rem;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.06);\r\n      border: 1px solid #e2e8f0;\r\n      overflow-x: auto;\r\n    }\r\n\r\n    /* Enhanced HTML Table Styling for Lesson Content */\r\n    .description-content table,\r\n    .content-body table {\r\n      width: 100%;\r\n      border-collapse: collapse;\r\n      margin: 16px 0;\r\n      background: white;\r\n      border-radius: 8px;\r\n      overflow: hidden;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n      font-size: 14px;\r\n    }\r\n\r\n    .description-content th,\r\n    .content-body th {\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      color: white;\r\n      padding: 12px 16px;\r\n      text-align: left;\r\n      font-weight: 600;\r\n      font-size: 13px;\r\n      border: none;\r\n    }\r\n\r\n    .description-content td,\r\n    .content-body td {\r\n      padding: 12px 16px;\r\n      border-bottom: 1px solid #e2e8f0;\r\n      vertical-align: top;\r\n      border: none;\r\n    }\r\n\r\n    .description-content tr:nth-child(even) td,\r\n    .content-body tr:nth-child(even) td {\r\n      background: #f8f9fa;\r\n    }\r\n\r\n    .description-content tr:hover td,\r\n    .content-body tr:hover td {\r\n      background: #e8f0fe;\r\n    }\r\n\r\n    .description-content tbody tr:last-child td,\r\n    .content-body tbody tr:last-child td {\r\n      border-bottom: none;\r\n    }\r\n\r\n    /* Enhanced HTML Content Styling */\r\n    .description-content p,\r\n    .content-body p {\r\n      margin: 12px 0;\r\n      line-height: 1.6;\r\n    }\r\n\r\n    .description-content h1,\r\n    .description-content h2,\r\n    .description-content h3,\r\n    .description-content h4,\r\n    .description-content h5,\r\n    .description-content h6,\r\n    .content-body h1,\r\n    .content-body h2,\r\n    .content-body h3,\r\n    .content-body h4,\r\n    .content-body h5,\r\n    .content-body h6 {\r\n      color: #2d3748;\r\n      margin: 20px 0 12px 0;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .description-content h1, .content-body h1 { font-size: 1.5rem; }\r\n    .description-content h2, .content-body h2 { font-size: 1.3rem; }\r\n    .description-content h3, .content-body h3 { font-size: 1.2rem; }\r\n    .description-content h4, .content-body h4 { font-size: 1.1rem; }\r\n    .description-content h5, .content-body h5 { font-size: 1rem; }\r\n    .description-content h6, .content-body h6 { font-size: 0.9rem; }\r\n\r\n    .description-content ul,\r\n    .description-content ol,\r\n    .content-body ul,\r\n    .content-body ol {\r\n      margin: 12px 0;\r\n      padding-left: 24px;\r\n    }\r\n\r\n    .description-content li,\r\n    .content-body li {\r\n      margin: 6px 0;\r\n      line-height: 1.5;\r\n    }\r\n\r\n    .description-content strong,\r\n    .description-content b,\r\n    .content-body strong,\r\n    .content-body b {\r\n      color: #2d3748;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .description-content em,\r\n    .description-content i,\r\n    .content-body em,\r\n    .content-body i {\r\n      color: #4a5568;\r\n      font-style: italic;\r\n    }\r\n\r\n    .description-content blockquote,\r\n    .content-body blockquote {\r\n      margin: 16px 0;\r\n      padding: 12px 20px;\r\n      border-left: 4px solid #667eea;\r\n      background: #f8f9ff;\r\n      border-radius: 0 8px 8px 0;\r\n      font-style: italic;\r\n      color: #4a5568;\r\n    }\r\n\r\n    .description-content code,\r\n    .content-body code {\r\n      background: #f1f5f9;\r\n      padding: 2px 6px;\r\n      border-radius: 4px;\r\n      font-family: 'Courier New', monospace;\r\n      font-size: 0.9em;\r\n      color: #2d3748;\r\n    }\r\n\r\n    .description-content pre,\r\n    .content-body pre {\r\n      background: #f8f9fa;\r\n      padding: 16px;\r\n      border-radius: 8px;\r\n      overflow-x: auto;\r\n      border: 1px solid #e2e8f0;\r\n    }\r\n\r\n    .description-content pre code,\r\n    .content-body pre code {\r\n      background: none;\r\n      padding: 0;\r\n    }\r\n\r\n    .keynotes-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 16px;\r\n    }\r\n\r\n    .keynote-card {\r\n      background: white;\r\n      border-radius: 12px;\r\n      padding: 20px;\r\n      border-left: 4px solid #e0e7ff;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.08);\r\n      border: 1px solid #e2e8f0;\r\n      transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n    }\r\n\r\n    .keynote-card:hover {\r\n      transform: translateY(-1px);\r\n      box-shadow: 0 4px 16px rgba(0,0,0,0.12);\r\n    }\r\n\r\n    .keynote-card.important {\r\n      border-left-color: #ff6b6b;\r\n      background: linear-gradient(135deg, #fff8f8 0%, #ffffff 100%);\r\n      border-color: #fed7d7;\r\n    }\r\n\r\n    .keynote-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 14px;\r\n      margin-bottom: 12px;\r\n    }\r\n\r\n    .keynote-number {\r\n      width: 28px;\r\n      height: 28px;\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      color: white;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-size: 0.85rem;\r\n      font-weight: 600;\r\n      flex-shrink: 0;\r\n      box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);\r\n    }\r\n\r\n    .keynote-title {\r\n      font-size: 1.05rem;\r\n      font-weight: 600;\r\n      margin: 0;\r\n      color: #2d3748;\r\n      line-height: 1.3;\r\n    }\r\n\r\n    .keynote-content {\r\n      line-height: 1.5;\r\n      color: #4a5568;\r\n      margin-bottom: 12px;\r\n      font-size: 0.9rem;\r\n      overflow-x: auto;\r\n    }\r\n\r\n    /* Table Styling for Keynote Content */\r\n    .keynote-content table {\r\n      width: 100%;\r\n      border-collapse: collapse;\r\n      margin: 12px 0;\r\n      background: white;\r\n      border-radius: 6px;\r\n      overflow: hidden;\r\n      box-shadow: 0 1px 4px rgba(0,0,0,0.1);\r\n      font-size: 13px;\r\n    }\r\n\r\n    .keynote-content th {\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      color: white;\r\n      padding: 10px 12px;\r\n      text-align: left;\r\n      font-weight: 600;\r\n      font-size: 12px;\r\n      border: none;\r\n    }\r\n\r\n    .keynote-content td {\r\n      padding: 10px 12px;\r\n      border-bottom: 1px solid #e2e8f0;\r\n      vertical-align: top;\r\n      border: none;\r\n    }\r\n\r\n    .keynote-content tr:nth-child(even) td {\r\n      background: #f8f9fa;\r\n    }\r\n\r\n    .keynote-content tr:hover td {\r\n      background: #e8f0fe;\r\n    }\r\n\r\n    .keynote-content tbody tr:last-child td {\r\n      border-bottom: none;\r\n    }\r\n\r\n    /* Enhanced HTML Content Styling for Keynotes */\r\n    .keynote-content p {\r\n      margin: 8px 0;\r\n      line-height: 1.5;\r\n    }\r\n\r\n    .keynote-content h1,\r\n    .keynote-content h2,\r\n    .keynote-content h3,\r\n    .keynote-content h4,\r\n    .keynote-content h5,\r\n    .keynote-content h6 {\r\n      color: #2d3748;\r\n      margin: 16px 0 8px 0;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .keynote-content h1 { font-size: 1.2rem; }\r\n    .keynote-content h2 { font-size: 1.1rem; }\r\n    .keynote-content h3 { font-size: 1rem; }\r\n    .keynote-content h4 { font-size: 0.95rem; }\r\n    .keynote-content h5 { font-size: 0.9rem; }\r\n    .keynote-content h6 { font-size: 0.85rem; }\r\n\r\n    .keynote-content ul,\r\n    .keynote-content ol {\r\n      margin: 8px 0;\r\n      padding-left: 20px;\r\n    }\r\n\r\n    .keynote-content li {\r\n      margin: 4px 0;\r\n      line-height: 1.4;\r\n    }\r\n\r\n    .keynote-content strong,\r\n    .keynote-content b {\r\n      color: #2d3748;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .keynote-content em,\r\n    .keynote-content i {\r\n      color: #4a5568;\r\n      font-style: italic;\r\n    }\r\n\r\n    .keynote-content blockquote {\r\n      margin: 12px 0;\r\n      padding: 8px 16px;\r\n      border-left: 3px solid #667eea;\r\n      background: #f8f9ff;\r\n      border-radius: 0 6px 6px 0;\r\n      font-style: italic;\r\n      color: #4a5568;\r\n    }\r\n\r\n    .keynote-content code {\r\n      background: #f1f5f9;\r\n      padding: 2px 4px;\r\n      border-radius: 3px;\r\n      font-family: 'Courier New', monospace;\r\n      font-size: 0.85em;\r\n      color: #2d3748;\r\n    }\r\n\r\n    .keynote-badges {\r\n      display: flex;\r\n      gap: 8px;\r\n      flex-wrap: wrap;\r\n    }\r\n\r\n    .important-badge, .planet-badge, .zodiac-badge {\r\n      padding: 4px 8px;\r\n      border-radius: 12px;\r\n      font-size: 0.75rem;\r\n      font-weight: 500;\r\n      border: 1px solid;\r\n    }\r\n\r\n    .important-badge {\r\n      background: #ffebee;\r\n      color: #c62828;\r\n      border-color: #ffcdd2;\r\n    }\r\n\r\n    .planet-badge {\r\n      background: #fff3e0;\r\n      color: #ef6c00;\r\n      border-color: #ffcc02;\r\n    }\r\n\r\n    .zodiac-badge {\r\n      background: #f3e5f5;\r\n      color: #7b1fa2;\r\n      border-color: #ce93d8;\r\n    }\r\n\r\n    .media-grid {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\r\n      gap: 16px;\r\n    }\r\n\r\n    .media-card {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      padding: 20px;\r\n      background: white;\r\n      border-radius: 12px;\r\n      text-decoration: none;\r\n      color: #333;\r\n      border: 2px solid transparent;\r\n      transition: all 0.3s ease;\r\n      text-align: center;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.08);\r\n      border: 1px solid #e2e8f0;\r\n    }\r\n\r\n    .media-card:hover {\r\n      transform: translateY(-3px);\r\n      box-shadow: 0 6px 20px rgba(0,0,0,0.15);\r\n      border-color: #667eea;\r\n    }\r\n\r\n    .media-card mat-icon {\r\n      font-size: 2.2rem;\r\n      width: 2.2rem;\r\n      height: 2.2rem;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .media-card.video mat-icon { color: #ff4444; }\r\n    .media-card.audio mat-icon { color: #9c27b0; }\r\n    .media-card.document mat-icon { color: #2196f3; }\r\n\r\n    .media-card span {\r\n      font-size: 0.9rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .tags-container {\r\n      margin-top: 12px;\r\n    }\r\n\r\n    .tags-container mat-chip {\r\n      background: #e0e7ff !important;\r\n      color: #5b21b6 !important;\r\n      border: 1px solid #c4b5fd !important;\r\n      margin: 4px !important;\r\n    }\r\n\r\n    .error-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      padding: 60px 20px;\r\n      text-align: center;\r\n    }\r\n\r\n    .error-icon {\r\n      font-size: 3.5rem;\r\n      width: 3.5rem;\r\n      height: 3.5rem;\r\n      color: #ff5722;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .error-container h3 {\r\n      color: #2d3748;\r\n      margin-bottom: 8px;\r\n    }\r\n\r\n    .error-container p {\r\n      color: #718096;\r\n    }    /* Mobile optimizations */\r\n    @media (max-width: 768px) {\r\n      .lesson-modal-content {\r\n        padding: 20px 16px;\r\n        max-height: calc(100vh - 120px);\r\n        -webkit-overflow-scrolling: touch;\r\n      }\r\n      \r\n      .lesson-header {\r\n        flex-direction: column;\r\n        text-align: center;\r\n        gap: 16px;\r\n        padding: 20px;\r\n      }\r\n      \r\n      .lesson-title {\r\n        font-size: 1.25rem;\r\n      }\r\n      \r\n      .media-grid {\r\n        grid-template-columns: 1fr;\r\n      }\r\n\r\n      .keynote-header {\r\n        gap: 12px;\r\n      }\r\n\r\n      .keynote-title {\r\n        font-size: 1rem;\r\n      }      .lesson-modal-header {\r\n        padding: 12px 16px;\r\n      }\r\n\r\n      .back-button {\r\n        width: 36px !important;\r\n        height: 36px !important;\r\n      }\r\n\r\n      .back-button mat-icon {\r\n        font-size: 18px;\r\n        width: 18px;\r\n        height: 18px;\r\n      }\r\n    }    /* Scrollbar styling */\r\n    .lesson-modal-content::-webkit-scrollbar {\r\n      width: 8px;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-track {\r\n      background: #f1f1f1;\r\n      border-radius: 4px;\r\n      margin: 4px 0;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-thumb {\r\n      background: #c1c1c1;\r\n      border-radius: 4px;\r\n      border: 1px solid #f1f1f1;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-thumb:hover {\r\n      background: #a8a8a8;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-thumb:active {\r\n      background: #999999;\r\n    }\r\n\r\n    /* For Firefox */\r\n    .lesson-modal-content {\r\n      scrollbar-width: thin;\r\n      scrollbar-color: #c1c1c1 #f1f1f1;\r\n    }\r\n  `]\r\n})\r\nexport class LessonDetailModalComponent implements OnInit {\r\n  lessonDetail: LessonDetail | null = null;\r\n  loading = true;\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<LessonDetailModalComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: { lessonId: number, topicId: number, courseId: number },\r\n    private lessonService: LessonService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadLessonDetails(this.data.lessonId);\r\n  }\r\n\r\n  loadLessonDetails(lessonId: number): void {\r\n    this.lessonService.getLessonDetails(lessonId).subscribe({\r\n      next: (lessonDetail: LessonDetail) => {\r\n        this.lessonDetail = lessonDetail;\r\n        this.loading = false;\r\n      },\r\n      error: (error: any) => {\r\n        console.error('Error loading lesson details:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getSortedKeynotes(): LessonKeynote[] {\r\n    if (!this.lessonDetail?.keynotes) return [];\r\n    return this.lessonDetail.keynotes.sort((a, b) => {\r\n      if (a.orderSequence !== undefined && b.orderSequence !== undefined) {\r\n        return a.orderSequence - b.orderSequence;\r\n      }\r\n      return a.keynoteId - b.keynoteId;\r\n    });\r\n  }\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n"],"names":["CommonModule","FormsModule","MatFormFieldModule","MatSelectModule","MatCardModule","MatChipsModule","MatIconModule","MatProgressSpinnerModule","MatButtonModule","MatDialogModule","LessonDetailModalComponent","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","selectedCourse","title","ɵɵtextInterpolate1","getTotalLessonsCount","getTotalDuration","ɵɵpipeBind1","difficultyLevel","ɵɵtemplate","CustomerCourseViewComponent_div_1_div_3_Template","CustomerCourseViewComponent_div_1_p_13_Template","CustomerCourseViewComponent_div_1_p_14_Template","CustomerCourseViewComponent_div_1_div_15_Template","ɵɵproperty","ɵɵpureFunction0","_c0","cat_r3","categoryId","name","course_r4","courseId","ɵɵtwoWayListener","CustomerCourseViewComponent_div_2_Template_mat_select_ngModelChange_6_listener","$event","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵtwoWayBindingSet","selectedCategoryId","ɵɵresetView","ɵɵlistener","CustomerCourseViewComponent_div_2_Template_mat_select_selectionChange_6_listener","onCategoryChange","CustomerCourseViewComponent_div_2_mat_option_7_Template","CustomerCourseViewComponent_div_2_Template_mat_select_ngModelChange_11_listener","selectedCourseId","CustomerCourseViewComponent_div_2_Template_mat_select_selectionChange_11_listener","onCourseChange","CustomerCourseViewComponent_div_2_mat_option_12_Template","ɵɵtwoWayProperty","categories","filteredCourses","CustomerCourseViewComponent_div_4_div_1_Template_button_click_1_listener","_r5","goBackToCourses","description","topics","length","price","CustomerCourseViewComponent_div_4_div_3_div_4_span_12_Template","CustomerCourseViewComponent_div_4_div_3_div_4_ng_template_13_Template","ɵɵtemplateRefExtractor","thumbnailUrl","ɵɵsanitizeUrl","ɵɵclassMap","toLowerCase","freeBadge_r6","CustomerCourseViewComponent_div_4_div_3_div_4_Template","getCategoryName","ɵɵsanitizeHtml","getTopicDuration","topic_r8","lesson_r11","duration","CustomerCourseViewComponent_div_4_div_6_div_25_div_4_span_7_Template","CustomerCourseViewComponent_div_4_div_6_div_25_div_4_Template_button_click_11_listener","_r10","$implicit","viewLessonDetails","lessonId","topicId","j_r12","isFree","CustomerCourseViewComponent_div_4_div_6_div_25_div_4_Template","lessons","CustomerCourseViewComponent_div_4_div_6_span_12_Template","CustomerCourseViewComponent_div_4_div_6_Template_button_click_18_listener","i_r9","_r7","index","viewTopicDetails","CustomerCourseViewComponent_div_4_div_6_Template_button_click_22_listener","toggleTopic","CustomerCourseViewComponent_div_4_div_6_div_25_Template","getTopicFreeCount","ɵɵclassProp","inlineExpandedTopics","has","CustomerCourseViewComponent_div_4_div_1_Template","CustomerCourseViewComponent_div_4_div_2_Template","CustomerCourseViewComponent_div_4_div_3_Template","CustomerCourseViewComponent_div_4_div_5_Template","CustomerCourseViewComponent_div_4_div_6_Template","isViewingSpecificCourse","CustomerCourseViewComponent","constructor","router","route","categoryService","courseService","authService","topicService","lessonService","dialog","courses","loading","Set","ngOnInit","snapshot","paramMap","get","parseInt","loadSpecificCourse","loadCategories","loadCourses","getCourseById","subscribe","next","course","loadTopicsForCourse","error","console","getTopicsByCourseId","loadLessonsForTopics","topicRequests","map","topic","getLessonsByTopicId","toPromise","then","Promise","all","topicsWithLessons","catch","getAllCategories","filter","cat","isPublished","getAllCourses","clear","c","find","loadTopicsFromDatabase","topicLoaders","topicIndex","delete","add","event","stopPropagation","navigate","dialogRef","open","width","height","maxWidth","maxHeight","data","panelClass","autoFocus","restoreFocus","hasBackdrop","disableClose","afterClosed","result","log","getDisplayLessons","slice","category","reduce","total","totalMinutes","forEach","lesson","ɵɵdirectiveInject","i1","Router","ActivatedRoute","i2","CategoryService","i3","CourseService","i4","AuthService","i5","TopicService","LessonService","i6","MatDialog","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CustomerCourseViewComponent_Template","rf","ctx","CustomerCourseViewComponent_div_1_Template","CustomerCourseViewComponent_div_2_Template","CustomerCourseViewComponent_div_3_Template","CustomerCourseViewComponent_div_4_Template","CustomerCourseViewComponent_div_5_Template","i7","NgForOf","NgIf","TitleCasePipe","i8","NgControlStatus","NgModel","i9","MatFormField","MatLabel","i10","MatSelect","i11","MatOption","i12","MatIcon","i13","MatProgressSpinner","i14","MatButton","MatIconButton","styles","MAT_DIALOG_DATA","MatDividerModule","lessonDetail","durationMinutes","content","keynote_r2","relatedPlanet","relatedZodiac","LessonDetailModalComponent_div_15_div_18_div_7_div_7_span_1_Template","LessonDetailModalComponent_div_15_div_18_div_7_div_7_span_2_Template","LessonDetailModalComponent_div_15_div_18_div_7_div_7_span_3_Template","isImportant","LessonDetailModalComponent_div_15_div_18_div_7_div_7_Template","i_r3","LessonDetailModalComponent_div_15_div_18_div_7_Template","keynotes","getSortedKeynotes","videoUrl","audioUrl","documentUrl","LessonDetailModalComponent_div_15_div_19_a_4_Template","LessonDetailModalComponent_div_15_div_19_a_5_Template","LessonDetailModalComponent_div_15_div_19_a_6_Template","tag_r4","tagName","LessonDetailModalComponent_div_15_div_20_mat_chip_7_Template","tags","LessonDetailModalComponent_div_15_span_8_Template","LessonDetailModalComponent_div_15_div_17_Template","LessonDetailModalComponent_div_15_div_18_Template","LessonDetailModalComponent_div_15_div_19_Template","LessonDetailModalComponent_div_15_div_20_Template","orderNumber","loadLessonDetails","getLessonDetails","sort","a","b","orderSequence","undefined","keynoteId","close","MatDialogRef","LessonDetailModalComponent_Template","LessonDetailModalComponent_Template_button_click_3_listener","LessonDetailModalComponent_Template_button_click_10_listener","LessonDetailModalComponent_div_14_Template","LessonDetailModalComponent_div_15_Template","LessonDetailModalComponent_div_16_Template","LessonDetailModalComponent_Template_button_click_18_listener","MatDialogTitle","MatDialogActions","MatDialogContent","MatChip","MatChipSet"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}