{"version":3,"file":"src_app_pages_courses_customer-course-view_customer-course-view_component_ts.js","mappings":"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","sources":["./src/app/pages/courses/customer-course-view/customer-course-view.component.ts","./src/app/pages/courses/lesson-detail-modal/lesson-detail-modal.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule, MatDialog } from '@angular/material/dialog';\r\nimport { CategoryService, Category } from '../../../service/category.service';\r\nimport { CourseService, Course } from '../../../service/course.service';\r\nimport { AuthService } from '../../../service/auth.service';\r\nimport { TopicService, LessonService, Topic as TopicType, Lesson as LessonType } from '../../../service/lesson.service';\r\nimport { LessonDetailModalComponent } from '../lesson-detail-modal/lesson-detail-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-customer-course-view',\r\n  standalone: true,  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatCardModule,\r\n    MatChipsModule,\r\n    MatIconModule,\r\n    MatProgressSpinnerModule,\r\n    MatButtonModule,\r\n    MatDialogModule\r\n  ],\r\n  template: `\r\n    <div class=\"modern-customer-view\">      <!-- Hero Section -->\r\n      <div class=\"hero-section\">\r\n        <div class=\"hero-content\">\r\n          <h1 class=\"hero-title\">Discover Vedic Astrology</h1>\r\n          <p class=\"hero-subtitle\" *ngIf=\"!selectedCourse\">Explore ancient wisdom through our comprehensive courses</p>\r\n          <p class=\"hero-subtitle\" *ngIf=\"selectedCourse\">Master the ancient wisdom of {{selectedCourse.title}}</p>\r\n        </div>\r\n        <div class=\"hero-bg-pattern\"></div>\r\n      </div><!-- Filter Section (only show when not viewing specific course) -->\r\n      <div class=\"filter-section\" *ngIf=\"!isViewingSpecificCourse\">\r\n        <div class=\"filter-container\">\r\n          <div class=\"filter-group\">\r\n            <mat-form-field appearance=\"fill\" class=\"modern-select\">\r\n              <mat-label>Choose Category</mat-label>\r\n              <mat-select [(ngModel)]=\"selectedCategoryId\" (selectionChange)=\"onCategoryChange()\">\r\n                <mat-option *ngFor=\"let cat of categories\" [value]=\"cat.categoryId\">{{cat.name}}</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n            <mat-form-field appearance=\"fill\" class=\"modern-select\">\r\n              <mat-label>Choose Course</mat-label>\r\n              <mat-select [(ngModel)]=\"selectedCourseId\" (selectionChange)=\"onCourseChange()\" [disabled]=\"!selectedCategoryId\">\r\n                <mat-option *ngFor=\"let course of filteredCourses\" [value]=\"course.courseId\">{{course.title}}</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Loading -->\r\n      <div *ngIf=\"loading\" class=\"loading-section\">\r\n        <mat-progress-spinner mode=\"indeterminate\" color=\"primary\" diameter=\"60\"></mat-progress-spinner>\r\n        <p>Loading course content...</p>\r\n      </div>      <!-- Course Content -->\r\n      <div *ngIf=\"selectedCourse && !loading\" class=\"content-section\">\r\n        <!-- Course Heading with Integrated Thumbnail -->\r\n        <div class=\"course-heading-section\">\r\n          <div class=\"course-heading-content\">\r\n            <!-- Course Header with Image and Title -->\r\n            <div class=\"course-header-with-image\">\r\n              <div class=\"course-image-container\" *ngIf=\"selectedCourse.thumbnailUrl\">\r\n                <img [src]=\"selectedCourse.thumbnailUrl\" [alt]=\"selectedCourse.title\" class=\"course-image-integrated\">\r\n              </div>\r\n              <div class=\"course-title-info\">\r\n                <div class=\"course-breadcrumb\">\r\n                  <span class=\"breadcrumb-item\">{{getCategoryName(selectedCourse.categoryId)}}</span>\r\n                  <mat-icon class=\"breadcrumb-separator\">chevron_right</mat-icon>\r\n                  <span class=\"breadcrumb-item current\">{{selectedCourse.title}}</span>\r\n                </div>\r\n                <h1 class=\"course-main-title\">{{selectedCourse.title}}</h1>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"course-summary\">\r\n              <div class=\"course-stats\">\r\n                <div class=\"stat-item\">\r\n                  <mat-icon>menu_book</mat-icon>\r\n                  <span>{{getTotalLessonsCount()}} Lessons</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <mat-icon>schedule</mat-icon>\r\n                  <span>{{getTotalDuration()}} min</span>\r\n                </div>\r\n                <div class=\"stat-item\">\r\n                  <mat-icon>star</mat-icon>\r\n                  <span class=\"difficulty\">{{selectedCourse.difficultyLevel | titlecase}}</span>\r\n                </div>\r\n                <div class=\"stat-item\" *ngIf=\"selectedCourse.price\">\r\n                  <mat-icon>currency_rupee</mat-icon>\r\n                  <span>â‚¹{{selectedCourse.price}}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- Course Description -->\r\n            <div class=\"course-description-section\">\r\n              <p class=\"course-description\">{{selectedCourse.description}}</p>\r\n            </div>\r\n          </div>\r\n        </div><!-- Topics & Lessons -->\r\n        <div class=\"topics-container\">\r\n          <!-- Topics Header -->\r\n          <div class=\"topics-header\" *ngIf=\"topics.length > 0\">\r\n            <h3 class=\"topics-title\">Course Topics</h3>\r\n            <div class=\"topics-actions\">\r\n              <button \r\n                mat-raised-button \r\n                color=\"primary\" \r\n                class=\"expand-all-btn\"\r\n                (click)=\"expandAll()\"\r\n                *ngIf=\"inlineExpandedTopics.size < topics.length\">\r\n                <mat-icon>unfold_more</mat-icon>\r\n                Expand All\r\n              </button>\r\n              <button \r\n                mat-raised-button \r\n                color=\"accent\" \r\n                class=\"collapse-all-btn\"\r\n                (click)=\"collapseAll()\"\r\n                *ngIf=\"inlineExpandedTopics.size > 0\">\r\n                <mat-icon>unfold_less</mat-icon>\r\n                Collapse All\r\n              </button>\r\n            </div>\r\n          </div>          <div *ngFor=\"let topic of topics; let i = index\" class=\"topic-block\">\r\n            <div class=\"topic-header-modern\" (click)=\"toggleTopic(i)\">\r\n              <div class=\"topic-number\">{{i + 1}}</div>\r\n              <div class=\"topic-info\">\r\n                <h3 class=\"topic-title-modern\">{{topic.title}}</h3>\r\n                <p class=\"topic-desc-modern\">{{topic.description}} <span class=\"click-hint\">Click to expand</span></p>\r\n              </div>\r\n              <div class=\"topic-actions\">\r\n                <button mat-icon-button class=\"expand-button\" [class.expanded]=\"inlineExpandedTopics.has(i)\">\r\n                  <mat-icon>{{inlineExpandedTopics.has(i) ? 'expand_less' : 'expand_more'}}</mat-icon>\r\n                </button>\r\n                <button mat-icon-button class=\"detail-button\" (click)=\"viewTopicDetails(i, $event)\" title=\"View detailed lessons with keynotes and tags\">\r\n                  <mat-icon>open_in_new</mat-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- Topic Preview (when collapsed) -->\r\n            <div class=\"topic-preview\" *ngIf=\"!inlineExpandedTopics.has(i)\">\r\n              <div class=\"topic-stats\">\r\n                <span class=\"stat-item\">\r\n                  <mat-icon>menu_book</mat-icon>\r\n                  {{topic.lessons.length}} Lessons\r\n                </span>\r\n                <span class=\"stat-item\" *ngIf=\"getTopicDuration(topic) > 0\">\r\n                  <mat-icon>schedule</mat-icon>\r\n                  {{getTopicDuration(topic)}} min\r\n                </span>\r\n                <span class=\"stat-item\">\r\n                  <mat-icon>play_circle_filled</mat-icon>\r\n                  {{getTopicFreeCount(topic)}} Free\r\n                </span>\r\n              </div>\r\n              <p class=\"view-hint\">Click topic header to expand lessons or <mat-icon>open_in_new</mat-icon> for detailed view</p>\r\n            </div>\r\n\r\n            <!-- Expanded Topic Content (Inline) -->\r\n            <div class=\"lessons-grid\" \r\n                 [class.inline-expanded]=\"inlineExpandedTopics.has(i)\"\r\n                 *ngIf=\"inlineExpandedTopics.has(i)\">              <div class=\"lessons-header\">\r\n                <h4 class=\"lessons-section-title\">Lessons in this Topic</h4>\r\n              </div>\r\n                <div *ngFor=\"let lesson of topic.lessons; let j = index\" class=\"lesson-item\">\r\n                <div class=\"lesson-content\">\r\n                  <div class=\"lesson-header-modern\">\r\n                    <h4 class=\"lesson-title-modern\">{{lesson.title}}</h4>\r\n                    <div class=\"lesson-status\">\r\n                      <span class=\"status-badge\" [class]=\"lesson.isFree ? 'free' : 'premium'\">\r\n                        {{lesson.isFree ? 'Free' : 'Premium'}}\r\n                      </span>\r\n                      <span *ngIf=\"lesson.duration\" class=\"duration-badge\">{{lesson.duration}} min</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"lesson-desc-modern\" [innerHTML]=\"lesson.description\"></div>\r\n                  \r\n                  <div class=\"lesson-meta-info\">\r\n                    <span *ngIf=\"lesson.keynotes && lesson.keynotes.length > 0\" class=\"meta-item\">\r\n                      <mat-icon>lightbulb</mat-icon>\r\n                      {{lesson.keynotes.length}} Key Insights\r\n                    </span>\r\n                    <span *ngIf=\"lesson.tags && lesson.tags.length > 0\" class=\"meta-item\">\r\n                      <mat-icon>local_offer</mat-icon>\r\n                      {{lesson.tags.length}} Tags\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div class=\"lesson-actions\">\r\n                    <button mat-raised-button color=\"primary\" (click)=\"viewLessonDetails(lesson.lessonId, topic.topicId)\" class=\"view-lesson-details-btn\">\r\n                      <mat-icon>visibility</mat-icon>\r\n                      View Details\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- No Data -->\r\n      <div *ngIf=\"selectedCourseId && !selectedCourse && !loading\" class=\"no-data-modern\">\r\n        <mat-icon>search_off</mat-icon>\r\n        <h3>No course found</h3>\r\n        <p>Please try selecting a different course.</p>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .modern-customer-view {\r\n      min-height: 100vh;\r\n      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n    }\r\n\r\n    /* Hero Section */\r\n    .hero-section {\r\n      position: relative;\r\n      background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);\r\n      color: white;\r\n      padding: 80px 20px 60px;\r\n      text-align: center;\r\n      overflow: hidden;\r\n    }\r\n    \r\n    .hero-bg-pattern {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background-image: radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),\r\n                        radial-gradient(circle at 80% 20%, rgba(255,255,255,0.1) 0%, transparent 50%);\r\n      pointer-events: none;\r\n    }\r\n    \r\n    .hero-content {\r\n      position: relative;\r\n      z-index: 2;\r\n      max-width: 800px;\r\n      margin: 0 auto;\r\n    }\r\n    \r\n    .hero-title {\r\n      font-size: 3rem;\r\n      font-weight: 700;\r\n      margin-bottom: 16px;\r\n      background: linear-gradient(45deg, #fff, #ecf0f1);\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      background-clip: text;\r\n    }\r\n    \r\n    .hero-subtitle {\r\n      font-size: 1.2rem;\r\n      opacity: 0.9;\r\n      font-weight: 300;\r\n    }\r\n\r\n    /* Filter Section */\r\n    .filter-section {\r\n      background: white;\r\n      padding: 40px 20px;\r\n      box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n    }\r\n    \r\n    .filter-container {\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n    }\r\n    \r\n    .filter-group {\r\n      display: flex;\r\n      gap: 20px;\r\n      flex-wrap: wrap;\r\n      justify-content: center;\r\n    }\r\n    \r\n    .modern-select {\r\n      min-width: 250px;\r\n    }\r\n\r\n    /* Loading Section */\r\n    .loading-section {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 80px 20px;\r\n      color: #666;\r\n    }\r\n    \r\n    .loading-section p {\r\n      margin-top: 20px;\r\n      font-size: 1.1rem;\r\n    }    /* Content Section */\r\n    .content-section {\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n      padding: 0 20px 40px;\r\n    }    /* Course Header with Integrated Thumbnail */\r\n    .course-header-with-image {\r\n      display: flex;\r\n      gap: 24px;\r\n      align-items: flex-start;\r\n      margin-bottom: 24px;\r\n    }\r\n    \r\n    .course-image-container {\r\n      flex-shrink: 0;\r\n      width: 200px;\r\n    }\r\n    \r\n    .course-image-integrated {\r\n      width: 100%;\r\n      height: 150px;\r\n      object-fit: cover;\r\n      border-radius: 12px;\r\n      box-shadow: 0 4px 16px rgba(0,0,0,0.1);\r\n      transition: transform 0.3s ease;\r\n    }\r\n    \r\n    .course-image-integrated:hover {\r\n      transform: scale(1.02);\r\n    }\r\n    \r\n    .course-title-info {\r\n      flex: 1;\r\n      min-width: 0;\r\n    }\r\n    \r\n    .course-main-title {\r\n      font-size: 2rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 8px 0 0 0;\r\n      line-height: 1.2;\r\n    }\r\n\r\n    /* Course Heading */\r\n    .course-heading-section {\r\n      background: white;\r\n      border-radius: 12px;\r\n      padding: 40px;\r\n      margin: 40px 0;\r\n      box-shadow: 0 4px 20px rgba(0,0,0,0.1);\r\n    }\r\n    \r\n    .course-breadcrumb {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      margin-bottom: 20px;\r\n      font-size: 0.9rem;\r\n      color: #666;\r\n    }\r\n    \r\n    .breadcrumb-item.current {\r\n      color: #3f51b5;\r\n      font-weight: 500;\r\n    }\r\n      .breadcrumb-separator {\r\n      font-size: 16px;\r\n    }\r\n    \r\n    .course-summary {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-end;\r\n      flex-wrap: wrap;\r\n      gap: 20px;\r\n    }\r\n    \r\n    .course-stats {\r\n      display: flex;\r\n      gap: 16px;\r\n      flex-wrap: wrap;\r\n    }\r\n    \r\n    .stat-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      background: #f8f9fa;\r\n      padding: 12px 16px;\r\n      border-radius: 8px;\r\n      font-weight: 500;\r\n      color: #555;\r\n    }\r\n      .stat-item mat-icon {\r\n      color: #3f51b5;\r\n      font-size: 20px;\r\n    }\r\n\r\n    /* Course Description Section */\r\n    .course-description-section {\r\n      margin-top: 24px;\r\n      padding-top: 24px;\r\n      border-top: 1px solid #e9ecef;\r\n    }\r\n    \r\n    .course-description {\r\n      font-size: 1.1rem;\r\n      line-height: 1.6;\r\n      color: #666;\r\n      margin: 0;\r\n    }\r\n\r\n    /* Topics Container */\r\n    .topics-container {\r\n      background: white;\r\n      border-radius: 12px;\r\n      padding: 40px;\r\n      box-shadow: 0 4px 20px rgba(0,0,0,0.1);\r\n    }\r\n    \r\n    .topics-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 30px;\r\n      flex-wrap: wrap;\r\n      gap: 16px;\r\n    }\r\n    \r\n    .topics-title {\r\n      font-size: 2rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 0;\r\n    }\r\n    \r\n    .topics-actions {\r\n      display: flex;\r\n      gap: 12px;\r\n    }\r\n\r\n    /* Topic Blocks */\r\n    .topic-block {\r\n      margin-bottom: 24px;\r\n      border: 1px solid #e0e0e0;\r\n      border-radius: 12px;\r\n      overflow: hidden;\r\n      transition: all 0.3s ease;\r\n    }\r\n    \r\n    .topic-block:hover {\r\n      box-shadow: 0 4px 20px rgba(0,0,0,0.1);\r\n    }\r\n      .topic-header-modern {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      padding: 24px;\r\n      background: #f8f9fa;\r\n      cursor: pointer;\r\n      transition: background-color 0.3s ease;\r\n    }\r\n    \r\n    .topic-header-modern:hover {\r\n      background: #e9ecef;\r\n    }\r\n\r\n    .topic-info {\r\n      flex: 1;\r\n      min-width: 0;\r\n    }\r\n    \r\n    .topic-number {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 60px;\r\n      height: 60px;\r\n      background: linear-gradient(135deg, #3f51b5, #5c6bc0);\r\n      color: white;\r\n      border-radius: 50%;\r\n      font-size: 1.5rem;\r\n      font-weight: 700;\r\n      flex-shrink: 0;\r\n    }\r\n    \r\n    .topic-info {\r\n      flex: 1;\r\n    }\r\n    \r\n    .topic-title-modern {\r\n      font-size: 1.3rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 0 0 8px 0;\r\n    }\r\n    \r\n    .topic-desc-modern {\r\n      font-size: 1rem;\r\n      color: #666;\r\n      margin: 0;\r\n      line-height: 1.5;\r\n    }\r\n    \r\n    .expand-button {\r\n      transition: transform 0.3s ease;\r\n    }\r\n    \r\n    .expand-button.expanded {\r\n      transform: rotate(180deg);\r\n    }\r\n\r\n    /* Topic Preview */\r\n    .topic-preview {\r\n      padding: 20px 30px;\r\n      background: #f8f9ff;\r\n      border-top: 1px solid #e0e7ff;\r\n    }\r\n\r\n    .topic-stats {\r\n      display: flex;\r\n      gap: 20px;\r\n      margin-bottom: 12px;\r\n      flex-wrap: wrap;\r\n    }\r\n\r\n    .topic-stats .stat-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 6px;\r\n      color: #666;\r\n      font-size: 0.9rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .topic-stats .stat-item mat-icon {\r\n      font-size: 1rem;\r\n      width: 1rem;\r\n      height: 1rem;\r\n      color: #667eea;\r\n    }\r\n\r\n    .view-hint {\r\n      margin: 0;\r\n      font-size: 0.9rem;\r\n      color: #888;\r\n      font-style: italic;\r\n    }\r\n\r\n    /* Lessons Grid */\r\n    .lessons-grid {\r\n      padding: 0;\r\n      background: white;\r\n    }\r\n    \r\n    .lessons-grid.inline-expanded {\r\n      padding: 24px;\r\n      border-top: 1px solid #e0e0e0;\r\n    }\r\n    \r\n    .lesson-item {\r\n      border-bottom: 1px solid #f0f0f0;\r\n      transition: all 0.3s ease;\r\n    }\r\n    \r\n    .lesson-item:last-child {\r\n      border-bottom: none;\r\n    }\r\n    \r\n    .lesson-item:hover {\r\n      background: #f8f9fa;\r\n    }\r\n    \r\n    .lesson-content {\r\n      padding: 20px 24px;\r\n    }\r\n    \r\n    .lesson-header-modern {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      margin-bottom: 12px;\r\n      gap: 16px;\r\n    }\r\n    \r\n    .lesson-title-modern {\r\n      font-size: 1.1rem;\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      margin: 0;\r\n      flex: 1;\r\n    }\r\n    \r\n    .lesson-status {\r\n      display: flex;\r\n      gap: 8px;\r\n      flex-shrink: 0;\r\n    }\r\n    \r\n    .status-badge {\r\n      padding: 4px 12px;\r\n      border-radius: 12px;\r\n      font-size: 0.8rem;\r\n      font-weight: 600;\r\n      text-transform: uppercase;\r\n    }\r\n    \r\n    .status-badge.free {\r\n      background: #e8f5e8;\r\n      color: #2e7d32;\r\n    }\r\n    \r\n    .status-badge.premium {\r\n      background: #fff3e0;\r\n      color: #f57c00;\r\n    }\r\n    \r\n    .duration-badge {\r\n      padding: 2px 8px;\r\n      background: #f0f4ff;\r\n      color: #667eea;\r\n      border-radius: 8px;\r\n      font-size: 0.75rem;\r\n      font-weight: 500;\r\n      margin-left: 8px;\r\n    }\r\n    \r\n    .lesson-desc-modern {\r\n      font-size: 0.95rem;\r\n      color: #666;\r\n      line-height: 1.6;\r\n      margin: 0;\r\n    }\r\n    \r\n    .lesson-desc-preview {\r\n      max-height: 60px;\r\n      overflow: hidden;\r\n      position: relative;\r\n    }\r\n    \r\n    .lesson-desc-preview::after {\r\n      content: '';\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      right: 0;\r\n      height: 20px;\r\n      background: linear-gradient(transparent, white);\r\n    }\r\n    \r\n    .lesson-preview {\r\n      opacity: 0.8;\r\n      transition: opacity 0.3s ease;\r\n    }\r\n    \r\n    .lesson-preview:hover {\r\n      opacity: 1;\r\n    }\r\n\r\n    /* Keynotes */\r\n    .keynotes-modern {\r\n      margin-top: 20px;\r\n      padding-top: 16px;\r\n      border-top: 1px solid #f0f0f0;\r\n    }\r\n    \r\n    .section-title {\r\n      font-size: 0.9rem;\r\n      font-weight: 600;\r\n      color: #3f51b5;\r\n      margin: 0 0 12px 0;\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n    }\r\n    \r\n    .keynotes-list {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 12px;\r\n    }\r\n    \r\n    .keynote-item {\r\n      background: #f8f9fa;\r\n      border-radius: 8px;\r\n      padding: 12px;\r\n      border-left: 3px solid #3f51b5;\r\n    }\r\n    \r\n    .keynote-item.important {\r\n      border-left-color: #ff5722;\r\n      background: #fff3e0;\r\n    }\r\n    \r\n    .keynote-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      margin-bottom: 8px;\r\n      gap: 12px;\r\n    }\r\n    \r\n    .keynote-title-modern {\r\n      font-weight: 600;\r\n      color: #2c3e50;\r\n      font-size: 0.9rem;\r\n    }\r\n    \r\n    .keynote-meta {\r\n      display: flex;\r\n      gap: 6px;\r\n    }\r\n    \r\n    .meta-tag {\r\n      padding: 2px 8px;\r\n      border-radius: 12px;\r\n      font-size: 0.75rem;\r\n      font-weight: 500;\r\n    }\r\n    \r\n    .meta-tag.planet {\r\n      background: #e8f5e8;\r\n      color: #2e7d32;\r\n    }\r\n    \r\n    .meta-tag.zodiac {\r\n      background: #e3f2fd;\r\n      color: #1976d2;\r\n    }\r\n    \r\n    .keynote-content-modern {\r\n      font-size: 0.85rem;\r\n      color: #666;\r\n      line-height: 1.5;\r\n    }\r\n\r\n    /* Tags */\r\n    .tags-modern {\r\n      margin-top: 16px;\r\n      padding-top: 12px;\r\n      border-top: 1px solid #f0f0f0;\r\n    }\r\n    \r\n    .tag-list {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      gap: 6px;\r\n    }\r\n    \r\n    .tag-modern {\r\n      padding: 4px 10px;\r\n      background: #e9ecef;\r\n      color: #495057;\r\n      border-radius: 12px;\r\n      font-size: 0.8rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    /* More Lessons Indicator */\r\n    .more-lessons-indicator {\r\n      text-align: center;\r\n      padding: 16px;\r\n      background: #f8f9fa;\r\n      border-radius: 8px;\r\n      margin: 12px 24px;\r\n      color: #666;\r\n      font-style: italic;\r\n    }\r\n    \r\n    .click-hint {\r\n      color: #ff6b6b;\r\n      font-weight: 500;\r\n    }\r\n\r\n    /* No Data */\r\n    .no-data-modern {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 80px 20px;\r\n      color: #666;\r\n      text-align: center;\r\n    }\r\n    \r\n    .no-data-modern mat-icon {\r\n      font-size: 64px;\r\n      width: 64px;\r\n      height: 64px;\r\n      margin-bottom: 20px;\r\n      color: #ccc;\r\n    }\r\n    \r\n    .no-data-modern h3 {\r\n      font-size: 1.5rem;\r\n      margin-bottom: 8px;\r\n    }\r\n\r\n    /* Topic Actions */\r\n    .topic-actions {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n    }\r\n\r\n    .detail-button {\r\n      color: #667eea !important;\r\n      background: rgba(102, 126, 234, 0.1);\r\n    }\r\n\r\n    .detail-button:hover {\r\n      background: rgba(102, 126, 234, 0.2);\r\n    }\r\n\r\n    /* Lessons Header */\r\n    .lessons-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 16px 0;\r\n      border-bottom: 2px solid #e0e7ff;\r\n      margin-bottom: 16px;\r\n    }\r\n\r\n    .lessons-section-title {\r\n      font-size: 1.2rem;\r\n      font-weight: 600;\r\n      color: #333;\r\n      margin: 0;\r\n    }\r\n\r\n    .view-details-btn {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      font-size: 0.9rem;\r\n    }    /* Lesson Meta Info */\r\n    .lesson-meta-info {\r\n      display: flex;\r\n      gap: 16px;\r\n      margin-top: 12px;\r\n      padding-top: 12px;\r\n      border-top: 1px solid #f0f4ff;\r\n    }\r\n\r\n    .meta-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n      color: #666;\r\n      font-size: 0.85rem;\r\n    }\r\n\r\n    .meta-item mat-icon {\r\n      font-size: 1rem;\r\n      width: 1rem;\r\n      height: 1rem;\r\n      color: #667eea;\r\n    }\r\n\r\n    /* Lesson Actions */\r\n    .lesson-actions {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n      margin-top: 16px;\r\n      padding-top: 12px;\r\n      border-top: 1px solid #f0f4ff;\r\n    }\r\n\r\n    .view-lesson-details-btn {\r\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\r\n      color: white !important;\r\n      font-weight: 600 !important;\r\n      padding: 8px 16px !important;\r\n      border-radius: 20px !important;\r\n      font-size: 0.9rem !important;\r\n      transition: all 0.3s ease !important;\r\n      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3) !important;\r\n    }\r\n\r\n    .view-lesson-details-btn:hover {\r\n      transform: translateY(-2px) !important;\r\n      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4) !important;\r\n    }\r\n\r\n    .view-lesson-details-btn mat-icon {\r\n      margin-right: 4px !important;\r\n      font-size: 1.1rem !important;\r\n    }    /* Responsive Design */\r\n    @media (max-width: 768px) {\r\n      .hero-title {\r\n        font-size: 2rem;\r\n      }\r\n      \r\n      .filter-group {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n      }\r\n      \r\n      .modern-select {\r\n        min-width: auto;\r\n      }\r\n      \r\n      .course-header-with-image {\r\n        flex-direction: column;\r\n        gap: 16px;\r\n      }\r\n      \r\n      .course-image-container {\r\n        width: 100%;\r\n      }\r\n      \r\n      .course-image-integrated {\r\n        height: 200px;\r\n      }\r\n      \r\n      .course-main-title {\r\n        font-size: 1.5rem;\r\n      }\r\n        .course-heading-section,\r\n      .topics-container {\r\n        padding: 24px;\r\n        margin: 24px 0;\r\n      }\r\n      \r\n      .course-summary {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n      }\r\n      \r\n      .course-stats {\r\n        justify-content: center;\r\n      }\r\n      \r\n      .topics-header {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n      }\r\n      \r\n      .topics-actions {\r\n        justify-content: center;\r\n      }\r\n      \r\n      .topic-header-modern {\r\n        padding: 16px;\r\n      }\r\n      \r\n      .lesson-content {\r\n        padding: 16px;\r\n      }\r\n    }\r\n  `]\r\n})\r\nexport class CustomerCourseViewComponent implements OnInit {\r\n  categories: Category[] = [];\r\n  courses: Course[] = [];\r\n  filteredCourses: Course[] = [];\r\n  topics: TopicType[] = [];\r\n  selectedCategoryId: number | null = null;\r\n  selectedCourseId: number | null = null;\r\n  selectedCourse: Course | null = null;\r\n  loading = false;\r\n  isViewingSpecificCourse = false;\r\n  inlineExpandedTopics = new Set<number>();  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private categoryService: CategoryService,\r\n    private courseService: CourseService,\r\n    private authService: AuthService,\r\n    private topicService: TopicService,\r\n    private lessonService: LessonService,\r\n    private dialog: MatDialog\r\n  ) {}ngOnInit() {\r\n    // Get courseId from route parameter\r\n    const courseId = this.route.snapshot.paramMap.get('id');\r\n    if (courseId) {\r\n      this.isViewingSpecificCourse = true;\r\n      this.selectedCourseId = parseInt(courseId, 10);\r\n      this.loadSpecificCourse(this.selectedCourseId);\r\n    } else {\r\n      this.isViewingSpecificCourse = false;\r\n      // Fallback to original behavior if no courseId in route\r\n      this.loadCategories();\r\n      this.loadCourses();\r\n    }\r\n  }\r\n\r\n  loadSpecificCourse(courseId: number) {\r\n    this.loading = true;\r\n    \r\n    // Load the specific course\r\n    this.courseService.getCourseById(courseId).subscribe({\r\n      next: (course) => {\r\n        this.selectedCourse = course;\r\n        this.selectedCategoryId = course.categoryId;\r\n        this.loadCategories();\r\n        this.loadTopicsForCourse(courseId);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading course:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadTopicsForCourse(courseId: number) {\r\n    this.topicService.getTopicsByCourseId(courseId).subscribe({\r\n      next: (topics) => {\r\n        this.loadLessonsForTopics(topics);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading topics:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadLessonsForTopics(topics: TopicType[]) {\r\n    const topicRequests = topics.map(topic =>\r\n      this.lessonService.getLessonsByTopicId(topic.topicId).toPromise().then(lessons => {\r\n        return { ...topic, lessons: lessons || [] };\r\n      })\r\n    );\r\n\r\n    Promise.all(topicRequests).then(topicsWithLessons => {\r\n      this.topics = topicsWithLessons;\r\n      this.loading = false;\r\n    }).catch(error => {\r\n      console.error('Error loading lessons:', error);\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  loadCategories() {\r\n    this.categoryService.getAllCategories().subscribe({\r\n      next: (categories) => {\r\n        this.categories = categories.filter(cat => cat.isPublished);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading categories:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadCourses() {\r\n    this.courseService.getAllCourses().subscribe({\r\n      next: (courses) => {\r\n        this.courses = courses.filter(course => course.isPublished);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading courses:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  onCategoryChange() {\r\n    this.selectedCourseId = null;\r\n    this.selectedCourse = null;\r\n    this.topics = [];\r\n    this.inlineExpandedTopics.clear();\r\n    this.filteredCourses = this.courses.filter(c => c.categoryId === this.selectedCategoryId);\r\n  }\r\n  onCourseChange() {\r\n    this.selectedCourse = this.courses.find(c => c.courseId === this.selectedCourseId) || null;\r\n    this.topics = [];\r\n    this.inlineExpandedTopics.clear();\r\n    \r\n    if (this.selectedCourseId) {\r\n      this.loading = true;\r\n      // Load topics from the database\r\n      this.loadTopicsFromDatabase();\r\n    }\r\n  }\r\n\r\n  private loadTopicsFromDatabase() {\r\n    this.topicService.getTopicsByCourseId(this.selectedCourseId!).subscribe({\r\n      next: (topics) => {\r\n        // Load lessons for each topic\r\n        const topicLoaders = topics.map(topic => \r\n          this.lessonService.getLessonsByTopicId(topic.topicId).subscribe({\r\n            next: (lessons) => {\r\n              topic.lessons = lessons;\r\n            },\r\n            error: (error) => {\r\n              console.error(`Error loading lessons for topic ${topic.topicId}:`, error);\r\n              topic.lessons = [];\r\n            }\r\n          })\r\n        );\r\n        \r\n        this.topics = topics;\r\n        this.loading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading topics:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }  toggleTopic(topicIndex: number) {\r\n    // Toggle inline expansion for showing lesson titles\r\n    if (this.inlineExpandedTopics.has(topicIndex)) {\r\n      this.inlineExpandedTopics.delete(topicIndex);\r\n    } else {\r\n      this.inlineExpandedTopics.add(topicIndex);\r\n    }\r\n  }\r\n  viewTopicDetails(topicIndex: number, event: Event) {\r\n    // Prevent event bubbling to avoid triggering toggleTopic\r\n    event.stopPropagation();\r\n    \r\n    // Navigate to the topic detail view for full content with keynotes and tags\r\n    const topic = this.topics[topicIndex];\r\n    if (topic) {\r\n      this.router.navigate(['/topic', topic.topicId]);\r\n    }\r\n  }  viewLessonDetails(lessonId: number, topicId: number) {\r\n    // Open lesson details in a full-screen modal/overlay\r\n    const dialogRef = this.dialog.open(LessonDetailModalComponent, {\r\n      width: '100vw',\r\n      height: '100vh',\r\n      maxWidth: '100vw',\r\n      maxHeight: '100vh',\r\n      data: { \r\n        lessonId: lessonId, \r\n        topicId: topicId, \r\n        courseId: this.selectedCourseId \r\n      },\r\n      panelClass: 'lesson-detail-modal-fullscreen',\r\n      autoFocus: false,\r\n      restoreFocus: false,\r\n      hasBackdrop: true,\r\n      disableClose: false\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      // Handle any actions after modal closes if needed\r\n      console.log('Lesson detail modal closed');\r\n    });\r\n  }\r\n\r\n  expandAll() {\r\n    this.topics.forEach((_, index) => {\r\n      this.inlineExpandedTopics.add(index);\r\n    });\r\n  }\r\n\r\n  collapseAll() {\r\n    this.inlineExpandedTopics.clear();\r\n  }\r\n  getDisplayLessons(topic: TopicType, topicIndex: number) {\r\n    return this.inlineExpandedTopics.has(topicIndex) ? topic.lessons : topic.lessons.slice(0, 2);\r\n  }\r\n\r\n  getCategoryName(categoryId: number): string {\r\n    const category = this.categories.find(cat => cat.categoryId === categoryId);\r\n    return category ? category.name : 'Unknown Category';\r\n  }\r\n\r\n  getTotalLessonsCount(): number {\r\n    return this.topics.reduce((total, topic) => total + topic.lessons.length, 0);\r\n  }\r\n\r\n  getTotalDuration(): number {\r\n    let totalMinutes = 0;\r\n    this.topics.forEach(topic => {\r\n      topic.lessons.forEach(lesson => {\r\n        if (lesson.duration) {\r\n          totalMinutes += lesson.duration;\r\n        }\r\n      });\r\n    });\r\n    return totalMinutes;\r\n  }\r\n  getTopicDuration(topic: any): number {\r\n    return topic.lessons.reduce((total: number, lesson: any) => total + (lesson.duration || 0), 0);\r\n  }\r\n  getTopicFreeCount(topic: any): number {\r\n    return topic.lessons.filter((lesson: any) => lesson.isFree).length;\r\n  }\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialogModule } from '@angular/material/dialog';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { LessonService } from '../../../service/lesson.service';\r\n\r\ninterface LessonKeynote {\r\n  keynoteId: number;\r\n  lessonId: number;\r\n  title: string;\r\n  content: string;\r\n  contentType?: string;\r\n  orderSequence?: number;\r\n  isImportant: boolean;\r\n  hasVisualAid?: boolean;\r\n  visualAidUrl?: string;\r\n  relatedPlanet?: string;\r\n  relatedZodiac?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface Tag {\r\n  tagId: number;\r\n  tagName: string;\r\n  tagCategory?: string;\r\n  description?: string;\r\n  createdByUserId?: number;\r\n  statusFlag?: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface LessonDetail {\r\n  lessonId: number;\r\n  title: string;\r\n  description: string;\r\n  content: string;\r\n  topicId: number;\r\n  orderNumber: number;\r\n  isFree: boolean;\r\n  durationMinutes: number;\r\n  videoUrl?: string;\r\n  audioUrl?: string;\r\n  documentUrl?: string;\r\n  isPublished: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  keynotes: LessonKeynote[];\r\n  tags: Tag[];\r\n}\r\n\r\n@Component({\r\n  selector: 'app-lesson-detail-modal',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    MatDialogModule,\r\n    MatCardModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatChipsModule,\r\n    MatProgressSpinnerModule,\r\n    MatDividerModule\r\n  ],  template: `\r\n    <div class=\"lesson-modal-wrapper\">\r\n      <div class=\"lesson-modal-header\">\r\n        <div class=\"header-left\">\r\n          <button mat-icon-button (click)=\"close()\" class=\"back-button\" title=\"Back\">\r\n            <mat-icon>arrow_back</mat-icon>\r\n          </button>\r\n          <h2 mat-dialog-title>\r\n            <mat-icon>school</mat-icon>\r\n            Lesson Details\r\n          </h2>\r\n        </div>\r\n        <button mat-icon-button (click)=\"close()\" class=\"close-button\" title=\"Close\">\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n\r\n      <mat-dialog-content class=\"lesson-modal-content\">\r\n        <!-- Loading State -->\r\n        <div *ngIf=\"loading\" class=\"loading-container\">\r\n          <mat-progress-spinner mode=\"indeterminate\" diameter=\"40\"></mat-progress-spinner>\r\n          <p>Loading lesson details...</p>\r\n        </div>\r\n\r\n        <!-- Lesson Content -->\r\n        <div *ngIf=\"!loading && lessonDetail\" class=\"lesson-content\">\r\n          <!-- Lesson Header -->\r\n          <div class=\"lesson-header\">\r\n            <div class=\"lesson-number\">{{ lessonDetail.orderNumber }}</div>\r\n            <div class=\"lesson-info\">\r\n              <h3 class=\"lesson-title\">{{ lessonDetail.title }}</h3>\r\n              <div class=\"lesson-meta\">\r\n                <span class=\"lesson-duration\" *ngIf=\"lessonDetail.durationMinutes\">\r\n                  <mat-icon>schedule</mat-icon>\r\n                  {{ lessonDetail.durationMinutes }} minutes\r\n                </span>\r\n                <span class=\"lesson-status\" [class]=\"lessonDetail.isFree ? 'free' : 'premium'\">\r\n                  <mat-icon>{{ lessonDetail.isFree ? 'card_giftcard' : 'star' }}</mat-icon>\r\n                  {{ lessonDetail.isFree ? 'Free' : 'Premium' }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Lesson Description -->\r\n          <div class=\"lesson-description\">\r\n            <h4>Description</h4>\r\n            <div class=\"description-content\" [innerHTML]=\"lessonDetail.description\"></div>\r\n          </div>\r\n\r\n          <!-- Lesson Content -->\r\n          <div *ngIf=\"lessonDetail.content\" class=\"lesson-main-content\">\r\n            <h4>Content</h4>\r\n            <div class=\"content-body\" [innerHTML]=\"lessonDetail.content\"></div>\r\n          </div>\r\n\r\n          <!-- Key Insights -->\r\n          <div *ngIf=\"lessonDetail.keynotes && lessonDetail.keynotes.length > 0\" class=\"key-insights-section\">\r\n            <h4>\r\n+              <mat-icon>lightbulb</mat-icon>\r\n              Key Insights ({{ lessonDetail.keynotes.length }})\r\n            </h4>\r\n            <div class=\"keynotes-container\">\r\n              <div *ngFor=\"let keynote of getSortedKeynotes(); let i = index\" \r\n                   class=\"keynote-card\" [class.important]=\"keynote.isImportant\">\r\n                <div class=\"keynote-header\">\r\n                  <span class=\"keynote-number\">{{ i + 1 }}</span>\r\n                  <h5 class=\"keynote-title\">{{ keynote.title }}</h5>\r\n                </div>\r\n                <div class=\"keynote-content\" [innerHTML]=\"keynote.content\"></div>\r\n                <div class=\"keynote-badges\" *ngIf=\"keynote.isImportant || keynote.relatedPlanet || keynote.relatedZodiac\">\r\n                  <span *ngIf=\"keynote.isImportant\" class=\"important-badge\">Important</span>\r\n                  <span *ngIf=\"keynote.relatedPlanet\" class=\"planet-badge\">{{ keynote.relatedPlanet }}</span>\r\n                  <span *ngIf=\"keynote.relatedZodiac\" class=\"zodiac-badge\">{{ keynote.relatedZodiac }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Media Resources -->\r\n          <div class=\"media-section\" *ngIf=\"lessonDetail.videoUrl || lessonDetail.audioUrl || lessonDetail.documentUrl\">\r\n            <h4>Resources</h4>\r\n            <div class=\"media-grid\">\r\n              <a *ngIf=\"lessonDetail.videoUrl\" [href]=\"lessonDetail.videoUrl\" target=\"_blank\" class=\"media-card video\">\r\n                <mat-icon>play_circle_filled</mat-icon>\r\n                <span>Video</span>\r\n              </a>\r\n              <a *ngIf=\"lessonDetail.audioUrl\" [href]=\"lessonDetail.audioUrl\" target=\"_blank\" class=\"media-card audio\">\r\n                <mat-icon>headphones</mat-icon>\r\n                <span>Audio</span>\r\n              </a>\r\n              <a *ngIf=\"lessonDetail.documentUrl\" [href]=\"lessonDetail.documentUrl\" target=\"_blank\" class=\"media-card document\">\r\n                <mat-icon>description</mat-icon>\r\n                <span>Document</span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Tags -->\r\n          <div *ngIf=\"lessonDetail.tags && lessonDetail.tags.length > 0\" class=\"tags-section\">\r\n            <h4>\r\n              <mat-icon>local_offer</mat-icon>\r\n              Tags\r\n            </h4>\r\n            <div class=\"tags-container\">\r\n              <mat-chip-set>\r\n                <mat-chip *ngFor=\"let tag of lessonDetail.tags\">{{ tag.tagName }}</mat-chip>\r\n              </mat-chip-set>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Error State -->\r\n        <div *ngIf=\"!loading && !lessonDetail\" class=\"error-container\">\r\n          <mat-icon class=\"error-icon\">error_outline</mat-icon>\r\n          <h3>Lesson not found</h3>\r\n          <p>The requested lesson could not be loaded.</p>\r\n        </div>\r\n      </mat-dialog-content>\r\n\r\n      <mat-dialog-actions align=\"end\">\r\n        <button mat-button (click)=\"close()\">Close</button>\r\n      </mat-dialog-actions>\r\n    </div>  `,\r\n  styles: [`    .lesson-modal-wrapper {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      height: 100%;\r\n      max-height: 100vh;\r\n    }\r\n\r\n    .lesson-modal-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 16px 24px;\r\n      border-bottom: 1px solid #e0e0e0;\r\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n      color: white;\r\n      min-height: 60px;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.15);\r\n      flex-shrink: 0;\r\n      z-index: 10;\r\n    }\r\n\r\n    .header-left {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 12px;\r\n    }\r\n\r\n    .back-button {\r\n      color: white !important;\r\n      background: rgba(255, 255, 255, 0.1) !important;\r\n      border: 1px solid rgba(255, 255, 255, 0.2) !important;\r\n      border-radius: 50% !important;\r\n      width: 40px !important;\r\n      height: 40px !important;\r\n      display: flex !important;\r\n      align-items: center;\r\n      justify-content: center;\r\n      transition: all 0.3s ease;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n    }\r\n\r\n    .back-button:hover {\r\n      background: rgba(255, 255, 255, 0.2) !important;\r\n      transform: translateX(-2px);\r\n      box-shadow: 0 4px 8px rgba(0,0,0,0.3);\r\n    }\r\n\r\n    .back-button mat-icon {\r\n      font-size: 20px;\r\n      width: 20px;\r\n      height: 20px;\r\n    }\r\n\r\n    .lesson-modal-header h2 {\r\n      margin: 0;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      font-size: 1.3rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .close-button {\r\n      color: white !important;\r\n      opacity: 0.8;\r\n      transition: opacity 0.3s ease;\r\n    }\r\n\r\n    .close-button:hover {\r\n      opacity: 1;\r\n      background: rgba(255, 255, 255, 0.1) !important;\r\n    }    .lesson-modal-content {\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      overflow-x: hidden;\r\n      padding: 24px 32px;\r\n      background: #fafbfc;\r\n      max-height: calc(100vh - 140px);\r\n    }\r\n\r\n    .loading-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      padding: 60px 20px;\r\n      text-align: center;\r\n    }\r\n\r\n    .loading-container p {\r\n      margin-top: 16px;\r\n      color: #666;\r\n      font-size: 0.95rem;\r\n    }\r\n\r\n    .lesson-content {\r\n      animation: fadeIn 0.3s ease-in;\r\n      max-width: 1000px;\r\n      margin: 0 auto;\r\n    }\r\n\r\n    @keyframes fadeIn {\r\n      from { opacity: 0; transform: translateY(10px); }\r\n      to { opacity: 1; transform: translateY(0); }\r\n    }\r\n\r\n    .lesson-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 20px;\r\n      padding: 24px;\r\n      background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);\r\n      border-radius: 16px;\r\n      margin-bottom: 28px;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.08);\r\n      border: 1px solid #e8eafd;\r\n    }\r\n\r\n    .lesson-number {\r\n      width: 48px;\r\n      height: 48px;\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      color: white;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-weight: 600;\r\n      font-size: 1.1rem;\r\n      flex-shrink: 0;\r\n      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\r\n    }\r\n\r\n    .lesson-title {\r\n      font-size: 1.4rem;\r\n      font-weight: 600;\r\n      margin: 0 0 8px 0;\r\n      color: #2d3748;\r\n      line-height: 1.3;\r\n    }\r\n\r\n    .lesson-meta {\r\n      display: flex;\r\n      gap: 12px;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n    }\r\n\r\n    .lesson-duration, .lesson-status {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 6px;\r\n      padding: 6px 12px;\r\n      border-radius: 16px;\r\n      font-size: 0.85rem;\r\n      font-weight: 500;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n    }\r\n\r\n    .lesson-duration {\r\n      background: #e3f2fd;\r\n      color: #1976d2;\r\n      border: 1px solid #bbdefb;\r\n    }\r\n\r\n    .lesson-status.free {\r\n      background: #e8f5e8;\r\n      color: #2e7d32;\r\n      border: 1px solid #c8e6c9;\r\n    }\r\n\r\n    .lesson-status.premium {\r\n      background: #fff3e0;\r\n      color: #f57c00;\r\n      border: 1px solid #ffcc02;\r\n    }\r\n\r\n    .lesson-description, .lesson-main-content, .key-insights-section, .media-section, .tags-section {\r\n      margin-bottom: 32px;\r\n    }\r\n\r\n    .lesson-description h4, \r\n    .lesson-main-content h4, \r\n    .key-insights-section h4, \r\n    .media-section h4, \r\n    .tags-section h4 {\r\n      font-size: 1.2rem;\r\n      font-weight: 600;\r\n      color: #2d3748;\r\n      margin: 0 0 16px 0;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 10px;\r\n      padding-bottom: 12px;\r\n      border-bottom: 2px solid #e0e7ff;\r\n    }\r\n\r\n    .description-content, .content-body {\r\n      background: white;\r\n      padding: 20px;\r\n      border-radius: 12px;\r\n      border-left: 4px solid #667eea;\r\n      line-height: 1.6;\r\n      color: #4a5568;\r\n      font-size: 0.95rem;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.06);\r\n      border: 1px solid #e2e8f0;\r\n    }\r\n\r\n    .keynotes-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 16px;\r\n    }\r\n\r\n    .keynote-card {\r\n      background: white;\r\n      border-radius: 12px;\r\n      padding: 20px;\r\n      border-left: 4px solid #e0e7ff;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.08);\r\n      border: 1px solid #e2e8f0;\r\n      transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n    }\r\n\r\n    .keynote-card:hover {\r\n      transform: translateY(-1px);\r\n      box-shadow: 0 4px 16px rgba(0,0,0,0.12);\r\n    }\r\n\r\n    .keynote-card.important {\r\n      border-left-color: #ff6b6b;\r\n      background: linear-gradient(135deg, #fff8f8 0%, #ffffff 100%);\r\n      border-color: #fed7d7;\r\n    }\r\n\r\n    .keynote-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 14px;\r\n      margin-bottom: 12px;\r\n    }\r\n\r\n    .keynote-number {\r\n      width: 28px;\r\n      height: 28px;\r\n      background: linear-gradient(135deg, #667eea, #764ba2);\r\n      color: white;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-size: 0.85rem;\r\n      font-weight: 600;\r\n      flex-shrink: 0;\r\n      box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);\r\n    }\r\n\r\n    .keynote-title {\r\n      font-size: 1.05rem;\r\n      font-weight: 600;\r\n      margin: 0;\r\n      color: #2d3748;\r\n      line-height: 1.3;\r\n    }\r\n\r\n    .keynote-content {\r\n      line-height: 1.5;\r\n      color: #4a5568;\r\n      margin-bottom: 12px;\r\n      font-size: 0.9rem;\r\n    }\r\n\r\n    .keynote-badges {\r\n      display: flex;\r\n      gap: 8px;\r\n      flex-wrap: wrap;\r\n    }\r\n\r\n    .important-badge, .planet-badge, .zodiac-badge {\r\n      padding: 4px 8px;\r\n      border-radius: 12px;\r\n      font-size: 0.75rem;\r\n      font-weight: 500;\r\n      border: 1px solid;\r\n    }\r\n\r\n    .important-badge {\r\n      background: #ffebee;\r\n      color: #c62828;\r\n      border-color: #ffcdd2;\r\n    }\r\n\r\n    .planet-badge {\r\n      background: #fff3e0;\r\n      color: #ef6c00;\r\n      border-color: #ffcc02;\r\n    }\r\n\r\n    .zodiac-badge {\r\n      background: #f3e5f5;\r\n      color: #7b1fa2;\r\n      border-color: #ce93d8;\r\n    }\r\n\r\n    .media-grid {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\r\n      gap: 16px;\r\n    }\r\n\r\n    .media-card {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      padding: 20px;\r\n      background: white;\r\n      border-radius: 12px;\r\n      text-decoration: none;\r\n      color: #333;\r\n      border: 2px solid transparent;\r\n      transition: all 0.3s ease;\r\n      text-align: center;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.08);\r\n      border: 1px solid #e2e8f0;\r\n    }\r\n\r\n    .media-card:hover {\r\n      transform: translateY(-3px);\r\n      box-shadow: 0 6px 20px rgba(0,0,0,0.15);\r\n      border-color: #667eea;\r\n    }\r\n\r\n    .media-card mat-icon {\r\n      font-size: 2.2rem;\r\n      width: 2.2rem;\r\n      height: 2.2rem;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .media-card.video mat-icon { color: #ff4444; }\r\n    .media-card.audio mat-icon { color: #9c27b0; }\r\n    .media-card.document mat-icon { color: #2196f3; }\r\n\r\n    .media-card span {\r\n      font-size: 0.9rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .tags-container {\r\n      margin-top: 12px;\r\n    }\r\n\r\n    .tags-container mat-chip {\r\n      background: #e0e7ff !important;\r\n      color: #5b21b6 !important;\r\n      border: 1px solid #c4b5fd !important;\r\n      margin: 4px !important;\r\n    }\r\n\r\n    .error-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      padding: 60px 20px;\r\n      text-align: center;\r\n    }\r\n\r\n    .error-icon {\r\n      font-size: 3.5rem;\r\n      width: 3.5rem;\r\n      height: 3.5rem;\r\n      color: #ff5722;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .error-container h3 {\r\n      color: #2d3748;\r\n      margin-bottom: 8px;\r\n    }\r\n\r\n    .error-container p {\r\n      color: #718096;\r\n    }    /* Mobile optimizations */\r\n    @media (max-width: 768px) {\r\n      .lesson-modal-content {\r\n        padding: 20px 16px;\r\n        max-height: calc(100vh - 120px);\r\n        -webkit-overflow-scrolling: touch;\r\n      }\r\n      \r\n      .lesson-header {\r\n        flex-direction: column;\r\n        text-align: center;\r\n        gap: 16px;\r\n        padding: 20px;\r\n      }\r\n      \r\n      .lesson-title {\r\n        font-size: 1.25rem;\r\n      }\r\n      \r\n      .media-grid {\r\n        grid-template-columns: 1fr;\r\n      }\r\n\r\n      .keynote-header {\r\n        gap: 12px;\r\n      }\r\n\r\n      .keynote-title {\r\n        font-size: 1rem;\r\n      }      .lesson-modal-header {\r\n        padding: 12px 16px;\r\n      }\r\n\r\n      .back-button {\r\n        width: 36px !important;\r\n        height: 36px !important;\r\n      }\r\n\r\n      .back-button mat-icon {\r\n        font-size: 18px;\r\n        width: 18px;\r\n        height: 18px;\r\n      }\r\n    }    /* Scrollbar styling */\r\n    .lesson-modal-content::-webkit-scrollbar {\r\n      width: 8px;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-track {\r\n      background: #f1f1f1;\r\n      border-radius: 4px;\r\n      margin: 4px 0;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-thumb {\r\n      background: #c1c1c1;\r\n      border-radius: 4px;\r\n      border: 1px solid #f1f1f1;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-thumb:hover {\r\n      background: #a8a8a8;\r\n    }\r\n\r\n    .lesson-modal-content::-webkit-scrollbar-thumb:active {\r\n      background: #999999;\r\n    }\r\n\r\n    /* For Firefox */\r\n    .lesson-modal-content {\r\n      scrollbar-width: thin;\r\n      scrollbar-color: #c1c1c1 #f1f1f1;\r\n    }\r\n  `]\r\n})\r\nexport class LessonDetailModalComponent implements OnInit {\r\n  lessonDetail: LessonDetail | null = null;\r\n  loading = true;\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<LessonDetailModalComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: { lessonId: number, topicId: number, courseId: number },\r\n    private lessonService: LessonService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadLessonDetails(this.data.lessonId);\r\n  }\r\n\r\n  loadLessonDetails(lessonId: number): void {\r\n    this.lessonService.getLessonDetails(lessonId).subscribe({\r\n      next: (lessonDetail: LessonDetail) => {\r\n        this.lessonDetail = lessonDetail;\r\n        this.loading = false;\r\n      },\r\n      error: (error: any) => {\r\n        console.error('Error loading lesson details:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getSortedKeynotes(): LessonKeynote[] {\r\n    if (!this.lessonDetail?.keynotes) return [];\r\n    return this.lessonDetail.keynotes.sort((a, b) => {\r\n      if (a.orderSequence !== undefined && b.orderSequence !== undefined) {\r\n        return a.orderSequence - b.orderSequence;\r\n      }\r\n      return a.keynoteId - b.keynoteId;\r\n    });\r\n  }\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n"],"names":["CommonModule","FormsModule","MatFormFieldModule","MatSelectModule","MatCardModule","MatChipsModule","MatIconModule","MatProgressSpinnerModule","MatButtonModule","MatDialogModule","LessonDetailModalComponent","i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµadvance","ÉµÉµtextInterpolate1","ctx_r0","selectedCourse","title","ÉµÉµproperty","cat_r3","categoryId","ÉµÉµtextInterpolate","name","course_r4","courseId","ÉµÉµtwoWayListener","CustomerCourseViewComponent_div_8_Template_mat_select_ngModelChange_6_listener","$event","ÉµÉµrestoreView","_r2","ÉµÉµnextContext","ÉµÉµtwoWayBindingSet","selectedCategoryId","ÉµÉµresetView","ÉµÉµlistener","CustomerCourseViewComponent_div_8_Template_mat_select_selectionChange_6_listener","onCategoryChange","ÉµÉµtemplate","CustomerCourseViewComponent_div_8_mat_option_7_Template","CustomerCourseViewComponent_div_8_Template_mat_select_ngModelChange_11_listener","selectedCourseId","CustomerCourseViewComponent_div_8_Template_mat_select_selectionChange_11_listener","onCourseChange","CustomerCourseViewComponent_div_8_mat_option_12_Template","ÉµÉµtwoWayProperty","categories","filteredCourses","ÉµÉµelement","thumbnailUrl","ÉµÉµsanitizeUrl","price","CustomerCourseViewComponent_div_10_div_38_button_4_Template_button_click_0_listener","_r5","expandAll","CustomerCourseViewComponent_div_10_div_38_button_5_Template_button_click_0_listener","_r6","collapseAll","CustomerCourseViewComponent_div_10_div_38_button_4_Template","CustomerCourseViewComponent_div_10_div_38_button_5_Template","inlineExpandedTopics","size","topics","length","getTopicDuration","topic_r9","CustomerCourseViewComponent_div_10_div_39_div_18_span_6_Template","lessons","getTopicFreeCount","lesson_r11","duration","keynotes","tags","CustomerCourseViewComponent_div_10_div_39_div_19_div_4_span_8_Template","CustomerCourseViewComponent_div_10_div_39_div_19_div_4_span_11_Template","CustomerCourseViewComponent_div_10_div_39_div_19_div_4_span_12_Template","CustomerCourseViewComponent_div_10_div_39_div_19_div_4_Template_button_click_14_listener","_r10","$implicit","viewLessonDetails","lessonId","topicId","ÉµÉµclassMap","isFree","description","ÉµÉµsanitizeHtml","CustomerCourseViewComponent_div_10_div_39_div_19_div_4_Template","ÉµÉµclassProp","has","i_r8","CustomerCourseViewComponent_div_10_div_39_Template_div_click_1_listener","_r7","index","toggleTopic","CustomerCourseViewComponent_div_10_div_39_Template_button_click_15_listener","viewTopicDetails","CustomerCourseViewComponent_div_10_div_39_div_18_Template","CustomerCourseViewComponent_div_10_div_39_div_19_Template","CustomerCourseViewComponent_div_10_div_4_Template","CustomerCourseViewComponent_div_10_div_33_Template","CustomerCourseViewComponent_div_10_div_38_Template","CustomerCourseViewComponent_div_10_div_39_Template","getCategoryName","getTotalLessonsCount","getTotalDuration","ÉµÉµpipeBind1","difficultyLevel","CustomerCourseViewComponent","constructor","router","route","categoryService","courseService","authService","topicService","lessonService","dialog","courses","loading","isViewingSpecificCourse","Set","ngOnInit","snapshot","paramMap","get","parseInt","loadSpecificCourse","loadCategories","loadCourses","getCourseById","subscribe","next","course","loadTopicsForCourse","error","console","getTopicsByCourseId","loadLessonsForTopics","topicRequests","map","topic","getLessonsByTopicId","toPromise","then","Promise","all","topicsWithLessons","catch","getAllCategories","filter","cat","isPublished","getAllCourses","clear","c","find","loadTopicsFromDatabase","topicLoaders","topicIndex","delete","add","event","stopPropagation","navigate","dialogRef","open","width","height","maxWidth","maxHeight","data","panelClass","autoFocus","restoreFocus","hasBackdrop","disableClose","afterClosed","result","log","forEach","_","getDisplayLessons","slice","category","reduce","total","totalMinutes","lesson","ÉµÉµdirectiveInject","i1","Router","ActivatedRoute","i2","CategoryService","i3","CourseService","i4","AuthService","i5","TopicService","LessonService","i6","MatDialog","selectors","standalone","features","ÉµÉµStandaloneFeature","decls","vars","consts","template","CustomerCourseViewComponent_Template","rf","ctx","CustomerCourseViewComponent_p_5_Template","CustomerCourseViewComponent_p_6_Template","CustomerCourseViewComponent_div_8_Template","CustomerCourseViewComponent_div_9_Template","CustomerCourseViewComponent_div_10_Template","CustomerCourseViewComponent_div_11_Template","i7","NgForOf","NgIf","TitleCasePipe","i8","NgControlStatus","NgModel","i9","MatFormField","MatLabel","i10","MatSelect","i11","MatOption","i12","MatIcon","i13","MatProgressSpinner","i14","MatButton","MatIconButton","styles","MAT_DIALOG_DATA","MatDividerModule","lessonDetail","durationMinutes","content","keynote_r2","relatedPlanet","relatedZodiac","LessonDetailModalComponent_div_15_div_18_div_7_div_7_span_1_Template","LessonDetailModalComponent_div_15_div_18_div_7_div_7_span_2_Template","LessonDetailModalComponent_div_15_div_18_div_7_div_7_span_3_Template","isImportant","LessonDetailModalComponent_div_15_div_18_div_7_div_7_Template","i_r3","LessonDetailModalComponent_div_15_div_18_div_7_Template","getSortedKeynotes","videoUrl","audioUrl","documentUrl","LessonDetailModalComponent_div_15_div_19_a_4_Template","LessonDetailModalComponent_div_15_div_19_a_5_Template","LessonDetailModalComponent_div_15_div_19_a_6_Template","tag_r4","tagName","LessonDetailModalComponent_div_15_div_20_mat_chip_7_Template","LessonDetailModalComponent_div_15_span_8_Template","LessonDetailModalComponent_div_15_div_17_Template","LessonDetailModalComponent_div_15_div_18_Template","LessonDetailModalComponent_div_15_div_19_Template","LessonDetailModalComponent_div_15_div_20_Template","orderNumber","loadLessonDetails","getLessonDetails","sort","a","b","orderSequence","undefined","keynoteId","close","MatDialogRef","LessonDetailModalComponent_Template","LessonDetailModalComponent_Template_button_click_3_listener","LessonDetailModalComponent_Template_button_click_10_listener","LessonDetailModalComponent_div_14_Template","LessonDetailModalComponent_div_15_Template","LessonDetailModalComponent_div_16_Template","LessonDetailModalComponent_Template_button_click_18_listener","MatDialogTitle","MatDialogActions","MatDialogContent","MatChip","MatChipSet"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}