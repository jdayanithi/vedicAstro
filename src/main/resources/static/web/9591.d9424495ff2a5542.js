"use strict";(self.webpackChunkblogWeb=self.webpackChunkblogWeb||[]).push([[9591],{9591:(I,l,a)=>{a.r(l),a.d(l,{CreatePostComponent:()=>O});var r=a(9417),_=a(177),u=a(9492),t=a(4438),d=a(8498),E=a(5416),f=a(7491),m=a(6471),g=a(8834),c=a(5596),p=a(6467),C=a(9631),h=a(9213);function P(i,v){if(1&i){const e=t.RV6();t.j41(0,"mat-chip-row",12),t.bIt("removed",function(){const o=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.remove(o))}),t.EFF(1),t.j41(2,"button",13)(3,"mat-icon"),t.EFF(4,"cancel"),t.k0s()()()}if(2&i){const e=v.$implicit;t.R7$(),t.SpI(" ",e," ")}}let O=(()=>{class i{constructor(e,n,o,s){this.fb=e,this.router=n,this.snackBar=o,this.postService=s,this.tags=[]}ngOnInit(){this.postForm=this.fb.group({name:[null,r.k0.required],content:[null,[r.k0.required,r.k0.maxLength(5e3)]],img:[null,r.k0.required],postedBy:[null,r.k0.required]})}add(e){const n=(e.value||"").trim();n&&this.tags.push(n),e.chipInput.clear()}remove(e){const n=this.tags.indexOf(e);n>=0&&this.tags.splice(n,1)}createPost(){const e=this.postForm.value;e.tags=this.tags,this.postService.createNewPost(e).subscribe(n=>{this.snackBar.open("Post Created Successfully !!!!","Ok"),this.router.navigateByUrl("/")},n=>{this.snackBar.open("Something Went Wrong!!!!","Ok")})}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(r.ok),t.rXU(d.Ix),t.rXU(E.UG),t.rXU(f.K))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-create-post"]],standalone:!0,features:[t.aNF],decls:29,vars:4,consts:[["chipGrid",""],[1,"center-card"],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","name"],["matInput","","formControlName","img"],["matInput","","rows","5","formControlName","content"],["matInput","","formControlName","postedBy"],["aria-label","Enter tags"],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Tag...",3,"matChipInputTokenEnd","matChipInputFor"],["mat-raised-button","","color","primary",2,"float","right",3,"click","disabled"],[3,"removed"],["matChipRemove",""]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div")(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t.EFF(6,"Name"),t.k0s(),t.nrm(7,"input",4),t.k0s(),t.j41(8,"mat-form-field",3)(9,"mat-label"),t.EFF(10,"Img"),t.k0s(),t.nrm(11,"input",5),t.k0s(),t.j41(12,"mat-form-field",3)(13,"mat-label"),t.EFF(14,"Content"),t.k0s(),t.nrm(15,"textarea",6),t.k0s(),t.j41(16,"mat-form-field",3)(17,"mat-label"),t.EFF(18,"Posted By"),t.k0s(),t.nrm(19,"input",7),t.k0s(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Tags"),t.k0s(),t.j41(23,"mat-chip-grid",8,0),t.DNE(25,P,5,1,"mat-chip-row",9),t.j41(26,"input",10),t.bIt("matChipInputTokenEnd",function(D){return t.eBV(s),t.Njj(o.add(D))}),t.k0s()()(),t.j41(27,"button",11),t.bIt("click",function(){return t.eBV(s),t.Njj(o.createPost())}),t.EFF(28,"Create New Post"),t.k0s()()()()()}if(2&n){const s=t.sdS(24);t.R7$(3),t.Y8G("formGroup",o.postForm),t.R7$(22),t.Y8G("ngForOf",o.tags),t.R7$(),t.Y8G("matChipInputFor",s),t.R7$(),t.Y8G("disabled",!o.postForm.valid)}},dependencies:[_.MD,_.Sq,r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,u.e,m.HW,m.D7,m.Zv,m.jH,g.$z,c.RN,c.m2,p.rl,p.nJ,C.fg,h.An],styles:[".center-card[_ngcontent-%COMP%]{max-width:600px;margin:10px auto auto;padding:30px}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}return i})()}}]);